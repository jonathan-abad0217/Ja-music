(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function by(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Nt={},Ea=[],Vr=()=>{},tL=()=>!1,nL=/^on[^a-z]/,zh=e=>nL.test(e),wy=e=>e.startsWith("onUpdate:"),un=Object.assign,Ey=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},rL=Object.prototype.hasOwnProperty,at=(e,t)=>rL.call(e,t),Oe=Array.isArray,Ia=e=>Jc(e)==="[object Map]",Yh=e=>Jc(e)==="[object Set]",aI=e=>Jc(e)==="[object Date]",Ge=e=>typeof e=="function",Wt=e=>typeof e=="string",Ic=e=>typeof e=="symbol",wt=e=>e!==null&&typeof e=="object",UA=e=>(wt(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch),VA=Object.prototype.toString,Jc=e=>VA.call(e),iL=e=>Jc(e).slice(8,-1),jA=e=>Jc(e)==="[object Object]",Iy=e=>Wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yf=by(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},oL=/-(\w)/g,ci=Xh(e=>e.replace(oL,(t,n)=>n?n.toUpperCase():"")),sL=/\B([A-Z])/g,tu=Xh(e=>e.replace(sL,"-$1").toLowerCase()),Qh=Xh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sg=Xh(e=>e?`on${Qh(e)}`:""),Es=(e,t)=>!Object.is(e,t),Xf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},sh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},BA=e=>{const t=parseFloat(e);return isNaN(t)?e:t},aL=e=>{const t=Wt(e)?Number(e):NaN;return isNaN(t)?e:t};let uI;const ov=()=>uI||(uI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Na(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Wt(r)?fL(r):Na(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(Wt(e)||wt(e))return e}const uL=/;(?![^(]*\))/g,cL=/:([^]+)/,lL=/\/\*[^]*?\*\//g;function fL(e){const t={};return e.replace(lL,"").split(uL).forEach(n=>{if(n){const r=n.split(cL);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function kn(e){let t="";if(Wt(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const r=kn(e[n]);r&&(t+=r+" ")}else if(wt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const hL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dL=by(hL);function $A(e){return!!e||e===""}function pL(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Jh(e[r],t[r]);return n}function Jh(e,t){if(e===t)return!0;let n=aI(e),r=aI(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ic(e),r=Ic(t),n||r)return e===t;if(n=Oe(e),r=Oe(t),n||r)return n&&r?pL(e,t):!1;if(n=wt(e),r=wt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const c=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(c&&!f||!c&&f||!Jh(e[u],t[u]))return!1}}return String(e)===String(t)}function mL(e,t){return e.findIndex(n=>Jh(n,t))}const lt=e=>Wt(e)?e:e==null?"":Oe(e)||wt(e)&&(e.toString===VA||!Ge(e.toString))?JSON.stringify(e,qA,2):String(e),qA=(e,t)=>t&&t.__v_isRef?qA(e,t.value):Ia(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Yh(t)?{[`Set(${t.size})`]:[...t.values()]}:wt(t)&&!Oe(t)&&!jA(t)?String(t):t;let cr;class HA{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cr,!t&&cr&&(this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=cr;try{return cr=this,t()}finally{cr=n}}}on(){cr=this}off(){cr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Ty(e){return new HA(e)}function gL(e,t=cr){t&&t.active&&t.effects.push(e)}function KA(){return cr}function vL(e){cr&&cr.cleanups.push(e)}const Sy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},WA=e=>(e.w&_o)>0,GA=e=>(e.n&_o)>0,yL=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_o},_L=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];WA(o)&&!GA(o)?o.delete(e):t[n++]=o,o.w&=~_o,o.n&=~_o}t.length=n}},ah=new WeakMap;let sc=0,_o=1;const sv=30;let Fr;const gs=Symbol(""),av=Symbol("");class Ay{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,gL(this,r)}run(){if(!this.active)return this.fn();let t=Fr,n=ho;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Fr,Fr=this,ho=!0,_o=1<<++sc,sc<=sv?yL(this):cI(this),this.fn()}finally{sc<=sv&&_L(this),_o=1<<--sc,Fr=this.parent,ho=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fr===this?this.deferStop=!0:this.active&&(cI(this),this.onStop&&this.onStop(),this.active=!1)}}function cI(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ho=!0;const zA=[];function nu(){zA.push(ho),ho=!1}function ru(){const e=zA.pop();ho=e===void 0?!0:e}function nr(e,t,n){if(ho&&Fr){let r=ah.get(e);r||ah.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Sy()),YA(o)}}function YA(e,t){let n=!1;sc<=sv?GA(e)||(e.n|=_o,n=!WA(e)):n=!e.has(Fr),n&&(e.add(Fr),Fr.deps.push(e))}function Ti(e,t,n,r,o,s){const u=ah.get(e);if(!u)return;let c=[];if(t==="clear")c=[...u.values()];else if(n==="length"&&Oe(e)){const f=Number(r);u.forEach((d,g)=>{(g==="length"||g>=f)&&c.push(d)})}else switch(n!==void 0&&c.push(u.get(n)),t){case"add":Oe(e)?Iy(n)&&c.push(u.get("length")):(c.push(u.get(gs)),Ia(e)&&c.push(u.get(av)));break;case"delete":Oe(e)||(c.push(u.get(gs)),Ia(e)&&c.push(u.get(av)));break;case"set":Ia(e)&&c.push(u.get(gs));break}if(c.length===1)c[0]&&uv(c[0]);else{const f=[];for(const d of c)d&&f.push(...d);uv(Sy(f))}}function uv(e,t){const n=Oe(e)?e:[...e];for(const r of n)r.computed&&lI(r);for(const r of n)r.computed||lI(r)}function lI(e,t){(e!==Fr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function bL(e,t){var n;return(n=ah.get(e))==null?void 0:n.get(t)}const wL=by("__proto__,__v_isRef,__isVue"),XA=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ic)),fI=EL();function EL(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ot(this);for(let s=0,u=this.length;s<u;s++)nr(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(ot)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){nu();const r=ot(this)[t].apply(this,n);return ru(),r}}),e}function IL(e){const t=ot(this);return nr(t,"has",e),t.hasOwnProperty(e)}class QA{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const o=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&r===(o?s?ML:t1:s?e1:ZA).get(t))return t;const u=Oe(t);if(!o){if(u&&at(fI,n))return Reflect.get(fI,n,r);if(n==="hasOwnProperty")return IL}const c=Reflect.get(t,n,r);return(Ic(n)?XA.has(n):wL(n))||(o||nr(t,"get",n),s)?c:bt(c)?u&&Iy(n)?c:c.value:wt(c)?o?Cy(c):Ci(c):c}}class JA extends QA{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];if(Ca(s)&&bt(s)&&!bt(r))return!1;if(!this._shallow&&(!uh(r)&&!Ca(r)&&(s=ot(s),r=ot(r)),!Oe(t)&&bt(s)&&!bt(r)))return s.value=r,!0;const u=Oe(t)&&Iy(n)?Number(n)<t.length:at(t,n),c=Reflect.set(t,n,r,o);return t===ot(o)&&(u?Es(r,s)&&Ti(t,"set",n,r):Ti(t,"add",n,r)),c}deleteProperty(t,n){const r=at(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Ti(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!Ic(n)||!XA.has(n))&&nr(t,"has",n),r}ownKeys(t){return nr(t,"iterate",Oe(t)?"length":gs),Reflect.ownKeys(t)}}class TL extends QA{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const SL=new JA,AL=new TL,kL=new JA(!0),ky=e=>e,Zh=e=>Reflect.getPrototypeOf(e);function Af(e,t,n=!1,r=!1){e=e.__v_raw;const o=ot(e),s=ot(t);n||(Es(t,s)&&nr(o,"get",t),nr(o,"get",s));const{has:u}=Zh(o),c=r?ky:n?Ry:Tc;if(u.call(o,t))return c(e.get(t));if(u.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function kf(e,t=!1){const n=this.__v_raw,r=ot(n),o=ot(e);return t||(Es(e,o)&&nr(r,"has",e),nr(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Nf(e,t=!1){return e=e.__v_raw,!t&&nr(ot(e),"iterate",gs),Reflect.get(e,"size",e)}function hI(e){e=ot(e);const t=ot(this);return Zh(t).has.call(t,e)||(t.add(e),Ti(t,"add",e,e)),this}function dI(e,t){t=ot(t);const n=ot(this),{has:r,get:o}=Zh(n);let s=r.call(n,e);s||(e=ot(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?Es(t,u)&&Ti(n,"set",e,t):Ti(n,"add",e,t),this}function pI(e){const t=ot(this),{has:n,get:r}=Zh(t);let o=n.call(t,e);o||(e=ot(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&Ti(t,"delete",e,void 0),s}function mI(){const e=ot(this),t=e.size!==0,n=e.clear();return t&&Ti(e,"clear",void 0,void 0),n}function Cf(e,t){return function(r,o){const s=this,u=s.__v_raw,c=ot(u),f=t?ky:e?Ry:Tc;return!e&&nr(c,"iterate",gs),u.forEach((d,g)=>r.call(o,f(d),f(g),s))}}function Of(e,t,n){return function(...r){const o=this.__v_raw,s=ot(o),u=Ia(s),c=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=o[e](...r),g=n?ky:t?Ry:Tc;return!t&&nr(s,"iterate",f?av:gs),{next(){const{value:h,done:p}=d.next();return p?{value:h,done:p}:{value:c?[g(h[0]),g(h[1])]:g(h),done:p}},[Symbol.iterator](){return this}}}}function Hi(e){return function(...t){return e==="delete"?!1:this}}function NL(){const e={get(s){return Af(this,s)},get size(){return Nf(this)},has:kf,add:hI,set:dI,delete:pI,clear:mI,forEach:Cf(!1,!1)},t={get(s){return Af(this,s,!1,!0)},get size(){return Nf(this)},has:kf,add:hI,set:dI,delete:pI,clear:mI,forEach:Cf(!1,!0)},n={get(s){return Af(this,s,!0)},get size(){return Nf(this,!0)},has(s){return kf.call(this,s,!0)},add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear"),forEach:Cf(!0,!1)},r={get(s){return Af(this,s,!0,!0)},get size(){return Nf(this,!0)},has(s){return kf.call(this,s,!0)},add:Hi("add"),set:Hi("set"),delete:Hi("delete"),clear:Hi("clear"),forEach:Cf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Of(s,!1,!1),n[s]=Of(s,!0,!1),t[s]=Of(s,!1,!0),r[s]=Of(s,!0,!0)}),[e,n,t,r]}const[CL,OL,RL,PL]=NL();function Ny(e,t){const n=t?e?PL:RL:e?OL:CL;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(at(n,o)&&o in r?n:r,o,s)}const xL={get:Ny(!1,!1)},DL={get:Ny(!1,!0)},LL={get:Ny(!0,!1)},ZA=new WeakMap,e1=new WeakMap,t1=new WeakMap,ML=new WeakMap;function FL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function UL(e){return e.__v_skip||!Object.isExtensible(e)?0:FL(iL(e))}function Ci(e){return Ca(e)?e:Oy(e,!1,SL,xL,ZA)}function n1(e){return Oy(e,!1,kL,DL,e1)}function Cy(e){return Oy(e,!0,AL,LL,t1)}function Oy(e,t,n,r,o){if(!wt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=UL(e);if(u===0)return e;const c=new Proxy(e,u===2?r:n);return o.set(e,c),c}function po(e){return Ca(e)?po(e.__v_raw):!!(e&&e.__v_isReactive)}function Ca(e){return!!(e&&e.__v_isReadonly)}function uh(e){return!!(e&&e.__v_isShallow)}function r1(e){return po(e)||Ca(e)}function ot(e){const t=e&&e.__v_raw;return t?ot(t):e}function ed(e){return sh(e,"__v_skip",!0),e}const Tc=e=>wt(e)?Ci(e):e,Ry=e=>wt(e)?Cy(e):e;function i1(e){ho&&Fr&&(e=ot(e),YA(e.dep||(e.dep=Sy())))}function o1(e,t){e=ot(e);const n=e.dep;n&&uv(n)}function bt(e){return!!(e&&e.__v_isRef===!0)}function Ct(e){return s1(e,!1)}function Py(e){return s1(e,!0)}function s1(e,t){return bt(e)?e:new VL(e,t)}class VL{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ot(t),this._value=n?t:Tc(t)}get value(){return i1(this),this._value}set value(t){const n=this.__v_isShallow||uh(t)||Ca(t);t=n?t:ot(t),Es(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Tc(t),o1(this))}}function nt(e){return bt(e)?e.value:e}function Ft(e){return Ge(e)?e():nt(e)}const jL={get:(e,t,n)=>nt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return bt(o)&&!bt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function a1(e){return po(e)?e:new Proxy(e,jL)}function BL(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=u1(e,n);return t}class $L{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bL(ot(this._object),this._key)}}class qL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function oo(e,t,n){return bt(e)?e:Ge(e)?new qL(e):wt(e)&&arguments.length>1?u1(e,t,n):Ct(e)}function u1(e,t,n){const r=e[t];return bt(r)?r:new $L(e,t,n)}class HL{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ay(t,()=>{this._dirty||(this._dirty=!0,o1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=ot(this);return i1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function KL(e,t,n=!1){let r,o;const s=Ge(e);return s?(r=e,o=Vr):(r=e.get,o=e.set),new HL(r,o,s||!o,n)}function mo(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){td(s,t,n)}return o}function kr(e,t,n,r){if(Ge(e)){const s=mo(e,t,n,r);return s&&UA(s)&&s.catch(u=>{td(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(kr(e[s],t,n,r));return o}function td(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,c=n;for(;s;){const d=s.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,c)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){mo(f,null,10,[e,u,c]);return}}WL(e,n,o,r)}function WL(e,t,n,r=!0){console.error(e)}let Sc=!1,cv=!1;const An=[];let ii=0;const Ta=[];let bi=null,ss=0;const c1=Promise.resolve();let xy=null;function ni(e){const t=xy||c1;return e?t.then(this?e.bind(this):e):t}function GL(e){let t=ii+1,n=An.length;for(;t<n;){const r=t+n>>>1;Ac(An[r])<e?t=r+1:n=r}return t}function Dy(e){(!An.length||!An.includes(e,Sc&&e.allowRecurse?ii+1:ii))&&(e.id==null?An.push(e):An.splice(GL(e.id),0,e),l1())}function l1(){!Sc&&!cv&&(cv=!0,xy=c1.then(h1))}function zL(e){const t=An.indexOf(e);t>ii&&An.splice(t,1)}function YL(e){Oe(e)?Ta.push(...e):(!bi||!bi.includes(e,e.allowRecurse?ss+1:ss))&&Ta.push(e),l1()}function gI(e,t=Sc?ii+1:0){for(;t<An.length;t++){const n=An[t];n&&n.pre&&(An.splice(t,1),t--,n())}}function f1(e){if(Ta.length){const t=[...new Set(Ta)];if(Ta.length=0,bi){bi.push(...t);return}for(bi=t,bi.sort((n,r)=>Ac(n)-Ac(r)),ss=0;ss<bi.length;ss++)bi[ss]();bi=null,ss=0}}const Ac=e=>e.id==null?1/0:e.id,XL=(e,t)=>{const n=Ac(e)-Ac(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function h1(e){cv=!1,Sc=!0,An.sort(XL);const t=Vr;try{for(ii=0;ii<An.length;ii++){const n=An[ii];n&&n.active!==!1&&mo(n,null,14)}}finally{ii=0,An.length=0,f1(),Sc=!1,xy=null,(An.length||Ta.length)&&h1()}}function QL(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nt;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:p}=r[g]||Nt;p&&(o=n.map(v=>Wt(v)?v.trim():v)),h&&(o=n.map(BA))}let c,f=r[c=Sg(t)]||r[c=Sg(ci(t))];!f&&s&&(f=r[c=Sg(tu(t))]),f&&kr(f,e,6,o);const d=r[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,kr(d,e,6,o)}}function d1(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},c=!1;if(!Ge(e)){const f=d=>{const g=d1(d,t,!0);g&&(c=!0,un(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!c?(wt(e)&&r.set(e,null),null):(Oe(s)?s.forEach(f=>u[f]=null):un(u,s),wt(e)&&r.set(e,u),u)}function nd(e,t){return!e||!zh(t)?!1:(t=t.slice(2).replace(/Once$/,""),at(e,t[0].toLowerCase()+t.slice(1))||at(e,tu(t))||at(e,t))}let Zn=null,p1=null;function ch(e){const t=Zn;return Zn=e,p1=e&&e.type.__scopeId||null,t}function $n(e,t=Zn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&NI(-1);const s=ch(t);let u;try{u=e(...o)}finally{ch(s),r._d&&NI(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function Ag(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:c,attrs:f,emit:d,render:g,renderCache:h,data:p,setupState:v,ctx:_,inheritAttrs:E}=e;let S,b;const k=ch(e);try{if(n.shapeFlag&4){const C=o||r;S=ri(g.call(C,C,h,s,v,p,_)),b=f}else{const C=t;S=ri(C.length>1?C(s,{attrs:f,slots:c,emit:d}):C(s,null)),b=t.props?f:JL(f)}}catch(C){hc.length=0,td(C,e,1),S=xe(jr)}let x=S;if(b&&E!==!1){const C=Object.keys(b),{shapeFlag:U}=x;C.length&&U&7&&(u&&C.some(wy)&&(b=ZL(b,u)),x=bo(x,b))}return n.dirs&&(x=bo(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),S=x,ch(k),S}const JL=e=>{let t;for(const n in e)(n==="class"||n==="style"||zh(n))&&((t||(t={}))[n]=e[n]);return t},ZL=(e,t)=>{const n={};for(const r in e)(!wy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function eM(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:c,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?vI(r,u,d):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const p=g[h];if(u[p]!==r[p]&&!nd(d,p))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===u?!1:r?u?vI(r,u,d):!0:!!u;return!1}function vI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!nd(n,s))return!0}return!1}function tM({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const nM=e=>e.__isSuspense;function rM(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):YL(e)}function iM(e,t){return Ly(e,null,t)}const Rf={};function Cn(e,t,n){return Ly(e,t,n)}function Ly(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=Nt){var c;const f=KA()===((c=nn)==null?void 0:c.scope)?nn:null;let d,g=!1,h=!1;if(bt(e)?(d=()=>e.value,g=uh(e)):po(e)?(d=()=>e,r=!0):Oe(e)?(h=!0,g=e.some(C=>po(C)||uh(C)),d=()=>e.map(C=>{if(bt(C))return C.value;if(po(C))return ls(C);if(Ge(C))return mo(C,f,2)})):Ge(e)?t?d=()=>mo(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return p&&p(),kr(e,f,3,[v])}:d=Vr,t&&r){const C=d;d=()=>ls(C())}let p,v=C=>{p=k.onStop=()=>{mo(C,f,4)}},_;if(Cc)if(v=Vr,t?n&&kr(t,f,3,[d(),h?[]:void 0,v]):d(),o==="sync"){const C=QM();_=C.__watcherHandles||(C.__watcherHandles=[])}else return Vr;let E=h?new Array(e.length).fill(Rf):Rf;const S=()=>{if(!!k.active)if(t){const C=k.run();(r||g||(h?C.some((U,D)=>Es(U,E[D])):Es(C,E)))&&(p&&p(),kr(t,f,3,[C,E===Rf?void 0:h&&E[0]===Rf?[]:E,v]),E=C)}else k.run()};S.allowRecurse=!!t;let b;o==="sync"?b=S:o==="post"?b=()=>Qn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),b=()=>Dy(S));const k=new Ay(d,b);t?n?S():E=k.run():o==="post"?Qn(k.run.bind(k),f&&f.suspense):k.run();const x=()=>{k.stop(),f&&f.scope&&Ey(f.scope.effects,k)};return _&&_.push(x),x}function oM(e,t,n){const r=this.proxy,o=Wt(e)?e.includes(".")?m1(r,e):()=>r[e]:e.bind(r,r);let s;Ge(t)?s=t:(s=t.handler,n=t);const u=nn;Ra(this);const c=Ly(o,s.bind(r),n);return u?Ra(u):vs(),c}function m1(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function ls(e,t){if(!wt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),bt(e))ls(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)ls(e[n],t);else if(Yh(e)||Ia(e))e.forEach(n=>{ls(n,t)});else if(jA(e))for(const n in e)ls(e[n],t);return e}function lh(e,t){const n=Zn;if(n===null)return e;const r=ad(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,c,f,d=Nt]=t[s];u&&(Ge(u)&&(u={mounted:u,updated:u}),u.deep&&ls(c),o.push({dir:u,instance:r,value:c,oldValue:void 0,arg:f,modifiers:d}))}return e}function Zo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const c=o[u];s&&(c.oldValue=s[u].value);let f=c.dir[r];f&&(nu(),kr(f,n,8,[e.el,c,e,t]),ru())}}const to=Symbol("_leaveCb"),Pf=Symbol("_enterCb");function sM(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zc(()=>{e.isMounted=!0}),My(()=>{e.isUnmounting=!0}),e}const Ir=[Function,Array],g1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ir,onEnter:Ir,onAfterEnter:Ir,onEnterCancelled:Ir,onBeforeLeave:Ir,onLeave:Ir,onAfterLeave:Ir,onLeaveCancelled:Ir,onBeforeAppear:Ir,onAppear:Ir,onAfterAppear:Ir,onAppearCancelled:Ir},aM={name:"BaseTransition",props:g1,setup(e,{slots:t}){const n=li(),r=sM();let o;return()=>{const s=t.default&&y1(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const E of s)if(E.type!==jr){u=E;break}}const c=ot(e),{mode:f}=c;if(r.isLeaving)return kg(u);const d=yI(u);if(!d)return kg(u);const g=lv(d,c,r,n);fv(d,g);const h=n.subTree,p=h&&yI(h);let v=!1;const{getTransitionKey:_}=d.type;if(_){const E=_();o===void 0?o=E:E!==o&&(o=E,v=!0)}if(p&&p.type!==jr&&(!as(d,p)||v)){const E=lv(p,c,r,n);if(fv(p,E),f==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},kg(u);f==="in-out"&&d.type!==jr&&(E.delayLeave=(S,b,k)=>{const x=v1(r,p);x[String(p.key)]=p,S[to]=()=>{b(),S[to]=void 0,delete g.delayedLeave},g.delayedLeave=k})}return u}}},uM=aM;function v1(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function lv(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:E,onAppear:S,onAfterAppear:b,onAppearCancelled:k}=t,x=String(e.key),C=v1(n,e),U=(j,q)=>{j&&kr(j,r,9,q)},D=(j,q)=>{const P=q[1];U(j,q),Oe(j)?j.every(Ie=>Ie.length<=1)&&P():j.length<=1&&P()},Y={mode:s,persisted:u,beforeEnter(j){let q=c;if(!n.isMounted)if(o)q=E||c;else return;j[to]&&j[to](!0);const P=C[x];P&&as(e,P)&&P.el[to]&&P.el[to](),U(q,[j])},enter(j){let q=f,P=d,Ie=g;if(!n.isMounted)if(o)q=S||f,P=b||d,Ie=k||g;else return;let ie=!1;const we=j[Pf]=De=>{ie||(ie=!0,De?U(Ie,[j]):U(P,[j]),Y.delayedLeave&&Y.delayedLeave(),j[Pf]=void 0)};q?D(q,[j,we]):we()},leave(j,q){const P=String(e.key);if(j[Pf]&&j[Pf](!0),n.isUnmounting)return q();U(h,[j]);let Ie=!1;const ie=j[to]=we=>{Ie||(Ie=!0,q(),we?U(_,[j]):U(v,[j]),j[to]=void 0,C[P]===e&&delete C[P])};C[P]=e,p?D(p,[j,ie]):ie()},clone(j){return lv(j,t,n,r)}};return Y}function kg(e){if(rd(e))return e=bo(e),e.children=null,e}function yI(e){return rd(e)?e.children?e.children[0]:void 0:e}function fv(e,t){e.shapeFlag&6&&e.component?fv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function y1(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const c=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Kt?(u.patchFlag&128&&o++,r=r.concat(y1(u.children,t,c))):(t||u.type!==jr)&&r.push(c!=null?bo(u,{key:c}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function So(e,t){return Ge(e)?(()=>un({name:e.name},t,{setup:e}))():e}const Qf=e=>!!e.type.__asyncLoader,rd=e=>e.type.__isKeepAlive;function cM(e,t){_1(e,"a",t)}function lM(e,t){_1(e,"da",t)}function _1(e,t,n=nn){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(id(t,r,n),n){let o=n.parent;for(;o&&o.parent;)rd(o.parent.vnode)&&fM(r,t,n,o),o=o.parent}}function fM(e,t,n,r){const o=id(t,e,r,!0);Fy(()=>{Ey(r[t],o)},n)}function id(e,t,n=nn,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;nu(),Ra(n);const c=kr(t,n,e,u);return vs(),ru(),c});return r?o.unshift(s):o.push(s),s}}const Pi=e=>(t,n=nn)=>(!Cc||e==="sp")&&id(e,(...r)=>t(...r),n),b1=Pi("bm"),Zc=Pi("m"),hM=Pi("bu"),dM=Pi("u"),My=Pi("bum"),Fy=Pi("um"),pM=Pi("sp"),mM=Pi("rtg"),gM=Pi("rtc");function vM(e,t=nn){id("ec",e,t)}const Uy="components",yM="directives";function Lt(e,t){return Vy(Uy,e,!0,t)||e}const w1=Symbol.for("v-ndc");function od(e){return Wt(e)?Vy(Uy,e,!1)||e:e||w1}function _M(e){return Vy(yM,e)}function Vy(e,t,n=!0,r=!1){const o=Zn||nn;if(o){const s=o.type;if(e===Uy){const c=zM(s,!1);if(c&&(c===t||c===ci(t)||c===Qh(ci(t))))return s}const u=_I(o[e]||s[e],t)||_I(o.appContext[e],t);return!u&&r?s:u}}function _I(e,t){return e&&(e[t]||e[ci(t)]||e[Qh(ci(t))])}function el(e,t,n,r){let o;const s=n&&n[r];if(Oe(e)||Wt(e)){o=new Array(e.length);for(let u=0,c=e.length;u<c;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(wt(e))if(e[Symbol.iterator])o=Array.from(e,(u,c)=>t(u,c,void 0,s&&s[c]));else{const u=Object.keys(e);o=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const d=u[c];o[c]=t(e[d],d,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}const hv=e=>e?x1(e)?ad(e)||e.proxy:hv(e.parent):null,fc=un(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hv(e.parent),$root:e=>hv(e.root),$emit:e=>e.emit,$options:e=>jy(e),$forceUpdate:e=>e.f||(e.f=()=>Dy(e.update)),$nextTick:e=>e.n||(e.n=ni.bind(e.proxy)),$watch:e=>oM.bind(e)}),Ng=(e,t)=>e!==Nt&&!e.__isScriptSetup&&at(e,t),bM={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:c,appContext:f}=e;let d;if(t[0]!=="$"){const v=u[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Ng(r,t))return u[t]=1,r[t];if(o!==Nt&&at(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&at(d,t))return u[t]=3,s[t];if(n!==Nt&&at(n,t))return u[t]=4,n[t];dv&&(u[t]=0)}}const g=fc[t];let h,p;if(g)return t==="$attrs"&&nr(e,"get",t),g(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==Nt&&at(n,t))return u[t]=4,n[t];if(p=f.config.globalProperties,at(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Ng(o,t)?(o[t]=n,!0):r!==Nt&&at(r,t)?(r[t]=n,!0):at(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let c;return!!n[u]||e!==Nt&&at(e,u)||Ng(t,u)||(c=s[0])&&at(c,u)||at(r,u)||at(fc,u)||at(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:at(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function bI(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let dv=!0;function wM(e){const t=jy(e),n=e.proxy,r=e.ctx;dv=!1,t.beforeCreate&&wI(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:c,provide:f,inject:d,created:g,beforeMount:h,mounted:p,beforeUpdate:v,updated:_,activated:E,deactivated:S,beforeDestroy:b,beforeUnmount:k,destroyed:x,unmounted:C,render:U,renderTracked:D,renderTriggered:Y,errorCaptured:j,serverPrefetch:q,expose:P,inheritAttrs:Ie,components:ie,directives:we,filters:De}=t;if(d&&EM(d,r,null),u)for(const Le in u){const he=u[Le];Ge(he)&&(r[Le]=he.bind(n))}if(o){const Le=o.call(n,n);wt(Le)&&(e.data=Ci(Le))}if(dv=!0,s)for(const Le in s){const he=s[Le],st=Ge(he)?he.bind(n,n):Ge(he.get)?he.get.bind(n,n):Vr,yt=!Ge(he)&&Ge(he.set)?he.set.bind(n):Vr,At=Fe({get:st,set:yt});Object.defineProperty(r,Le,{enumerable:!0,configurable:!0,get:()=>At.value,set:It=>At.value=It})}if(c)for(const Le in c)E1(c[Le],r,n,Le);if(f){const Le=Ge(f)?f.call(n):f;Reflect.ownKeys(Le).forEach(he=>{Sa(he,Le[he])})}g&&wI(g,e,"c");function ce(Le,he){Oe(he)?he.forEach(st=>Le(st.bind(n))):he&&Le(he.bind(n))}if(ce(b1,h),ce(Zc,p),ce(hM,v),ce(dM,_),ce(cM,E),ce(lM,S),ce(vM,j),ce(gM,D),ce(mM,Y),ce(My,k),ce(Fy,C),ce(pM,q),Oe(P))if(P.length){const Le=e.exposed||(e.exposed={});P.forEach(he=>{Object.defineProperty(Le,he,{get:()=>n[he],set:st=>n[he]=st})})}else e.exposed||(e.exposed={});U&&e.render===Vr&&(e.render=U),Ie!=null&&(e.inheritAttrs=Ie),ie&&(e.components=ie),we&&(e.directives=we)}function EM(e,t,n=Vr){Oe(e)&&(e=pv(e));for(const r in e){const o=e[r];let s;wt(o)?"default"in o?s=mr(o.from||r,o.default,!0):s=mr(o.from||r):s=mr(o),bt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function wI(e,t,n){kr(Oe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function E1(e,t,n,r){const o=r.includes(".")?m1(n,r):()=>n[r];if(Wt(e)){const s=t[e];Ge(s)&&Cn(o,s)}else if(Ge(e))Cn(o,e.bind(n));else if(wt(e))if(Oe(e))e.forEach(s=>E1(s,t,n,r));else{const s=Ge(e.handler)?e.handler.bind(n):t[e.handler];Ge(s)&&Cn(o,s,e)}}function jy(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,c=s.get(t);let f;return c?f=c:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>fh(f,d,u,!0)),fh(f,t,u)),wt(t)&&s.set(t,f),f}function fh(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&fh(e,s,n,!0),o&&o.forEach(u=>fh(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const c=IM[u]||n&&n[u];e[u]=c?c(e[u],t[u]):t[u]}return e}const IM={data:EI,props:II,emits:II,methods:ac,computed:ac,beforeCreate:Mn,created:Mn,beforeMount:Mn,mounted:Mn,beforeUpdate:Mn,updated:Mn,beforeDestroy:Mn,beforeUnmount:Mn,destroyed:Mn,unmounted:Mn,activated:Mn,deactivated:Mn,errorCaptured:Mn,serverPrefetch:Mn,components:ac,directives:ac,watch:SM,provide:EI,inject:TM};function EI(e,t){return t?e?function(){return un(Ge(e)?e.call(this,this):e,Ge(t)?t.call(this,this):t)}:t:e}function TM(e,t){return ac(pv(e),pv(t))}function pv(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Mn(e,t){return e?[...new Set([].concat(e,t))]:t}function ac(e,t){return e?un(Object.create(null),e,t):t}function II(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:un(Object.create(null),bI(e),bI(t!=null?t:{})):t}function SM(e,t){if(!e)return t;if(!t)return e;const n=un(Object.create(null),e);for(const r in t)n[r]=Mn(e[r],t[r]);return n}function I1(){return{app:null,config:{isNativeTag:tL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let AM=0;function kM(e,t){return function(r,o=null){Ge(r)||(r=un({},r)),o!=null&&!wt(o)&&(o=null);const s=I1(),u=new WeakSet;let c=!1;const f=s.app={_uid:AM++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:JM,get config(){return s.config},set config(d){},use(d,...g){return u.has(d)||(d&&Ge(d.install)?(u.add(d),d.install(f,...g)):Ge(d)&&(u.add(d),d(f,...g))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,g){return g?(s.components[d]=g,f):s.components[d]},directive(d,g){return g?(s.directives[d]=g,f):s.directives[d]},mount(d,g,h){if(!c){const p=xe(r,o);return p.appContext=s,g&&t?t(p,d):e(p,d,h),c=!0,f._container=d,d.__vue_app__=f,ad(p.component)||p.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,g){return s.provides[d]=g,f},runWithContext(d){kc=f;try{return d()}finally{kc=null}}};return f}}let kc=null;function Sa(e,t){if(nn){let n=nn.provides;const r=nn.parent&&nn.parent.provides;r===n&&(n=nn.provides=Object.create(r)),n[e]=t}}function mr(e,t,n=!1){const r=nn||Zn;if(r||kc){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:kc._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ge(t)?t.call(r&&r.proxy):t}}function NM(){return!!(nn||Zn||kc)}function CM(e,t,n,r=!1){const o={},s={};sh(s,sd,1),e.propsDefaults=Object.create(null),T1(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:n1(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function OM(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,c=ot(o),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let p=g[h];if(nd(e.emitsOptions,p))continue;const v=t[p];if(f)if(at(s,p))v!==s[p]&&(s[p]=v,d=!0);else{const _=ci(p);o[_]=mv(f,c,_,v,e,!1)}else v!==s[p]&&(s[p]=v,d=!0)}}}else{T1(e,t,o,s)&&(d=!0);let g;for(const h in c)(!t||!at(t,h)&&((g=tu(h))===h||!at(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=mv(f,c,h,void 0,e,!0)):delete o[h]);if(s!==c)for(const h in s)(!t||!at(t,h)&&!0)&&(delete s[h],d=!0)}d&&Ti(e,"set","$attrs")}function T1(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,c;if(t)for(let f in t){if(Yf(f))continue;const d=t[f];let g;o&&at(o,g=ci(f))?!s||!s.includes(g)?n[g]=d:(c||(c={}))[g]=d:nd(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(s){const f=ot(n),d=c||Nt;for(let g=0;g<s.length;g++){const h=s[g];n[h]=mv(o,f,h,d[h],e,!at(d,h))}}return u}function mv(e,t,n,r,o,s){const u=e[n];if(u!=null){const c=at(u,"default");if(c&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Ge(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(Ra(o),r=d[n]=f.call(null,t),vs())}else r=f}u[0]&&(s&&!c?r=!1:u[1]&&(r===""||r===tu(n))&&(r=!0))}return r}function S1(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},c=[];let f=!1;if(!Ge(e)){const g=h=>{f=!0;const[p,v]=S1(h,t,!0);un(u,p),v&&c.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return wt(e)&&r.set(e,Ea),Ea;if(Oe(s))for(let g=0;g<s.length;g++){const h=ci(s[g]);TI(h)&&(u[h]=Nt)}else if(s)for(const g in s){const h=ci(g);if(TI(h)){const p=s[g],v=u[h]=Oe(p)||Ge(p)?{type:p}:un({},p);if(v){const _=kI(Boolean,v.type),E=kI(String,v.type);v[0]=_>-1,v[1]=E<0||_<E,(_>-1||at(v,"default"))&&c.push(h)}}}const d=[u,c];return wt(e)&&r.set(e,d),d}function TI(e){return e[0]!=="$"}function SI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function AI(e,t){return SI(e)===SI(t)}function kI(e,t){return Oe(t)?t.findIndex(n=>AI(n,e)):Ge(t)&&AI(t,e)?0:-1}const A1=e=>e[0]==="_"||e==="$stable",By=e=>Oe(e)?e.map(ri):[ri(e)],RM=(e,t,n)=>{if(t._n)return t;const r=$n((...o)=>By(t(...o)),n);return r._c=!1,r},k1=(e,t,n)=>{const r=e._ctx;for(const o in e){if(A1(o))continue;const s=e[o];if(Ge(s))t[o]=RM(o,s,r);else if(s!=null){const u=By(s);t[o]=()=>u}}},N1=(e,t)=>{const n=By(t);e.slots.default=()=>n},PM=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ot(t),sh(t,"_",n)):k1(t,e.slots={})}else e.slots={},t&&N1(e,t);sh(e.slots,sd,1)},xM=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=Nt;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(un(o,t),!n&&c===1&&delete o._):(s=!t.$stable,k1(t,o)),u=t}else t&&(N1(e,t),u={default:1});if(s)for(const c in o)!A1(c)&&u[c]==null&&delete o[c]};function gv(e,t,n,r,o=!1){if(Oe(e)){e.forEach((p,v)=>gv(p,t&&(Oe(t)?t[v]:t),n,r,o));return}if(Qf(r)&&!o)return;const s=r.shapeFlag&4?ad(r.component)||r.component.proxy:r.el,u=o?null:s,{i:c,r:f}=e,d=t&&t.r,g=c.refs===Nt?c.refs={}:c.refs,h=c.setupState;if(d!=null&&d!==f&&(Wt(d)?(g[d]=null,at(h,d)&&(h[d]=null)):bt(d)&&(d.value=null)),Ge(f))mo(f,c,12,[u,g]);else{const p=Wt(f),v=bt(f);if(p||v){const _=()=>{if(e.f){const E=p?at(h,f)?h[f]:g[f]:f.value;o?Oe(E)&&Ey(E,s):Oe(E)?E.includes(s)||E.push(s):p?(g[f]=[s],at(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else p?(g[f]=u,at(h,f)&&(h[f]=u)):v&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,Qn(_,n)):_()}}}const Qn=rM;function DM(e){return LM(e)}function LM(e,t){const n=ov();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:c,createComment:f,setText:d,setElementText:g,parentNode:h,nextSibling:p,setScopeId:v=Vr,insertStaticContent:_}=e,E=(O,T,I,N=null,L=null,B=null,Q=!1,ee=null,oe=!!T.dynamicChildren)=>{if(O===T)return;O&&!as(O,T)&&(N=$(O),It(O,L,B,!0),O=null),T.patchFlag===-2&&(oe=!1,T.dynamicChildren=null);const{type:ne,ref:fe,shapeFlag:V}=T;switch(ne){case tl:S(O,T,I,N);break;case jr:b(O,T,I,N);break;case Cg:O==null&&k(T,I,N,Q);break;case Kt:ie(O,T,I,N,L,B,Q,ee,oe);break;default:V&1?U(O,T,I,N,L,B,Q,ee,oe):V&6?we(O,T,I,N,L,B,Q,ee,oe):(V&64||V&128)&&ne.process(O,T,I,N,L,B,Q,ee,oe,se)}fe!=null&&L&&gv(fe,O&&O.ref,B,T||O,!T)},S=(O,T,I,N)=>{if(O==null)r(T.el=c(T.children),I,N);else{const L=T.el=O.el;T.children!==O.children&&d(L,T.children)}},b=(O,T,I,N)=>{O==null?r(T.el=f(T.children||""),I,N):T.el=O.el},k=(O,T,I,N)=>{[O.el,O.anchor]=_(O.children,T,I,N,O.el,O.anchor)},x=({el:O,anchor:T},I,N)=>{let L;for(;O&&O!==T;)L=p(O),r(O,I,N),O=L;r(T,I,N)},C=({el:O,anchor:T})=>{let I;for(;O&&O!==T;)I=p(O),o(O),O=I;o(T)},U=(O,T,I,N,L,B,Q,ee,oe)=>{Q=Q||T.type==="svg",O==null?D(T,I,N,L,B,Q,ee,oe):q(O,T,L,B,Q,ee,oe)},D=(O,T,I,N,L,B,Q,ee)=>{let oe,ne;const{type:fe,props:V,shapeFlag:K,transition:Te,dirs:ke}=O;if(oe=O.el=u(O.type,B,V&&V.is,V),K&8?g(oe,O.children):K&16&&j(O.children,oe,null,N,L,B&&fe!=="foreignObject",Q,ee),ke&&Zo(O,null,N,"created"),Y(oe,O,O.scopeId,Q,N),V){for(const F in V)F!=="value"&&!Yf(F)&&s(oe,F,null,V[F],B,O.children,N,L,ve);"value"in V&&s(oe,"value",null,V.value),(ne=V.onVnodeBeforeMount)&&Zr(ne,N,O)}ke&&Zo(O,null,N,"beforeMount");const Se=(!L||L&&!L.pendingBranch)&&Te&&!Te.persisted;Se&&Te.beforeEnter(oe),r(oe,T,I),((ne=V&&V.onVnodeMounted)||Se||ke)&&Qn(()=>{ne&&Zr(ne,N,O),Se&&Te.enter(oe),ke&&Zo(O,null,N,"mounted")},L)},Y=(O,T,I,N,L)=>{if(I&&v(O,I),N)for(let B=0;B<N.length;B++)v(O,N[B]);if(L){let B=L.subTree;if(T===B){const Q=L.vnode;Y(O,Q,Q.scopeId,Q.slotScopeIds,L.parent)}}},j=(O,T,I,N,L,B,Q,ee,oe=0)=>{for(let ne=oe;ne<O.length;ne++){const fe=O[ne]=ee?no(O[ne]):ri(O[ne]);E(null,fe,T,I,N,L,B,Q,ee)}},q=(O,T,I,N,L,B,Q)=>{const ee=T.el=O.el;let{patchFlag:oe,dynamicChildren:ne,dirs:fe}=T;oe|=O.patchFlag&16;const V=O.props||Nt,K=T.props||Nt;let Te;I&&es(I,!1),(Te=K.onVnodeBeforeUpdate)&&Zr(Te,I,T,O),fe&&Zo(T,O,I,"beforeUpdate"),I&&es(I,!0);const ke=L&&T.type!=="foreignObject";if(ne?P(O.dynamicChildren,ne,ee,I,N,ke,B):Q||he(O,T,ee,null,I,N,ke,B,!1),oe>0){if(oe&16)Ie(ee,T,V,K,I,N,L);else if(oe&2&&V.class!==K.class&&s(ee,"class",null,K.class,L),oe&4&&s(ee,"style",V.style,K.style,L),oe&8){const Se=T.dynamicProps;for(let F=0;F<Se.length;F++){const M=Se[F],J=V[M],de=K[M];(de!==J||M==="value")&&s(ee,M,J,de,L,O.children,I,N,ve)}}oe&1&&O.children!==T.children&&g(ee,T.children)}else!Q&&ne==null&&Ie(ee,T,V,K,I,N,L);((Te=K.onVnodeUpdated)||fe)&&Qn(()=>{Te&&Zr(Te,I,T,O),fe&&Zo(T,O,I,"updated")},N)},P=(O,T,I,N,L,B,Q)=>{for(let ee=0;ee<T.length;ee++){const oe=O[ee],ne=T[ee],fe=oe.el&&(oe.type===Kt||!as(oe,ne)||oe.shapeFlag&70)?h(oe.el):I;E(oe,ne,fe,null,N,L,B,Q,!0)}},Ie=(O,T,I,N,L,B,Q)=>{if(I!==N){if(I!==Nt)for(const ee in I)!Yf(ee)&&!(ee in N)&&s(O,ee,I[ee],null,Q,T.children,L,B,ve);for(const ee in N){if(Yf(ee))continue;const oe=N[ee],ne=I[ee];oe!==ne&&ee!=="value"&&s(O,ee,ne,oe,Q,T.children,L,B,ve)}"value"in N&&s(O,"value",I.value,N.value)}},ie=(O,T,I,N,L,B,Q,ee,oe)=>{const ne=T.el=O?O.el:c(""),fe=T.anchor=O?O.anchor:c("");let{patchFlag:V,dynamicChildren:K,slotScopeIds:Te}=T;Te&&(ee=ee?ee.concat(Te):Te),O==null?(r(ne,I,N),r(fe,I,N),j(T.children,I,fe,L,B,Q,ee,oe)):V>0&&V&64&&K&&O.dynamicChildren?(P(O.dynamicChildren,K,I,L,B,Q,ee),(T.key!=null||L&&T===L.subTree)&&C1(O,T,!0)):he(O,T,I,fe,L,B,Q,ee,oe)},we=(O,T,I,N,L,B,Q,ee,oe)=>{T.slotScopeIds=ee,O==null?T.shapeFlag&512?L.ctx.activate(T,I,N,Q,oe):De(T,I,N,L,B,Q,oe):qe(O,T,oe)},De=(O,T,I,N,L,B,Q)=>{const ee=O.component=qM(O,N,L);if(rd(O)&&(ee.ctx.renderer=se),HM(ee),ee.asyncDep){if(L&&L.registerDep(ee,ce),!O.el){const oe=ee.subTree=xe(jr);b(null,oe,T,I)}return}ce(ee,O,T,I,L,B,Q)},qe=(O,T,I)=>{const N=T.component=O.component;if(eM(O,T,I))if(N.asyncDep&&!N.asyncResolved){Le(N,T,I);return}else N.next=T,zL(N.update),N.update();else T.el=O.el,N.vnode=T},ce=(O,T,I,N,L,B,Q)=>{const ee=()=>{if(O.isMounted){let{next:fe,bu:V,u:K,parent:Te,vnode:ke}=O,Se=fe,F;es(O,!1),fe?(fe.el=ke.el,Le(O,fe,Q)):fe=ke,V&&Xf(V),(F=fe.props&&fe.props.onVnodeBeforeUpdate)&&Zr(F,Te,fe,ke),es(O,!0);const M=Ag(O),J=O.subTree;O.subTree=M,E(J,M,h(J.el),$(J),O,L,B),fe.el=M.el,Se===null&&tM(O,M.el),K&&Qn(K,L),(F=fe.props&&fe.props.onVnodeUpdated)&&Qn(()=>Zr(F,Te,fe,ke),L)}else{let fe;const{el:V,props:K}=T,{bm:Te,m:ke,parent:Se}=O,F=Qf(T);if(es(O,!1),Te&&Xf(Te),!F&&(fe=K&&K.onVnodeBeforeMount)&&Zr(fe,Se,T),es(O,!0),V&&Re){const M=()=>{O.subTree=Ag(O),Re(V,O.subTree,O,L,null)};F?T.type.__asyncLoader().then(()=>!O.isUnmounted&&M()):M()}else{const M=O.subTree=Ag(O);E(null,M,I,N,O,L,B),T.el=M.el}if(ke&&Qn(ke,L),!F&&(fe=K&&K.onVnodeMounted)){const M=T;Qn(()=>Zr(fe,Se,M),L)}(T.shapeFlag&256||Se&&Qf(Se.vnode)&&Se.vnode.shapeFlag&256)&&O.a&&Qn(O.a,L),O.isMounted=!0,T=I=N=null}},oe=O.effect=new Ay(ee,()=>Dy(ne),O.scope),ne=O.update=()=>oe.run();ne.id=O.uid,es(O,!0),ne()},Le=(O,T,I)=>{T.component=O;const N=O.vnode.props;O.vnode=T,O.next=null,OM(O,T.props,N,I),xM(O,T.children,I),nu(),gI(),ru()},he=(O,T,I,N,L,B,Q,ee,oe=!1)=>{const ne=O&&O.children,fe=O?O.shapeFlag:0,V=T.children,{patchFlag:K,shapeFlag:Te}=T;if(K>0){if(K&128){yt(ne,V,I,N,L,B,Q,ee,oe);return}else if(K&256){st(ne,V,I,N,L,B,Q,ee,oe);return}}Te&8?(fe&16&&ve(ne,L,B),V!==ne&&g(I,V)):fe&16?Te&16?yt(ne,V,I,N,L,B,Q,ee,oe):ve(ne,L,B,!0):(fe&8&&g(I,""),Te&16&&j(V,I,N,L,B,Q,ee,oe))},st=(O,T,I,N,L,B,Q,ee,oe)=>{O=O||Ea,T=T||Ea;const ne=O.length,fe=T.length,V=Math.min(ne,fe);let K;for(K=0;K<V;K++){const Te=T[K]=oe?no(T[K]):ri(T[K]);E(O[K],Te,I,null,L,B,Q,ee,oe)}ne>fe?ve(O,L,B,!0,!1,V):j(T,I,N,L,B,Q,ee,oe,V)},yt=(O,T,I,N,L,B,Q,ee,oe)=>{let ne=0;const fe=T.length;let V=O.length-1,K=fe-1;for(;ne<=V&&ne<=K;){const Te=O[ne],ke=T[ne]=oe?no(T[ne]):ri(T[ne]);if(as(Te,ke))E(Te,ke,I,null,L,B,Q,ee,oe);else break;ne++}for(;ne<=V&&ne<=K;){const Te=O[V],ke=T[K]=oe?no(T[K]):ri(T[K]);if(as(Te,ke))E(Te,ke,I,null,L,B,Q,ee,oe);else break;V--,K--}if(ne>V){if(ne<=K){const Te=K+1,ke=Te<fe?T[Te].el:N;for(;ne<=K;)E(null,T[ne]=oe?no(T[ne]):ri(T[ne]),I,ke,L,B,Q,ee,oe),ne++}}else if(ne>K)for(;ne<=V;)It(O[ne],L,B,!0),ne++;else{const Te=ne,ke=ne,Se=new Map;for(ne=ke;ne<=K;ne++){const Be=T[ne]=oe?no(T[ne]):ri(T[ne]);Be.key!=null&&Se.set(Be.key,ne)}let F,M=0;const J=K-ke+1;let de=!1,_e=0;const Ve=new Array(J);for(ne=0;ne<J;ne++)Ve[ne]=0;for(ne=Te;ne<=V;ne++){const Be=O[ne];if(M>=J){It(Be,L,B,!0);continue}let ze;if(Be.key!=null)ze=Se.get(Be.key);else for(F=ke;F<=K;F++)if(Ve[F-ke]===0&&as(Be,T[F])){ze=F;break}ze===void 0?It(Be,L,B,!0):(Ve[ze-ke]=ne+1,ze>=_e?_e=ze:de=!0,E(Be,T[ze],I,null,L,B,Q,ee,oe),M++)}const Ye=de?MM(Ve):Ea;for(F=Ye.length-1,ne=J-1;ne>=0;ne--){const Be=ke+ne,ze=T[Be],He=Be+1<fe?T[Be+1].el:N;Ve[ne]===0?E(null,ze,I,He,L,B,Q,ee,oe):de&&(F<0||ne!==Ye[F]?At(ze,I,He,2):F--)}}},At=(O,T,I,N,L=null)=>{const{el:B,type:Q,transition:ee,children:oe,shapeFlag:ne}=O;if(ne&6){At(O.component.subTree,T,I,N);return}if(ne&128){O.suspense.move(T,I,N);return}if(ne&64){Q.move(O,T,I,se);return}if(Q===Kt){r(B,T,I);for(let V=0;V<oe.length;V++)At(oe[V],T,I,N);r(O.anchor,T,I);return}if(Q===Cg){x(O,T,I);return}if(N!==2&&ne&1&&ee)if(N===0)ee.beforeEnter(B),r(B,T,I),Qn(()=>ee.enter(B),L);else{const{leave:V,delayLeave:K,afterLeave:Te}=ee,ke=()=>r(B,T,I),Se=()=>{V(B,()=>{ke(),Te&&Te()})};K?K(B,ke,Se):Se()}else r(B,T,I)},It=(O,T,I,N=!1,L=!1)=>{const{type:B,props:Q,ref:ee,children:oe,dynamicChildren:ne,shapeFlag:fe,patchFlag:V,dirs:K}=O;if(ee!=null&&gv(ee,null,I,O,!0),fe&256){T.ctx.deactivate(O);return}const Te=fe&1&&K,ke=!Qf(O);let Se;if(ke&&(Se=Q&&Q.onVnodeBeforeUnmount)&&Zr(Se,T,O),fe&6)ge(O.component,I,N);else{if(fe&128){O.suspense.unmount(I,N);return}Te&&Zo(O,null,T,"beforeUnmount"),fe&64?O.type.remove(O,T,I,L,se,N):ne&&(B!==Kt||V>0&&V&64)?ve(ne,T,I,!1,!0):(B===Kt&&V&384||!L&&fe&16)&&ve(oe,T,I),N&&ft(O)}(ke&&(Se=Q&&Q.onVnodeUnmounted)||Te)&&Qn(()=>{Se&&Zr(Se,T,O),Te&&Zo(O,null,T,"unmounted")},I)},ft=O=>{const{type:T,el:I,anchor:N,transition:L}=O;if(T===Kt){en(I,N);return}if(T===Cg){C(O);return}const B=()=>{o(I),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(O.shapeFlag&1&&L&&!L.persisted){const{leave:Q,delayLeave:ee}=L,oe=()=>Q(I,B);ee?ee(O.el,B,oe):oe()}else B()},en=(O,T)=>{let I;for(;O!==T;)I=p(O),o(O),O=I;o(T)},ge=(O,T,I)=>{const{bum:N,scope:L,update:B,subTree:Q,um:ee}=O;N&&Xf(N),L.stop(),B&&(B.active=!1,It(Q,O,T,I)),ee&&Qn(ee,T),Qn(()=>{O.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},ve=(O,T,I,N=!1,L=!1,B=0)=>{for(let Q=B;Q<O.length;Q++)It(O[Q],T,I,N,L)},$=O=>O.shapeFlag&6?$(O.component.subTree):O.shapeFlag&128?O.suspense.next():p(O.anchor||O.el),z=(O,T,I)=>{O==null?T._vnode&&It(T._vnode,null,null,!0):E(T._vnode||null,O,T,null,null,null,I),gI(),f1(),T._vnode=O},se={p:E,um:It,m:At,r:ft,mt:De,mc:j,pc:he,pbc:P,n:$,o:e};let le,Re;return t&&([le,Re]=t(se)),{render:z,hydrate:le,createApp:kM(z,le)}}function es({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function C1(e,t,n=!1){const r=e.children,o=t.children;if(Oe(r)&&Oe(o))for(let s=0;s<r.length;s++){const u=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=no(o[s]),c.el=u.el),n||C1(u,c)),c.type===tl&&(c.el=u.el)}}function MM(e){const t=e.slice(),n=[0];let r,o,s,u,c;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)c=s+u>>1,e[n[c]]<d?s=c+1:u=c;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const FM=e=>e.__isTeleport,Kt=Symbol.for("v-fgt"),tl=Symbol.for("v-txt"),jr=Symbol.for("v-cmt"),Cg=Symbol.for("v-stc"),hc=[];let Ur=null;function rt(e=!1){hc.push(Ur=e?null:[])}function UM(){hc.pop(),Ur=hc[hc.length-1]||null}let Nc=1;function NI(e){Nc+=e}function O1(e){return e.dynamicChildren=Nc>0?Ur||Ea:null,UM(),Nc>0&&Ur&&Ur.push(e),e}function gt(e,t,n,r,o,s){return O1(W(e,t,n,r,o,s,!0))}function Is(e,t,n,r,o){return O1(xe(e,t,n,r,o,!0))}function vv(e){return e?e.__v_isVNode===!0:!1}function as(e,t){return e.type===t.type&&e.key===t.key}const sd="__vInternal",R1=({key:e})=>e!=null?e:null,Jf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Wt(e)||bt(e)||Ge(e)?{i:Zn,r:e,k:t,f:!!n}:e:null);function W(e,t=null,n=null,r=0,o=null,s=e===Kt?0:1,u=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&R1(t),ref:t&&Jf(t),scopeId:p1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Zn};return c?($y(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Wt(n)?8:16),Nc>0&&!u&&Ur&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Ur.push(f),f}const xe=VM;function VM(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===w1)&&(e=jr),vv(e)){const c=bo(e,t,!0);return n&&$y(c,n),Nc>0&&!s&&Ur&&(c.shapeFlag&6?Ur[Ur.indexOf(e)]=c:Ur.push(c)),c.patchFlag|=-2,c}if(YM(e)&&(e=e.__vccOpts),t){t=jM(t);let{class:c,style:f}=t;c&&!Wt(c)&&(t.class=kn(c)),wt(f)&&(r1(f)&&!Oe(f)&&(f=un({},f)),t.style=Na(f))}const u=Wt(e)?1:nM(e)?128:FM(e)?64:wt(e)?4:Ge(e)?2:0;return W(e,t,n,r,o,u,s,!0)}function jM(e){return e?r1(e)||sd in e?un({},e):e:null}function bo(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,c=t?P1(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&R1(c),ref:t&&t.ref?n&&o?Oe(o)?o.concat(Jf(t)):[o,Jf(t)]:Jf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Kt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bo(e.ssContent),ssFallback:e.ssFallback&&bo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function go(e=" ",t=0){return xe(tl,null,e,t)}function Oa(e="",t=!1){return t?(rt(),Is(jr,null,e)):xe(jr,null,e)}function ri(e){return e==null||typeof e=="boolean"?xe(jr):Oe(e)?xe(Kt,null,e.slice()):typeof e=="object"?no(e):xe(tl,null,String(e))}function no(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bo(e)}function $y(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),$y(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(sd in t)?t._ctx=Zn:o===3&&Zn&&(Zn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ge(t)?(t={default:t,_ctx:Zn},n=32):(t=String(t),r&64?(n=16,t=[go(t)]):n=8);e.children=t,e.shapeFlag|=n}function P1(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=kn([t.class,r.class]));else if(o==="style")t.style=Na([t.style,r.style]);else if(zh(o)){const s=t[o],u=r[o];u&&s!==u&&!(Oe(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Zr(e,t,n,r=null){kr(e,t,7,[n,r])}const BM=I1();let $M=0;function qM(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||BM,s={uid:$M++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new HA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:S1(r,o),emitsOptions:d1(r,o),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=QL.bind(null,s),e.ce&&e.ce(s),s}let nn=null;const li=()=>nn||Zn;let qy,ca,CI="__VUE_INSTANCE_SETTERS__";(ca=ov()[CI])||(ca=ov()[CI]=[]),ca.push(e=>nn=e),qy=e=>{ca.length>1?ca.forEach(t=>t(e)):ca[0](e)};const Ra=e=>{qy(e),e.scope.on()},vs=()=>{nn&&nn.scope.off(),qy(null)};function x1(e){return e.vnode.shapeFlag&4}let Cc=!1;function HM(e,t=!1){Cc=t;const{props:n,children:r}=e.vnode,o=x1(e);CM(e,n,o,t),PM(e,r);const s=o?KM(e,t):void 0;return Cc=!1,s}function KM(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ed(new Proxy(e.ctx,bM));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?GM(e):null;Ra(e),nu();const s=mo(r,e,0,[e.props,o]);if(ru(),vs(),UA(s)){if(s.then(vs,vs),t)return s.then(u=>{OI(e,u,t)}).catch(u=>{td(u,e,0)});e.asyncDep=s}else OI(e,s,t)}else D1(e,t)}function OI(e,t,n){Ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:wt(t)&&(e.setupState=a1(t)),D1(e,n)}let RI;function D1(e,t,n){const r=e.type;if(!e.render){if(!t&&RI&&!r.render){const o=r.template||jy(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:c,compilerOptions:f}=r,d=un(un({isCustomElement:s,delimiters:c},u),f);r.render=RI(o,d)}}e.render=r.render||Vr}{Ra(e),nu();try{wM(e)}finally{ru(),vs()}}}function WM(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return nr(e,"get","$attrs"),t[n]}}))}function GM(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return WM(e)},slots:e.slots,emit:e.emit,expose:t}}function ad(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(a1(ed(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fc)return fc[n](e)},has(t,n){return n in t||n in fc}}))}function zM(e,t=!0){return Ge(e)?e.displayName||e.name:e.name||t&&e.__name}function YM(e){return Ge(e)&&"__vccOpts"in e}const Fe=(e,t)=>KL(e,t,Cc);function Oi(e,t,n){const r=arguments.length;return r===2?wt(t)&&!Oe(t)?vv(t)?xe(e,null,[t]):xe(e,t):xe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vv(n)&&(n=[n]),xe(e,t,n))}const XM=Symbol.for("v-scx"),QM=()=>mr(XM),JM="3.3.6",ZM="http://www.w3.org/2000/svg",us=typeof document<"u"?document:null,PI=us&&us.createElement("template"),eF={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?us.createElementNS(ZM,e):us.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>us.createTextNode(e),createComment:e=>us.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>us.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{PI.innerHTML=r?`<svg>${e}</svg>`:e;const c=PI.content;if(r){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ki="transition",Qu="animation",Oc=Symbol("_vtc"),Hy=(e,{slots:t})=>Oi(uM,tF(e),t);Hy.displayName="Transition";const L1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Hy.props=un({},g1,L1);const ts=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},xI=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function tF(e){const t={};for(const ie in e)ie in L1||(t[ie]=e[ie]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=u,appearToClass:g=c,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,_=nF(o),E=_&&_[0],S=_&&_[1],{onBeforeEnter:b,onEnter:k,onEnterCancelled:x,onLeave:C,onLeaveCancelled:U,onBeforeAppear:D=b,onAppear:Y=k,onAppearCancelled:j=x}=t,q=(ie,we,De)=>{ns(ie,we?g:c),ns(ie,we?d:u),De&&De()},P=(ie,we)=>{ie._isLeaving=!1,ns(ie,h),ns(ie,v),ns(ie,p),we&&we()},Ie=ie=>(we,De)=>{const qe=ie?Y:k,ce=()=>q(we,ie,De);ts(qe,[we,ce]),DI(()=>{ns(we,ie?f:s),Wi(we,ie?g:c),xI(qe)||LI(we,r,E,ce)})};return un(t,{onBeforeEnter(ie){ts(b,[ie]),Wi(ie,s),Wi(ie,u)},onBeforeAppear(ie){ts(D,[ie]),Wi(ie,f),Wi(ie,d)},onEnter:Ie(!1),onAppear:Ie(!0),onLeave(ie,we){ie._isLeaving=!0;const De=()=>P(ie,we);Wi(ie,h),oF(),Wi(ie,p),DI(()=>{!ie._isLeaving||(ns(ie,h),Wi(ie,v),xI(C)||LI(ie,r,S,De))}),ts(C,[ie,De])},onEnterCancelled(ie){q(ie,!1),ts(x,[ie])},onAppearCancelled(ie){q(ie,!0),ts(j,[ie])},onLeaveCancelled(ie){P(ie),ts(U,[ie])}})}function nF(e){if(e==null)return null;if(wt(e))return[Og(e.enter),Og(e.leave)];{const t=Og(e);return[t,t]}}function Og(e){return aL(e)}function Wi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Oc]||(e[Oc]=new Set)).add(t)}function ns(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Oc];n&&(n.delete(t),n.size||(e[Oc]=void 0))}function DI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let rF=0;function LI(e,t,n,r){const o=e._endId=++rF,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:c,propCount:f}=iF(e,t);if(!u)return r();const d=u+"end";let g=0;const h=()=>{e.removeEventListener(d,p),s()},p=v=>{v.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},c+1),e.addEventListener(d,p)}function iF(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Ki}Delay`),s=r(`${Ki}Duration`),u=MI(o,s),c=r(`${Qu}Delay`),f=r(`${Qu}Duration`),d=MI(c,f);let g=null,h=0,p=0;t===Ki?u>0&&(g=Ki,h=u,p=s.length):t===Qu?d>0&&(g=Qu,h=d,p=f.length):(h=Math.max(u,d),g=h>0?u>d?Ki:Qu:null,p=g?g===Ki?s.length:f.length:0);const v=g===Ki&&/\b(transform|all)(,|$)/.test(r(`${Ki}Property`).toString());return{type:g,timeout:h,propCount:p,hasTransform:v}}function MI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>FI(n)+FI(e[r])))}function FI(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function oF(){return document.body.offsetHeight}function sF(e,t,n){const r=e[Oc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ky=Symbol("_vod"),UI={beforeMount(e,{value:t},{transition:n}){e[Ky]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ju(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ju(e,!0),r.enter(e)):r.leave(e,()=>{Ju(e,!1)}):Ju(e,t))},beforeUnmount(e,{value:t}){Ju(e,t)}};function Ju(e,t){e.style.display=t?e[Ky]:"none"}function aF(e,t,n){const r=e.style,o=Wt(n);if(n&&!o){if(t&&!Wt(t))for(const s in t)n[s]==null&&yv(r,s,"");for(const s in n)yv(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),Ky in e&&(r.display=s)}}const VI=/\s*!important$/;function yv(e,t,n){if(Oe(n))n.forEach(r=>yv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=uF(e,t);VI.test(n)?e.setProperty(tu(r),n.replace(VI,""),"important"):e[r]=n}}const jI=["Webkit","Moz","ms"],Rg={};function uF(e,t){const n=Rg[t];if(n)return n;let r=ci(t);if(r!=="filter"&&r in e)return Rg[t]=r;r=Qh(r);for(let o=0;o<jI.length;o++){const s=jI[o]+r;if(s in e)return Rg[t]=s}return t}const BI="http://www.w3.org/1999/xlink";function cF(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(BI,t.slice(6,t.length)):e.setAttributeNS(BI,t,n);else{const s=dL(t);n==null||s&&!$A(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function lF(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n==null?"":n;return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const d=c==="OPTION"?e.getAttribute("value"):e.value,g=n==null?"":n;d!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=$A(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function M1(e,t,n,r){e.addEventListener(t,n,r)}function fF(e,t,n,r){e.removeEventListener(t,n,r)}const $I=Symbol("_vei");function hF(e,t,n,r,o=null){const s=e[$I]||(e[$I]={}),u=s[t];if(r&&u)u.value=r;else{const[c,f]=dF(t);if(r){const d=s[t]=gF(r,o);M1(e,c,d,f)}else u&&(fF(e,c,u,f),s[t]=void 0)}}const qI=/(?:Once|Passive|Capture)$/;function dF(e){let t;if(qI.test(e)){t={};let r;for(;r=e.match(qI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):tu(e.slice(2)),t]}let Pg=0;const pF=Promise.resolve(),mF=()=>Pg||(pF.then(()=>Pg=0),Pg=Date.now());function gF(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;kr(vF(r,n.value),t,5,[r])};return n.value=e,n.attached=mF(),n}function vF(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const HI=/^on[a-z]/,yF=(e,t,n,r,o=!1,s,u,c,f)=>{t==="class"?sF(e,r,o):t==="style"?aF(e,n,r):zh(t)?wy(t)||hF(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_F(e,t,r,o))?lF(e,t,r,s,u,c,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),cF(e,t,r,o))};function _F(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&HI.test(t)&&Ge(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||HI.test(t)&&Wt(n)?!1:t in e}const KI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>Xf(t,n):t},xg=Symbol("_assign"),bF={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Yh(t);M1(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?BA(hh(u)):hh(u));e[xg](e.multiple?o?new Set(s):s:s[0])}),e[xg]=KI(r)},mounted(e,{value:t}){WI(e,t)},beforeUpdate(e,t,n){e[xg]=KI(n)},updated(e,{value:t}){WI(e,t)}};function WI(e,t){const n=e.multiple;if(!(n&&!Oe(t)&&!Yh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=hh(s);if(n)Oe(t)?s.selected=mL(t,u)>-1:s.selected=t.has(u);else if(Jh(hh(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function hh(e){return"_value"in e?e._value:e.value}const wF=["ctrl","shift","alt","meta"],EF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wF.some(n=>e[`${n}Key`]&&!t.includes(n))},fn=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=EF[t[o]];if(s&&s(n,t))return}return e(n,...r)},IF=un({patchProp:yF},eF);let GI;function TF(){return GI||(GI=DM(IF))}const SF=(...e)=>{const t=TF().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=AF(r);if(!o)return;const s=t._component;!Ge(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function AF(e){return Wt(e)?document.querySelector(e):e}var kF=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let F1;const ud=e=>F1=e,U1=Symbol();function _v(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var dc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(dc||(dc={}));function NF(){const e=Ty(!0),t=e.run(()=>Ct({}));let n=[],r=[];const o=ed({install(s){ud(o),o._a=s,s.provide(U1,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!kF?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const V1=()=>{};function zI(e,t,n,r=V1){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&KA()&&vL(o),o}function la(e,...t){e.slice().forEach(n=>{n(...t)})}const CF=e=>e();function bv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];_v(o)&&_v(r)&&e.hasOwnProperty(n)&&!bt(r)&&!po(r)?e[n]=bv(o,r):e[n]=r}return e}const OF=Symbol();function RF(e){return!_v(e)||!e.hasOwnProperty(OF)}const{assign:eo}=Object;function PF(e){return!!(bt(e)&&e.effect)}function xF(e,t,n,r){const{state:o,actions:s,getters:u}=t,c=n.state.value[e];let f;function d(){c||(n.state.value[e]=o?o():{});const g=BL(n.state.value[e]);return eo(g,s,Object.keys(u||{}).reduce((h,p)=>(h[p]=ed(Fe(()=>{ud(n);const v=n._s.get(e);return u[p].call(v,v)})),h),{}))}return f=j1(e,d,t,n,r,!0),f}function j1(e,t,n={},r,o,s){let u;const c=eo({actions:{}},n),f={deep:!0};let d,g,h=[],p=[],v;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),Ct({});let E;function S(j){let q;d=g=!1,typeof j=="function"?(j(r.state.value[e]),q={type:dc.patchFunction,storeId:e,events:v}):(bv(r.state.value[e],j),q={type:dc.patchObject,payload:j,storeId:e,events:v});const P=E=Symbol();ni().then(()=>{E===P&&(d=!0)}),g=!0,la(h,q,r.state.value[e])}const b=s?function(){const{state:q}=n,P=q?q():{};this.$patch(Ie=>{eo(Ie,P)})}:V1;function k(){u.stop(),h=[],p=[],r._s.delete(e)}function x(j,q){return function(){ud(r);const P=Array.from(arguments),Ie=[],ie=[];function we(ce){Ie.push(ce)}function De(ce){ie.push(ce)}la(p,{args:P,name:j,store:U,after:we,onError:De});let qe;try{qe=q.apply(this&&this.$id===e?this:U,P)}catch(ce){throw la(ie,ce),ce}return qe instanceof Promise?qe.then(ce=>(la(Ie,ce),ce)).catch(ce=>(la(ie,ce),Promise.reject(ce))):(la(Ie,qe),qe)}}const C={_p:r,$id:e,$onAction:zI.bind(null,p),$patch:S,$reset:b,$subscribe(j,q={}){const P=zI(h,j,q.detached,()=>Ie()),Ie=u.run(()=>Cn(()=>r.state.value[e],ie=>{(q.flush==="sync"?g:d)&&j({storeId:e,type:dc.direct,events:v},ie)},eo({},f,q)));return P},$dispose:k},U=Ci(C);r._s.set(e,U);const Y=(r._a&&r._a.runWithContext||CF)(()=>r._e.run(()=>(u=Ty()).run(t)));for(const j in Y){const q=Y[j];if(bt(q)&&!PF(q)||po(q))s||(_&&RF(q)&&(bt(q)?q.value=_[j]:bv(q,_[j])),r.state.value[e][j]=q);else if(typeof q=="function"){const P=x(j,q);Y[j]=P,c.actions[j]=q}}return eo(U,Y),eo(ot(U),Y),Object.defineProperty(U,"$state",{get:()=>r.state.value[e],set:j=>{S(q=>{eo(q,j)})}}),r._p.forEach(j=>{eo(U,u.run(()=>j({store:U,app:r._a,pinia:r,options:c})))}),_&&s&&n.hydrate&&n.hydrate(U.$state,_),d=!0,g=!0,U}function Wy(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(c,f){const d=NM();return c=c||(d?mr(U1,null):null),c&&ud(c),c=F1,c._s.has(r)||(s?j1(r,t,o,c):xF(r,o,c)),c._s.get(r)}return u.$id=r,u}let DF="Store";function LF(...e){return e.reduce((t,n)=>(t[n.$id+DF]=function(){return n(this.$pinia)},t),{})}function dh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function cd(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function B1(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const wv=Wy("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var Ev=function(e,t){return Ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Ev(e,t)};function Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ev(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Pa=function(){return Pa=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pa.apply(this,arguments)};function Z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function c(g){try{d(r.next(g))}catch(h){u(h)}}function f(g){try{d(r.throw(g))}catch(h){u(h)}}function d(g){g.done?s(g.value):o(g.value).then(c,f)}d((r=r.apply(e,t||[])).next())})}function X(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(d){return function(g){return f([d,g])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(g){d=[6,g],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Dg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){u={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function xt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},MF=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},FF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,c=u?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|c>>4,p=(c&15)<<2|d>>6,v=d&63;f||(v=64,u||(p=64)),r.push(n[g],n[h],n[p],n[v])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):MF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,c=u?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||c==null||d==null||h==null)throw Error();var p=s<<2|c>>4;if(r.push(p),d!==64){var v=c<<4&240|d>>2;if(r.push(v),h!==64){var _=d<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},UF=function(e){var t=$1(e);return FF.encodeByteArray(t,!0)},YI=function(e){return UF(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(e){return Rc(void 0,e)}function Rc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!jF(r)||(e[r]=Rc(e[r],t[r]));return e}function jF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BF=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Pa({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[YI(JSON.stringify(n)),YI(JSON.stringify(u)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ts())}function H1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qF(){return typeof self=="object"&&self.self===self}function HF(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function KF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WF(){return Ts().indexOf("Electron/")>=0}function GF(){var e=Ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zF(){return Ts().indexOf("MSAppHost/")>=0}function YF(){return!H1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF="FirebaseError",K1=function(e){Pe(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=XF,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Gy.prototype.create),s}return t}(Error),Gy=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],c=u?QF(u,o):"Error",f=this.serviceName+": "+c+" ("+s+").",d=new K1(s,f,o);return d},e}();function QF(e,t){return e.replace(JF,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var JF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ZF(e,t){var n=new eU(e,t);return n.subscribe.bind(n)}var eU=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tU(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Lg),s.error===void 0&&(s.error=Lg),s.complete===void 0&&(s.complete=Lg);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function tU(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e){return e&&e._delegate?e._delegate:e}var nl=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new BF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(iU(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}try{for(var o=Dg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=xf(s.value,2),c=u[0],f=u[1],d=this.normalizeInstanceIdentifier(c);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=is),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(xt(xt([],xf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),xf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=is),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=is),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Dg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=xf(d.value,2),h=g[0],p=g[1],v=this.normalizeInstanceIdentifier(h);u===v&&p.resolve(c)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(!!s)try{for(var u=Dg(s),c=u.next();!c.done;c=u.next()){var f=c.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rU(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=is),this.component?this.component.multipleInstances?t:is:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function rU(e){return e===is?void 0:e}function iU(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new nU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Lr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,c=s.length;u<c;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs,zy=[],ct;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ct||(ct={}));var W1={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},sU=ct.INFO,aU=(rs={},rs[ct.DEBUG]="log",rs[ct.VERBOSE]="log",rs[ct.INFO]="info",rs[ct.WARN]="warn",rs[ct.ERROR]="error",rs),uU=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=aU[t];if(s)console[s].apply(console,Lr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},G1=function(){function e(t){this.name=t,this._logLevel=sU,this._logHandler=uU,this._userLogHandler=null,zy.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ct))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?W1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,ct.DEBUG],t)),this._logHandler.apply(this,Lr([this,ct.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,ct.VERBOSE],t)),this._logHandler.apply(this,Lr([this,ct.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,ct.INFO],t)),this._logHandler.apply(this,Lr([this,ct.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,ct.WARN],t)),this._logHandler.apply(this,Lr([this,ct.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Lr([this,ct.ERROR],t)),this._logHandler.apply(this,Lr([this,ct.ERROR],t))},e}();function cU(e){zy.forEach(function(t){t.setLogLevel(e)})}function lU(e,t){for(var n=function(u){var c=null;t&&t.level&&(c=W1[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,d){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var p=g.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");d>=(c!=null?c:f.logLevel)&&e({level:ct[d].toLowerCase(),message:p,args:g,type:f.name})}},r=0,o=zy;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi,fU=(Gi={},Gi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Gi["bad-app-name"]="Illegal App name: '{$appName}",Gi["duplicate-app"]="Firebase App named '{$appName}' already exists",Gi["app-deleted"]="Firebase App named '{$appName}' already deleted",Gi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Gi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Gi),pa=new Gy("app","Firebase",fU),z1="@firebase/app",hU="0.6.30",dU="@firebase/analytics",pU="@firebase/app-check",mU="@firebase/auth",gU="@firebase/database",vU="@firebase/functions",yU="@firebase/installations",_U="@firebase/messaging",bU="@firebase/performance",wU="@firebase/remote-config",EU="@firebase/storage",IU="@firebase/firestore",TU="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,ph="[DEFAULT]",SU=(In={},In[z1]="fire-core",In[dU]="fire-analytics",In[pU]="fire-app-check",In[mU]="fire-auth",In[gU]="fire-rtdb",In[vU]="fire-fn",In[yU]="fire-iid",In[_U]="fire-fcm",In[bU]="fire-perf",In[wU]="fire-rc",In[EU]="fire-gcs",In[IU]="fire-fst",In["fire-js"]="fire-js",In[TU]="fire-js-all",In);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xa=new G1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=VF(t),this.container=new oU(n.name),this._addComponent(new nl("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=ph),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=ph),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){xa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw pa.create("app-deleted",{appName:this.name_})},e}();Zf.prototype.name&&Zf.prototype.options||Zf.prototype.delete||console.log("dc");var AU="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:cU,onLog:g,apps:null,SDK_VERSION:AU,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(p){delete t[p]}function s(p){if(p=p||ph,!XI(t,p))throw pa.create("no-app",{appName:p});return t[p]}s.App=e;function u(p,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var _=v;v={name:_}}var E=v;E.name===void 0&&(E.name=ph);var S=E.name;if(typeof S!="string"||!S)throw pa.create("bad-app-name",{appName:String(S)});if(XI(t,S))throw pa.create("duplicate-app",{appName:S});var b=new e(p,E,r);return t[S]=b,b}function c(){return Object.keys(t).map(function(p){return t[p]})}function f(p){var v=p.name;if(n.has(v))return xa.debug("There were multiple attempts to register component "+v+"."),p.type==="PUBLIC"?r[v]:null;if(n.set(v,p),p.type==="PUBLIC"){var _=function(k){if(k===void 0&&(k=s()),typeof k[v]!="function")throw pa.create("invalid-app-argument",{appName:v});return k[v]()};p.serviceProps!==void 0&&Rc(_,p.serviceProps),r[v]=_,e.prototype[v]=function(){for(var k=[],x=0;x<arguments.length;x++)k[x]=arguments[x];var C=this._getService.bind(this,v);return C.apply(this,p.multipleInstances?k:[])}}for(var E=0,S=Object.keys(t);E<S.length;E++){var b=S[E];t[b]._addComponent(p)}return p.type==="PUBLIC"?r[v]:null}function d(p,v,_){var E,S=(E=SU[p])!==null&&E!==void 0?E:p;_&&(S+="-"+_);var b=S.match(/\s|\//),k=v.match(/\s|\//);if(b||k){var x=['Unable to register library "'+S+'" with version "'+v+'":'];b&&x.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),b&&k&&x.push("and"),k&&x.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),xa.warn(x.join(" "));return}f(new nl(S+"-version",function(){return{library:S,version:v}},"VERSION"))}function g(p,v){if(p!==null&&typeof p!="function")throw pa.create("invalid-log-argument");lU(p,v)}function h(p,v){if(v==="serverAuth")return null;var _=v;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){var e=kU(Zf);e.INTERNAL=Pa(Pa({},e.INTERNAL),{createFirebaseNamespace:Y1,extendNamespace:t,createSubscribe:ZF,ErrorFactory:Gy,deepExtend:Rc});function t(n){Rc(e,n)}return e}var Yy=Y1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(CU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function CU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(e,t){e.INTERNAL.registerComponent(new nl("platform-logger",function(n){return new NU(n)},"PRIVATE")),e.registerVersion(z1,hU,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(qF()&&self.firebase!==void 0){xa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var QI=self.firebase.SDK_VERSION;QI&&QI.indexOf("LITE")>=0&&xa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var RU=Yy.initializeApp;Yy.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return H1()&&xa.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),RU.apply(void 0,e)};var Me=Yy;OU(Me);var PU="firebase",X1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Me.registerVersion(PU,X1,"app");Me.SDK_VERSION=X1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,l){i!=Array.prototype&&i!=Object.prototype&&(i[a]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var l=i[a];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,a){if(a){var l=r;i=i.split(".");for(var m=0;m<i.length-1;m++){var y=i[m];y in l||(l[y]={}),l=l[y]}i=i[i.length-1],m=l[i],a=a(m),a!=m&&a!=null&&t(l,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(A){this.b=0,this.c=void 0,this.a=[];var R=this.f();try{A(R.resolve,R.reject)}catch(G){R.reject(G)}}function l(){this.a=null}function m(A){return A instanceof a?A:new a(function(R){R(A)})}if(i)return i;l.prototype.b=function(A){if(this.a==null){this.a=[];var R=this;this.c(function(){R.g()})}this.a.push(A)};var y=r.setTimeout;l.prototype.c=function(A){y(A,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var A=this.a;this.a=[];for(var R=0;R<A.length;++R){var G=A[R];A[R]=null;try{G()}catch(te){this.f(te)}}}this.a=null},l.prototype.f=function(A){this.c(function(){throw A})},a.prototype.f=function(){function A(te){return function($e){G||(G=!0,te.call(R,$e))}}var R=this,G=!1;return{resolve:A(this.m),reject:A(this.g)}},a.prototype.m=function(A){if(A===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(A instanceof a)this.s(A);else{e:switch(typeof A){case"object":var R=A!=null;break e;case"function":R=!0;break e;default:R=!1}R?this.v(A):this.h(A)}},a.prototype.v=function(A){var R=void 0;try{R=A.then}catch(G){this.g(G);return}typeof R=="function"?this.u(R,A):this.h(A)},a.prototype.g=function(A){this.i(2,A)},a.prototype.h=function(A){this.i(1,A)},a.prototype.i=function(A,R){if(this.b!=0)throw Error("Cannot settle("+A+", "+R+"): Promise already settled in state"+this.b);this.b=A,this.c=R,this.l()},a.prototype.l=function(){if(this.a!=null){for(var A=0;A<this.a.length;++A)w.b(this.a[A]);this.a=null}};var w=new l;return a.prototype.s=function(A){var R=this.f();A.Ra(R.resolve,R.reject)},a.prototype.u=function(A,R){var G=this.f();try{A.call(R,G.resolve,G.reject)}catch(te){G.reject(te)}},a.prototype.then=function(A,R){function G(ut,cn){return typeof ut=="function"?function(vi){try{te(ut(vi))}catch(Tg){$e(Tg)}}:cn}var te,$e,pt=new a(function(ut,cn){te=ut,$e=cn});return this.Ra(G(A,te),G(R,$e)),pt},a.prototype.catch=function(A){return this.then(void 0,A)},a.prototype.Ra=function(A,R){function G(){switch(te.b){case 1:A(te.c);break;case 2:R(te.c);break;default:throw Error("Unexpected state: "+te.b)}}var te=this;this.a==null?w.b(G):this.a.push(G)},a.resolve=m,a.reject=function(A){return new a(function(R,G){G(A)})},a.race=function(A){return new a(function(R,G){for(var te=u(A),$e=te.next();!$e.done;$e=te.next())m($e.value).Ra(R,G)})},a.all=function(A){var R=u(A),G=R.next();return G.done?m([]):new a(function(te,$e){function pt(vi){return function(Tg){ut[vi]=Tg,cn--,cn==0&&te(ut)}}var ut=[],cn=0;do ut.push(void 0),cn++,m(G.value).Ra(pt(ut.length-1),$e),G=R.next();while(!G.done)})},a});var c=c||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function p(){}function v(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=v(i);return a=="array"||a=="object"&&typeof i.length=="number"}function E(i){return v(i)=="function"}function S(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,k)&&i[k]||(i[k]=++x)}var k="closure_uid_"+(1e9*Math.random()>>>0),x=0;function C(i,a,l){return i.call.apply(i.bind,arguments)}function U(i,a,l){if(!i)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,m),i.apply(a,y)}}return function(){return i.apply(a,arguments)}}function D(i,a,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?D=C:D=U,D.apply(null,arguments)}function Y(i,a){var l=Array.prototype.slice.call(arguments,1);return function(){var m=l.slice();return m.push.apply(m,arguments),i.apply(this,m)}}function j(i,a){function l(){}l.prototype=a.prototype,i.bb=a.prototype,i.prototype=new l,i.prototype.constructor=i}function q(i){return i}function P(i,a,l){this.code=ie+i,this.message=a||we[i]||"",this.a=l||null}j(P,Error),P.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},P.prototype.toJSON=function(){return this.w()};function Ie(i){var a=i&&i.code;return a?new P(a.substring(ie.length),i.message,i.serverResponse):null}var ie="auth/",we={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},De={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function qe(i){for(var a in De)if(De[a].id===i)return i=De[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var ce;ce=qe("__EID__")?"__EID__":void 0;function Le(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function he(i){if(Error.captureStackTrace)Error.captureStackTrace(this,he);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}j(he,Error),he.prototype.name="CustomError";function st(i,a){i=i.split("%s");for(var l="",m=i.length-1,y=0;y<m;y++)l+=i[y]+(y<a.length?a[y]:"%s");he.call(this,l+i[m])}j(st,he),st.prototype.name="AssertionError";function yt(i,a){throw new st("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function At(i,a){this.c=i,this.f=a,this.b=0,this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function It(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function ft(){this.b=this.a=null}var en=new At(function(){return new ve},function(i){i.reset()});ft.prototype.add=function(i,a){var l=en.get();l.set(i,a),this.b?this.b.next=l:this.a=l,this.b=l};function ge(){var i=Wb,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===a)return l;return-1},z=Array.prototype.forEach?function(i,a,l){Array.prototype.forEach.call(i,a,l)}:function(i,a,l){for(var m=i.length,y=typeof i=="string"?i.split(""):i,w=0;w<m;w++)w in y&&a.call(l,y[w],w,i)};function se(i,a){for(var l=typeof i=="string"?i.split(""):i,m=i.length-1;0<=m;--m)m in l&&a.call(void 0,l[m],m,i)}var le=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=[],y=0,w=typeof i=="string"?i.split(""):i,A=0;A<l;A++)if(A in w){var R=w[A];a.call(void 0,R,A,i)&&(m[y++]=R)}return m},Re=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=Array(l),y=typeof i=="string"?i.split(""):i,w=0;w<l;w++)w in y&&(m[w]=a.call(void 0,y[w],w,i));return m},O=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var l=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<l;y++)if(y in m&&a.call(void 0,m[y],y,i))return!0;return!1};function T(i){e:{for(var a=DP,l=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<l;y++)if(y in m&&a.call(void 0,m[y],y,i)){a=y;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function I(i,a){return 0<=$(i,a)}function N(i,a){a=$(i,a);var l;return(l=0<=a)&&Array.prototype.splice.call(i,a,1),l}function L(i,a){var l=0;se(i,function(m,y){a.call(void 0,m,y,i)&&Array.prototype.splice.call(i,y,1).length==1&&l++})}function B(i){return Array.prototype.concat.apply([],arguments)}function Q(i){var a=i.length;if(0<a){for(var l=Array(a),m=0;m<a;m++)l[m]=i[m];return l}return[]}var ee=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},oe=/&/g,ne=/</g,fe=/>/g,V=/"/g,K=/'/g,Te=/\x00/g,ke=/[\x00&<>"']/;function Se(i,a){return i.indexOf(a)!=-1}function F(i,a){return i<a?-1:i>a?1:0}var M;e:{var J=f.navigator;if(J){var de=J.userAgent;if(de){M=de;break e}}M=""}function _e(i){return Se(M,i)}function Ve(i,a){for(var l in i)a.call(void 0,i[l],l,i)}function Ye(i){for(var a in i)return!1;return!0}function Be(i){var a={},l;for(l in i)a[l]=i[l];return a}var ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function He(i,a){for(var l,m,y=1;y<arguments.length;y++){m=arguments[y];for(l in m)i[l]=m[l];for(var w=0;w<ze.length;w++)l=ze[w],Object.prototype.hasOwnProperty.call(m,l)&&(i[l]=m[l])}}function wn(i,a){e:{try{var l=i&&i.ownerDocument,m=l&&(l.defaultView||l.parentWindow);if(m=m||f,m.Element&&m.Location){var y=m;break e}}catch{}y=null}if(y&&typeof y[a]<"u"&&(!i||!(i instanceof y[a])&&(i instanceof y.Location||i instanceof y.Element))){if(S(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;yt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function En(i,a){this.a=i===Tl&&a||"",this.b=kb}En.prototype.ta=!0,En.prototype.sa=function(){return this.a},En.prototype.toString=function(){return"Const{"+this.a+"}"};function Qd(i){return i instanceof En&&i.constructor===En&&i.b===kb?i.a:(yt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var kb={},Tl={},Sl;function Nb(){if(Sl===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:q,createScript:q,createScriptURL:q})}catch(l){f.console&&f.console.error(l.message)}Sl=i}else Sl=i}return Sl}function js(i,a){this.a=a===Ob?i:""}js.prototype.ta=!0,js.prototype.sa=function(){return this.a.toString()},js.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Cb(i){return i instanceof js&&i.constructor===js?i.a:(yt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+v(i)),"type_error:TrustedResourceUrl")}function Jd(i,a){var l=Qd(i);if(!lR.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(cR,function(m,y){if(!Object.prototype.hasOwnProperty.call(a,y))throw Error('Found marker, "'+y+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(a));return m=a[y],m instanceof En?Qd(m):encodeURIComponent(String(m))}),fR(i)}var cR=/%{(\w+)}/g,lR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ob={};function fR(i){var a=Nb();return i=a?a.createScriptURL(i):i,new js(i,Ob)}function Wn(i,a){this.a=a===mu?i:""}Wn.prototype.ta=!0,Wn.prototype.sa=function(){return this.a.toString()},Wn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Al(i){return i instanceof Wn&&i.constructor===Wn?i.a:(yt("expected object of type SafeUrl, got '"+i+"' of type "+v(i)),"type_error:SafeUrl")}var hR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,dR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pb(i){if(i instanceof Wn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),Rb.test(i))i=new Wn(i,mu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(dR);i=a&&hR.test(a[1])?new Wn(i,mu):null}return i}function xb(i){return i instanceof Wn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),Rb.test(i)||(i="about:invalid#zClosurez"),new Wn(i,mu))}var mu={},Db=new Wn("about:invalid#zClosurez",mu);function Bs(i,a,l){this.a=l===Lb?i:""}Bs.prototype.ta=!0,Bs.prototype.sa=function(){return this.a.toString()},Bs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function pR(i){return i instanceof Bs&&i.constructor===Bs?i.a:(yt("expected object of type SafeHtml, got '"+i+"' of type "+v(i)),"type_error:SafeHtml")}var Lb={};function mR(i,a){wn(i,"HTMLScriptElement"),i.src=Cb(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&i.setAttribute("nonce",a)}function Mb(i,a,l,m){return i=i instanceof Wn?i:xb(i),a=a||f,l=l instanceof En?Qd(l):l||"",a.open(Al(i),l,m,void 0)}function Fb(i,a){for(var l=i.split("%s"),m="",y=Array.prototype.slice.call(arguments,1);y.length&&1<l.length;)m+=l.shift()+y.shift();return m+l.join("%s")}function Zd(i){return ke.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(oe,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(ne,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(fe,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(V,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(K,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(Te,"&#0;"))),i}function ep(i){return ep[" "](i),i}ep[" "]=p;function gR(i,a){var l=bR;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=a(i)}var vR=_e("Opera"),Nr=_e("Trident")||_e("MSIE"),Ub=_e("Edge"),yR=Ub||Nr,Vb=_e("Gecko")&&!(Se(M.toLowerCase(),"webkit")&&!_e("Edge"))&&!(_e("Trident")||_e("MSIE"))&&!_e("Edge"),_R=Se(M.toLowerCase(),"webkit")&&!_e("Edge");function jb(){var i=f.document;return i?i.documentMode:void 0}var kl;e:{var tp="",np=function(){var i=M;if(Vb)return/rv:([^\);]+)(\)|;)/.exec(i);if(Ub)return/Edge\/([\d\.]+)/.exec(i);if(Nr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(_R)return/WebKit\/(\S+)/.exec(i);if(vR)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(np&&(tp=np?np[1]:""),Nr){var rp=jb();if(rp!=null&&rp>parseFloat(tp)){kl=String(rp);break e}}kl=tp}var bR={};function Bb(i){return gR(i,function(){for(var a=0,l=ee(String(kl)).split("."),m=ee(String(i)).split("."),y=Math.max(l.length,m.length),w=0;a==0&&w<y;w++){var A=l[w]||"",R=m[w]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],R=/(\d*)(\D*)(.*)/.exec(R)||["","","",""],A[0].length==0&&R[0].length==0)break;a=F(A[1].length==0?0:parseInt(A[1],10),R[1].length==0?0:parseInt(R[1],10))||F(A[2].length==0,R[2].length==0)||F(A[2],R[2]),A=A[3],R=R[3]}while(a==0)}return 0<=a})}var ip;if(f.document&&Nr){var $b=jb();ip=$b||parseInt(kl,10)||void 0}else ip=void 0;var Mi=ip;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var wR=!Nr||9<=Number(Mi);function gu(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function qb(i,a){Ve(a,function(l,m){l&&typeof l=="object"&&l.ta&&(l=l.sa()),m=="style"?i.style.cssText=l:m=="class"?i.className=l:m=="for"?i.htmlFor=l:Hb.hasOwnProperty(m)?i.setAttribute(Hb[m],l):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?i.setAttribute(m,l):i[m]=l})}var Hb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ER(i,a,l){var m=arguments,y=document,w=String(m[0]),A=m[1];if(!wR&&A&&(A.name||A.type)){if(w=["<",w],A.name&&w.push(' name="',Zd(A.name),'"'),A.type){w.push(' type="',Zd(A.type),'"');var R={};He(R,A),delete R.type,A=R}w.push(">"),w=w.join("")}return w=Nl(y,w),A&&(typeof A=="string"?w.className=A:Array.isArray(A)?w.className=A.join(" "):qb(w,A)),2<m.length&&IR(y,w,m),w}function IR(i,a,l){function m(R){R&&a.appendChild(typeof R=="string"?i.createTextNode(R):R)}for(var y=2;y<l.length;y++){var w=l[y];if(!_(w)||S(w)&&0<w.nodeType)m(w);else{e:{if(w&&typeof w.length=="number"){if(S(w)){var A=typeof w.item=="function"||typeof w.item=="string";break e}if(E(w)){A=typeof w.item=="function";break e}}A=!1}z(A?Q(w):w,m)}}}function Nl(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function Kb(i){f.setTimeout(function(){throw i},0)}var op;function TR(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!_e("Presto")&&(i=function(){var y=Nl(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var w=y.contentWindow;y=w.document,y.open(),y.close();var A="callImmediate"+Math.random(),R=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;y=D(function(G){(R=="*"||G.origin==R)&&G.data==A&&this.port1.onmessage()},this),w.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(A,R)}}}),typeof i<"u"&&!_e("Trident")&&!_e("MSIE")){var a=new i,l={},m=l;return a.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var y=l.Hb;l.Hb=null,y()}},function(y){m.next={Hb:y},m=m.next,a.port2.postMessage(0)}}return function(y){f.setTimeout(y,0)}}function Cl(i,a){Ol||SR(),sp||(Ol(),sp=!0),Wb.add(i,a)}var Ol;function SR(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);Ol=function(){i.then(Gb)}}else Ol=function(){var a=Gb;!E(f.setImmediate)||f.Window&&f.Window.prototype&&!_e("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(op||(op=TR()),op(a)):f.setImmediate(a)}}var sp=!1,Wb=new ft;function Gb(){for(var i;i=ge();){try{i.a.call(i.b)}catch(a){Kb(a)}It(en,i)}sp=!1}function Je(i,a){if(this.a=Do,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=p)try{var l=this;i.call(a,function(m){Lo(l,vu,m)},function(m){if(!(m instanceof $s))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}Lo(l,di,m)})}catch(m){Lo(this,di,m)}}var Do=0,vu=2,di=3;function zb(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}zb.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Yb=new At(function(){return new zb},function(i){i.reset()});function ap(i,a,l){var m=Yb.get();return m.g=i,m.b=a,m.f=l,m}function Ce(i){if(i instanceof Je)return i;var a=new Je(p);return Lo(a,vu,i),a}function Rt(i){return new Je(function(a,l){l(i)})}function Xb(i,a,l){e0(i,a,l,null)||Cl(Y(a,i))}function AR(i){return new Je(function(a,l){var m=i.length,y=[];if(m)for(var w=function(te,$e){m--,y[te]=$e,m==0&&a(y)},A=function(te){l(te)},R=0,G;R<i.length;R++)G=i[R],Xb(G,Y(w,R),A);else a(y)})}function Qb(i){return new Je(function(a){var l=i.length,m=[];if(l)for(var y=function(R,G,te){l--,m[R]=G?{Qb:!0,value:te}:{Qb:!1,reason:te},l==0&&a(m)},w=0,A;w<i.length;w++)A=i[w],Xb(A,Y(y,w,!0),Y(y,w,!1));else a(m)})}Je.prototype.then=function(i,a,l){return Zb(this,E(i)?i:null,E(a)?a:null,l)},Je.prototype.$goog_Thenable=!0,e=Je.prototype,e.oa=function(i,a){return i=ap(i,i,a),i.c=!0,up(this,i),this},e.o=function(i,a){return Zb(this,null,i,a)},e.cancel=function(i){if(this.a==Do){var a=new $s(i);Cl(function(){Jb(this,a)},this)}};function Jb(i,a){if(i.a==Do)if(i.c){var l=i.c;if(l.b){for(var m=0,y=null,w=null,A=l.b;A&&(A.c||(m++,A.a==i&&(y=A),!(y&&1<m)));A=A.next)y||(w=A);y&&(l.a==Do&&m==1?Jb(l,a):(w?(m=w,m.next==l.f&&(l.f=m),m.next=m.next.next):n0(l),r0(l,y,di,a)))}i.c=null}else Lo(i,di,a)}function up(i,a){i.b||i.a!=vu&&i.a!=di||t0(i),i.f?i.f.next=a:i.b=a,i.f=a}function Zb(i,a,l,m){var y=ap(null,null,null);return y.a=new Je(function(w,A){y.g=a?function(R){try{var G=a.call(m,R);w(G)}catch(te){A(te)}}:w,y.b=l?function(R){try{var G=l.call(m,R);G===void 0&&R instanceof $s?A(R):w(G)}catch(te){A(te)}}:A}),y.a.c=i,up(i,y),y.a}e.$c=function(i){this.a=Do,Lo(this,vu,i)},e.ad=function(i){this.a=Do,Lo(this,di,i)};function Lo(i,a,l){i.a==Do&&(i===l&&(a=di,l=new TypeError("Promise cannot resolve to itself")),i.a=1,e0(l,i.$c,i.ad,i)||(i.i=l,i.a=a,i.c=null,t0(i),a!=di||l instanceof $s||NR(i,l)))}function e0(i,a,l,m){if(i instanceof Je)return up(i,ap(a||p,l||null,m)),!0;if(Le(i))return i.then(a,l,m),!0;if(S(i))try{var y=i.then;if(E(y))return kR(i,y,a,l,m),!0}catch(w){return l.call(m,w),!0}return!1}function kR(i,a,l,m,y){function w(G){R||(R=!0,m.call(y,G))}function A(G){R||(R=!0,l.call(y,G))}var R=!1;try{a.call(i,A,w)}catch(G){w(G)}}function t0(i){i.h||(i.h=!0,Cl(i.gc,i))}function n0(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=n0(this);)r0(this,i,this.a,this.i);this.h=!1};function r0(i,a,l,m){if(l==di&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,i0(a,l,m);else try{a.c?a.g.call(a.f):i0(a,l,m)}catch(y){o0.call(null,y)}It(Yb,a)}function i0(i,a,l){a==vu?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function NR(i,a){i.g=!0,Cl(function(){i.g&&o0.call(null,a)})}var o0=Kb;function $s(i){he.call(this,i)}j($s,he),$s.prototype.name="cancel";function Rl(){this.ya=this.ya,this.pa=this.pa}var CR=0;Rl.prototype.ya=!1;function s0(i){!i.ya&&(i.ya=!0,i.Da(),CR!=0)&&b(i)}Rl.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var OR=Object.freeze||function(i){return i},a0=!Nr||9<=Number(Mi),RR=Nr&&!Bb("9"),PR=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",p,a),f.removeEventListener("test",p,a)}catch{}return i}();function Gn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Gn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Mo(i,a){if(Gn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(Vb){e:{try{ep(a.nodeName);var y=!0;break e}catch{}y=!1}y||(a=null)}}else l=="mouseover"?a=i.fromElement:l=="mouseout"&&(a=i.toElement);this.relatedTarget=a,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:xR[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}j(Mo,Gn);var xR=OR({2:"touch",3:"pen",4:"mouse"});Mo.prototype.preventDefault=function(){Mo.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,RR)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},Mo.prototype.g=function(){return this.a};var yu="closure_listenable_"+(1e6*Math.random()|0),DR=0;function LR(i,a,l,m,y){this.listener=i,this.proxy=null,this.src=a,this.type=l,this.capture=!!m,this.Wa=y,this.key=++DR,this.wa=this.Qa=!1}function Pl(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function xl(i){this.src=i,this.a={},this.b=0}xl.prototype.add=function(i,a,l,m,y){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var A=lp(i,a,m,y);return-1<A?(a=i[A],l||(a.Qa=!1)):(a=new LR(a,this.src,w,!!m,y),a.Qa=l,i.push(a)),a};function cp(i,a){var l=a.type;l in i.a&&N(i.a[l],a)&&(Pl(a),i.a[l].length==0&&(delete i.a[l],i.b--))}function lp(i,a,l,m){for(var y=0;y<i.length;++y){var w=i[y];if(!w.wa&&w.listener==a&&w.capture==!!l&&w.Wa==m)return y}return-1}var fp="closure_lm_"+(1e6*Math.random()|0),hp={};function _r(i,a,l,m,y){if(m&&m.once)dp(i,a,l,m,y);else if(Array.isArray(a))for(var w=0;w<a.length;w++)_r(i,a[w],l,m,y);else l=mp(l),i&&i[yu]?d0(i,a,l,S(m)?!!m.capture:!!m,y):u0(i,a,l,!1,m,y)}function u0(i,a,l,m,y,w){if(!a)throw Error("Invalid event type");var A=S(y)?!!y.capture:!!y,R=Dl(i);if(R||(i[fp]=R=new xl(i)),l=R.add(a,l,m,A,w),!l.proxy)if(m=MR(),l.proxy=m,m.src=i,m.listener=l,i.addEventListener)PR||(y=A),y===void 0&&(y=!1),i.addEventListener(a.toString(),m,y);else if(i.attachEvent)i.attachEvent(l0(a.toString()),m);else if(i.addListener&&i.removeListener)i.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function MR(){var i=FR,a=a0?function(l){return i.call(a.src,a.listener,l)}:function(l){if(l=i.call(a.src,a.listener,l),!l)return l};return a}function dp(i,a,l,m,y){if(Array.isArray(a))for(var w=0;w<a.length;w++)dp(i,a[w],l,m,y);else l=mp(l),i&&i[yu]?gp(i,a,l,S(m)?!!m.capture:!!m,y):u0(i,a,l,!0,m,y)}function sr(i,a,l,m,y){if(Array.isArray(a))for(var w=0;w<a.length;w++)sr(i,a[w],l,m,y);else m=S(m)?!!m.capture:!!m,l=mp(l),i&&i[yu]?(i=i.v,a=String(a).toString(),a in i.a&&(w=i.a[a],l=lp(w,l,m,y),-1<l&&(Pl(w[l]),Array.prototype.splice.call(w,l,1),w.length==0&&(delete i.a[a],i.b--)))):i&&(i=Dl(i))&&(a=i.a[a.toString()],i=-1,a&&(i=lp(a,l,m,y)),(l=-1<i?a[i]:null)&&c0(l))}function c0(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[yu])cp(a.v,i);else{var l=i.type,m=i.proxy;a.removeEventListener?a.removeEventListener(l,m,i.capture):a.detachEvent?a.detachEvent(l0(l),m):a.addListener&&a.removeListener&&a.removeListener(m),(l=Dl(a))?(cp(l,i),l.b==0&&(l.src=null,a[fp]=null)):Pl(i)}}}function l0(i){return i in hp?hp[i]:hp[i]="on"+i}function f0(i,a,l,m){var y=!0;if((i=Dl(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var w=a[i];w&&w.capture==l&&!w.wa&&(w=h0(w,m),y=y&&w!==!1)}return y}function h0(i,a){var l=i.listener,m=i.Wa||i.src;return i.Qa&&c0(i),l.call(m,a)}function FR(i,a){if(i.wa)return!0;if(!a0){if(!a)e:{a=["window","event"];for(var l=f,m=0;m<a.length;m++)if(l=l[a[m]],l==null){a=null;break e}a=l}if(m=a,a=new Mo(m,this),l=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var y=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{y=!0}(y||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],y=a.b;y;y=y.parentNode)m.push(y);for(i=i.type,y=m.length-1;0<=y;y--){a.b=m[y];var w=f0(m[y],i,!0,a);l=l&&w}for(y=0;y<m.length;y++)a.b=m[y],w=f0(m[y],i,!1,a),l=l&&w}return l}return h0(i,new Mo(a,this))}function Dl(i){return i=i[fp],i instanceof xl?i:null}var pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function mp(i){return E(i)?i:(i[pp]||(i[pp]=function(a){return i.handleEvent(a)}),i[pp])}function xn(){Rl.call(this),this.v=new xl(this),this.bc=this,this.hb=null}j(xn,Rl),xn.prototype[yu]=!0,xn.prototype.addEventListener=function(i,a,l,m){_r(this,i,a,l,m)},xn.prototype.removeEventListener=function(i,a,l,m){sr(this,i,a,l,m)},xn.prototype.dispatchEvent=function(i){var a,l=this.hb;if(l)for(a=[];l;l=l.hb)a.push(l);l=this.bc;var m=i.type||i;if(typeof i=="string")i=new Gn(i,l);else if(i instanceof Gn)i.target=i.target||l;else{var y=i;i=new Gn(m,l),He(i,y)}if(y=!0,a)for(var w=a.length-1;0<=w;w--){var A=i.b=a[w];y=Ll(A,m,!0,i)&&y}if(A=i.b=l,y=Ll(A,m,!0,i)&&y,y=Ll(A,m,!1,i)&&y,a)for(w=0;w<a.length;w++)A=i.b=a[w],y=Ll(A,m,!1,i)&&y;return y},xn.prototype.Da=function(){if(xn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var l=i.a[a],m=0;m<l.length;m++)Pl(l[m]);delete i.a[a],i.b--}}this.hb=null};function d0(i,a,l,m,y){i.v.add(String(a),l,!1,m,y)}function gp(i,a,l,m,y){i.v.add(String(a),l,!0,m,y)}function Ll(i,a,l,m){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var y=!0,w=0;w<a.length;++w){var A=a[w];if(A&&!A.wa&&A.capture==l){var R=A.listener,G=A.Wa||A.src;A.Qa&&cp(i.v,A),y=R.call(G,m)!==!1&&y}}return y&&!m.defaultPrevented}function vp(i,a,l){if(E(i))l&&(i=D(i,l));else if(i&&typeof i.handleEvent=="function")i=D(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function qs(i){var a=null;return new Je(function(l,m){a=vp(function(){l(void 0)},i),a==-1&&m(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(a),l})}function p0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],l=i.length,m=0;m<l;m++)a.push(i[m]);return a}a=[],l=0;for(m in i)a[l++]=i[m];return a}function m0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var l=0;l<i;l++)a.push(l);return a}a=[],l=0;for(var m in i)a[l++]=m;return a}}function UR(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")z(i,a,void 0);else for(var l=m0(i),m=p0(i),y=m.length,w=0;w<y;w++)a.call(void 0,m[w],l&&l[w],i)}function Hs(i,a){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var m=0;m<l;m+=2)this.set(arguments[m],arguments[m+1])}else if(i)if(i instanceof Hs)for(l=i.Y(),m=0;m<l.length;m++)this.set(l[m],i.get(l[m]));else for(m in i)this.set(m,i[m])}e=Hs.prototype,e.X=function(){yp(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return yp(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function yp(i){if(i.c!=i.a.length){for(var a=0,l=0;a<i.a.length;){var m=i.a[a];Fo(i.b,m)&&(i.a[l++]=m),a++}i.a.length=l}if(i.c!=i.a.length){var y={};for(l=a=0;a<i.a.length;)m=i.a[a],Fo(y,m)||(i.a[l++]=m,y[m]=1),a++;i.a.length=l}}e.get=function(i,a){return Fo(this.b,i)?this.b[i]:a},e.set=function(i,a){Fo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var l=this.Y(),m=0;m<l.length;m++){var y=l[m],w=this.get(y);i.call(a,w,y,this)}};function Fo(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var g0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function VR(i,a){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var m=i[l].indexOf("="),y=null;if(0<=m){var w=i[l].substring(0,m);y=i[l].substring(m+1)}else w=i[l];a(w,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function Fi(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof Fi?(this.i=a!==void 0?a:i.i,_u(this,i.c),this.l=i.l,this.a=i.a,bu(this,i.g),this.f=i.f,_p(this,b0(i.b)),this.h=i.h):i&&(l=String(i).match(g0))?(this.i=!!a,_u(this,l[1]||"",!0),this.l=wu(l[2]||""),this.a=wu(l[3]||"",!0),bu(this,l[4]),this.f=wu(l[5]||"",!0),_p(this,l[6]||"",!0),this.h=wu(l[7]||"")):(this.i=!!a,this.b=new Uo(null,this.i))}Fi.prototype.toString=function(){var i=[],a=this.c;a&&i.push(Eu(a,v0,!0),":");var l=this.a;return(l||a=="file")&&(i.push("//"),(a=this.l)&&i.push(Eu(a,v0,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(Eu(l,l.charAt(0)=="/"?$R:BR,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",Eu(l,HR)),i.join("")},Fi.prototype.resolve=function(i){var a=new Fi(this),l=!!i.c;l?_u(a,i.c):l=!!i.l,l?a.l=i.l:l=!!i.a,l?a.a=i.a:l=i.g!=null;var m=i.f;if(l)bu(a,i.g);else if(l=!!i.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var y=a.f.lastIndexOf("/");y!=-1&&(m=a.f.substr(0,y+1)+m)}if(y=m,y==".."||y==".")m="";else if(Se(y,"./")||Se(y,"/.")){m=y.lastIndexOf("/",0)==0,y=y.split("/");for(var w=[],A=0;A<y.length;){var R=y[A++];R=="."?m&&A==y.length&&w.push(""):R==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),m&&A==y.length&&w.push("")):(w.push(R),m=!0)}m=w.join("/")}else m=y}return l?a.f=m:l=i.b.toString()!=="",l?_p(a,b0(i.b)):l=!!i.h,l&&(a.h=i.h),a};function _u(i,a,l){i.c=l?wu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function bu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function _p(i,a,l){a instanceof Uo?(i.b=a,KR(i.b,i.i)):(l||(a=Eu(a,qR)),i.b=new Uo(a,i.i))}function $t(i,a,l){i.b.set(a,l)}function br(i,a){return i.b.get(a)}function zn(i){return i instanceof Fi?new Fi(i):new Fi(i,void 0)}function Ml(i,a,l,m){var y=new Fi(null,void 0);return i&&_u(y,i),a&&(y.a=a),l&&bu(y,l),m&&(y.f=m),y}function wu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Eu(i,a,l){return typeof i=="string"?(i=encodeURI(i).replace(a,jR),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function jR(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var v0=/[#\/\?@]/g,BR=/[#\?:]/g,$R=/[#\?]/g,qR=/[#\?@]/g,HR=/#/g;function Uo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Ui(i){i.a||(i.a=new Hs,i.b=0,i.c&&VR(i.c,function(a,l){i.add(decodeURIComponent(a.replace(/\+/g," ")),l)}))}function y0(i){var a=m0(i);if(typeof a>"u")throw Error("Keys are undefined");var l=new Uo(null,void 0);i=p0(i);for(var m=0;m<a.length;m++){var y=a[m],w=i[m];Array.isArray(w)?_0(l,y,w):l.add(y,w)}return l}e=Uo.prototype,e.add=function(i,a){Ui(this),this.c=null,i=Ks(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(a),this.b+=1,this};function Wr(i,a){Ui(i),a=Ks(i,a),Fo(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Fo(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&yp(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function bp(i,a){return Ui(i),a=Ks(i,a),Fo(i.a.b,a)}e.forEach=function(i,a){Ui(this),this.a.forEach(function(l,m){z(l,function(y){i.call(a,y,m,this)},this)},this)},e.Y=function(){Ui(this);for(var i=this.a.X(),a=this.a.Y(),l=[],m=0;m<a.length;m++)for(var y=i[m],w=0;w<y.length;w++)l.push(a[m]);return l},e.X=function(i){Ui(this);var a=[];if(typeof i=="string")bp(this,i)&&(a=B(a,this.a.get(Ks(this,i))));else{i=this.a.X();for(var l=0;l<i.length;l++)a=B(a,i[l])}return a},e.set=function(i,a){return Ui(this),this.c=null,i=Ks(this,i),bp(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function _0(i,a,l){Wr(i,a),0<l.length&&(i.c=null,i.a.set(Ks(i,a),Q(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),l=0;l<a.length;l++){var m=a[l],y=encodeURIComponent(String(m));m=this.X(m);for(var w=0;w<m.length;w++){var A=y;m[w]!==""&&(A+="="+encodeURIComponent(String(m[w]))),i.push(A)}}return this.c=i.join("&")};function b0(i){var a=new Uo;return a.c=i.c,i.a&&(a.a=new Hs(i.a),a.b=i.b),a}function Ks(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function KR(i,a){a&&!i.f&&(Ui(i),i.c=null,i.a.forEach(function(l,m){var y=m.toLowerCase();m!=y&&(Wr(this,m),_0(this,y,l))},i)),i.f=a}function w0(i){var a=[];return wp(new WR,i,a),a.join("")}function WR(){}function wp(i,a,l){if(a==null)l.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var m=a;a=m.length,l.push("[");for(var y="",w=0;w<a;w++)l.push(y),wp(i,m[w],l),y=",";l.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{l.push("{"),y="";for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&(w=a[m],typeof w!="function"&&(l.push(y),I0(m,l),l.push(":"),wp(i,w,l),y=","));l.push("}");return}}switch(typeof a){case"string":I0(a,l);break;case"number":l.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":l.push(String(a));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var E0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},GR=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function I0(i,a){a.push('"',i.replace(GR,function(l){var m=E0[l];return m||(m="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),E0[l]=m),m}),'"')}function Ep(){var i=dn();return Nr&&!!Mi&&Mi==11||/Edge\/\d+/.test(i)}function Iu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function T0(i,a){a=a||f.window;var l="about:blank";i&&(l=Al(Pb(i)||Db)),a.location.href=l}function S0(i,a){var l=[],m;for(m in i)m in a?typeof i[m]!=typeof a[m]?l.push(m):typeof i[m]=="object"&&i[m]!=null&&a[m]!=null?0<S0(i[m],a[m]).length&&l.push(m):i[m]!==a[m]&&l.push(m):l.push(m);for(m in a)m in i||l.push(m);return l}function zR(){var i=dn();return i=Ws(i)!=C0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Nr||!Mi||9<Mi}function A0(i){return i=(i||dn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function Vo(i){i=i||f.window;try{i.close()}catch{}}function k0(i,a,l){var m=Math.floor(1e9*Math.random()).toString();a=a||500,l=l||600;var y=(window.screen.availHeight-l)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:l,top:0<y?y:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=dn().toLowerCase(),m&&(a.target=m,Se(l,"crios/")&&(a.target="_blank")),Ws(dn())==Sp&&(i=i||"http://localhost",a.scrollbars=!0),l=i||"",(i=a)||(i={}),m=window,a=l instanceof Wn?l:Pb(typeof l.href<"u"?l.href:String(l))||Db,l=i.target||l.target,y=[];for(A in i)switch(A){case"width":case"height":case"top":case"left":y.push(A+"="+i[A]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(A+"="+(i[A]?1:0))}var A=y.join(",");if((_e("iPhone")&&!_e("iPod")&&!_e("iPad")||_e("iPad")||_e("iPod"))&&m.navigator&&m.navigator.standalone&&l&&l!="_self"?(A=Nl(document,"A"),wn(A,"HTMLAnchorElement"),a=a instanceof Wn?a:xb(a),A.href=Al(a),A.setAttribute("target",l),i.noreferrer&&A.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,m,1),A.dispatchEvent(i),A={}):i.noreferrer?(A=Mb("",m,l,A),i=Al(a),A&&(yR&&Se(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),A.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zd(i)+'">',i=(m=Nb())?m.createHTML(i):i,i=new Bs(i,null,Lb),m=A.document)&&(m.write(pR(i)),m.close())):(A=Mb(a,m,l,A))&&i.noopener&&(A.opener=null),A)try{A.focus()}catch{}return A}function YR(i){return new Je(function(a){function l(){qs(2e3).then(function(){if(!i||i.closed)a();else return l()})}return l()})}var XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QR=/^[^@]+@[^@]+$/;function Fl(){var i=null;return new Je(function(a){f.document.readyState=="complete"?a():(i=function(){a()},dp(window,"load",i))}).o(function(a){throw sr(window,"load",i),a})}function JR(){return Ip(void 0)?Fl().then(function(){return new Je(function(i,a){var l=f.document,m=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(m),i()},!1)})}):Rt(Error("Cordova must run in an Android or iOS file scheme."))}function Ip(i){return i=i||dn(),!(zs()!=="file:"&&zs()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tp(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function Cr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Gr(){return Me.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Me.INTERNAL.hasOwnProperty("node")?"Node":Cr()?"Worker":"Browser"}function N0(){var i=Gr();return i==="ReactNative"||i==="Node"}function ZR(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var Sp="Firefox",C0="Chrome";function Ws(i){var a=i.toLowerCase();if(Se(a,"opera/")||Se(a,"opr/")||Se(a,"opios/"))return"Opera";if(Se(a,"iemobile"))return"IEMobile";if(Se(a,"msie")||Se(a,"trident/"))return"IE";if(Se(a,"edge/"))return"Edge";if(Se(a,"firefox/"))return Sp;if(Se(a,"silk/"))return"Silk";if(Se(a,"blackberry"))return"Blackberry";if(Se(a,"webos"))return"Webos";if(!Se(a,"safari/")||Se(a,"chrome/")||Se(a,"crios/")||Se(a,"android"))if(!Se(a,"chrome/")&&!Se(a,"crios/")||Se(a,"edge/")){if(Se(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return C0;else return"Safari";return"Other"}var O0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gs(i,a){a=a||[];var l=[],m={},y;for(y in O0)m[O0[y]]=!0;for(y=0;y<a.length;y++)typeof m[a[y]]<"u"&&(delete m[a[y]],l.push(a[y]));return l.sort(),a=l,a.length||(a=["FirebaseCore-web"]),l=Gr(),l==="Browser"?(m=dn(),l=Ws(m)):l==="Worker"&&(m=dn(),l=Ws(m)+"-"+l),l+"/JsCore/"+i+"/"+a.join(",")}function dn(){return f.navigator&&f.navigator.userAgent||""}function Pt(i,a){i=i.split("."),a=a||f;for(var l=0;l<i.length&&typeof a=="object"&&a!=null;l++)a=a[i[l]];return l!=i.length&&(a=void 0),a}function Ap(){try{var i=f.localStorage,a=Bo();if(i)return i.setItem(a,"1"),i.removeItem(a),Ep()?!!f.indexedDB:!0}catch{return Cr()&&!!f.indexedDB}return!1}function jo(){return(Ul()||zs()==="chrome-extension:"||Ip())&&!N0()&&Ap()&&!Cr()}function Ul(){return zs()==="http:"||zs()==="https:"}function zs(){return f.location&&f.location.protocol||null}function Tu(i){return i=i||dn(),!(A0(i)||Ws(i)==Sp)}function Su(i){return typeof i>"u"?null:w0(i)}function R0(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(a[l]=i[l]);return a}function Ys(i){if(i!==null)return JSON.parse(i)}function Bo(i){return i||Math.floor(1e9*Math.random()).toString()}function P0(i){return i=i||dn(),!(Ws(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function x0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function Vi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=dn(),a=Gr(),this.b=A0(i)||a==="ReactNative"}Vi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Ul()||zs()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function kp(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function eP(){var i=f.document,a=null;return kp()||!i?Ce():new Je(function(l){a=function(){kp()&&(i.removeEventListener("visibilitychange",a,!1),l())},i.addEventListener("visibilitychange",a,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",a,!1),l})}function Au(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function D0(){return!(!Pt("fireauth.oauthhelper",f)&&!Pt("fireauth.iframe",f))}function tP(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function nP(){var i=f.navigator;return i&&i.serviceWorker?Ce().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ce(null)}var L0={};function Np(i){L0[i]||(L0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Cp;try{var Op={};Object.defineProperty(Op,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Op,"abcd",{configurable:!0,enumerable:!0,value:2}),Cp=Op.abcd==2}catch{Cp=!1}function Ee(i,a,l){Cp?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:l}):i[a]=l}function Dn(i,a){if(a)for(var l in a)a.hasOwnProperty(l)&&Ee(i,l,a[l])}function zr(i){var a={};return Dn(a,i),a}function rP(i){var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);return a}function iP(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var l=0;l<a.length;l++){var m=i[a[l]];if(m==null||m==="")return!1}return!0}function Rp(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var l in i)Ee(a,l,Rp(i[l]))}return a}function Pp(i){var a=i&&(i[Mp]?"phone":null);if(a&&i&&i[Lp]){Ee(this,"uid",i[Lp]),Ee(this,"displayName",i[M0]||null);var l=null;i[Dp]&&(l=new Date(i[Dp]).toUTCString()),Ee(this,"enrollmentTime",l),Ee(this,"factorId",a)}else throw new P("internal-error","Internal assert: invalid MultiFactorInfo object")}Pp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function xp(i){try{var a=new ku(i)}catch{a=null}return a}var M0="displayName",Dp="enrolledAt",Lp="mfaEnrollmentId",Mp="phoneInfo";function ku(i){Pp.call(this,i),Ee(this,"phoneNumber",i[Mp])}j(ku,Pp),ku.prototype.w=function(){var i=ku.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function oP(i){var a={},l=i[sP],m=i[uP],y=i[cP];if(i=xp(i[aP]),!y||y!=Vl&&y!=Nu&&!l||y==Nu&&!m||y==Fp&&!i)throw Error("Invalid checkActionCode response!");y==Nu?(a[U0]=l||null,a[V0]=l||null,a[F0]=m):(a[U0]=m||null,a[V0]=m||null,a[F0]=l||null),a[lP]=i||null,Ee(this,hP,y),Ee(this,fP,Rp(a))}var Fp="REVERT_SECOND_FACTOR_ADDITION",Vl="EMAIL_SIGNIN",Nu="VERIFY_AND_CHANGE_EMAIL",sP="email",aP="mfaInfo",uP="newEmail",cP="requestType",F0="email",U0="fromEmail",lP="multiFactorInfo",V0="previousEmail",fP="data",hP="operation";function Up(i){i=zn(i);var a=br(i,j0)||null,l=br(i,B0)||null,m=br(i,$0)||null;if(m=m&&gP[m]||null,!a||!l||!m)throw new P("argument-error",j0+", "+B0+"and "+$0+" are required in a valid action code URL.");Dn(this,{apiKey:a,operation:m,code:l,continueUrl:br(i,dP)||null,languageCode:br(i,pP)||null,tenantId:br(i,mP)||null})}var j0="apiKey",B0="oobCode",dP="continueUrl",pP="languageCode",$0="mode",mP="tenantId",gP={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fp,signIn:Vl,verifyAndChangeEmail:Nu,verifyEmail:"VERIFY_EMAIL"};function q0(i){try{return new Up(i)}catch{return null}}function jl(i){var a=i[vP];if(typeof a>"u")throw new P("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new P("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var l=i[H0];if(l&&typeof l=="object"){a=l[Y0];var m=l[G0];if(l=l[z0],typeof a=="string"&&a.length){if(this.a=a,typeof m<"u"&&typeof m!="boolean")throw new P("argument-error",G0+" property must be a boolean when specified.");if(this.g=!!m,typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new P("argument-error",z0+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof a<"u")throw new P("argument-error",Y0+" property must be a non empty string when specified.");if(typeof m<"u"||typeof l<"u")throw new P("missing-android-pkg-name")}}else if(typeof l<"u")throw new P("argument-error",H0+" property must be a non null object when specified.");if(this.f=null,(a=i[W0])&&typeof a=="object"){if(a=a[X0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new P("argument-error",X0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new P("argument-error",W0+" property must be a non null object when specified.");if(a=i[Vp],typeof a<"u"&&typeof a!="boolean")throw new P("argument-error",Vp+" property must be a boolean when specified.");if(this.c=!!a,i=i[K0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new P("argument-error",K0+" property must be a non empty string when specified.");this.i=i||null}var H0="android",K0="dynamicLinkDomain",Vp="handleCodeInApp",W0="iOS",vP="url",G0="installApp",z0="minimumVersion",Y0="packageName",X0="bundleId";function Bl(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var l in a)a[l]===null&&delete a[l];return a}function yP(i){return Re(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Cu=null;function _P(i){var a=[];return bP(i,function(l){a.push(l)}),a}function bP(i,a){function l(G){for(;m<i.length;){var te=i.charAt(m++),$e=Cu[te];if($e!=null)return $e;if(!/^[\s\xa0]*$/.test(te))throw Error("Unknown base64 encoding at char: "+te)}return G}wP();for(var m=0;;){var y=l(-1),w=l(0),A=l(64),R=l(64);if(R===64&&y===-1)break;a(y<<2|w>>4),A!=64&&(a(w<<4&240|A>>2),R!=64&&a(A<<6&192|R))}}function wP(){if(!Cu){Cu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var m=i.concat(a[l].split("")),y=0;y<m.length;y++){var w=m[y];Cu[w]===void 0&&(Cu[w]=y)}}}function $l(i){var a=Q0(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}$l.prototype.T=function(){return this.f},$l.prototype.l=function(){return this.c},$l.prototype.toString=function(){return this.h};function ql(i){try{return new $l(i)}catch{return null}}function Q0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,l=0;l<a;l++)i+=".";try{var m=_P(i);for(i=[],l=a=0;a<m.length;){var y=m[a++];if(128>y)i[l++]=String.fromCharCode(y);else if(191<y&&224>y){var w=m[a++];i[l++]=String.fromCharCode((y&31)<<6|w&63)}else if(239<y&&365>y){w=m[a++];var A=m[a++],R=m[a++],G=((y&7)<<18|(w&63)<<12|(A&63)<<6|R&63)-65536;i[l++]=String.fromCharCode(55296+(G>>10)),i[l++]=String.fromCharCode(56320+(G&1023))}else w=m[a++],A=m[a++],i[l++]=String.fromCharCode((y&15)<<12|(w&63)<<6|A&63)}return JSON.parse(i.join(""))}catch{}return null}var J0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hl=["client_id","response_type","scope","redirect_uri","state"],jp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:J0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Bp(i){for(var a in jp)if(jp[a].fa==i)return jp[a];return null}function Z0(i){var a={};a["facebook.com"]=tw,a["google.com"]=rw,a["github.com"]=nw,a["twitter.com"]=iw;var l=i&&i[ew];try{if(l)return a[l]?new a[l](i):new Yr(i);if(typeof i[$p]<"u")return new qp(i)}catch{}return null}var $p="idToken",ew="providerId";function qp(i){var a=i[ew];if(!a&&i[$p]){var l=ql(i[$p]);l&&l.b&&(a=l.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),l=!1,typeof i.isNewUser<"u"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),Ee(this,"providerId",a),Ee(this,"isNewUser",l)}function Yr(i){qp.call(this,i),i=Ys(i.rawUserInfo||"{}"),Ee(this,"profile",Rp(i||{}))}j(Yr,qp);function tw(i){if(Yr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}j(tw,Yr);function nw(i){if(Yr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");Ee(this,"username",this.profile&&this.profile.login||null)}j(nw,Yr);function rw(i){if(Yr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}j(rw,Yr);function iw(i){if(Yr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Ee(this,"username",i.screenName||null)}j(iw,Yr);function ow(i){var a=zn(i),l=br(a,"link"),m=br(zn(l),"link");return a=br(a,"deep_link_id"),br(zn(a),"link")||a||m||l||i}function Kl(i,a){if(!i&&!a)throw new P("internal-error","Internal assert: no raw session string available");if(i&&a)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?Ou:Wl}var Ou="enroll",Wl="signin";Kl.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},Kl.prototype.w=function(){return this.type==Ou?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Xs(){}Xs.prototype.ka=function(){},Xs.prototype.b=function(){},Xs.prototype.c=function(){},Xs.prototype.w=function(){};function Qs(i,a){return i.then(function(l){if(l[Pr]){var m=ql(l[Pr]);if(!m||a!=m.i)throw new P("user-mismatch");return l}throw new P("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==ie+"user-not-found"?new P("user-mismatch"):l})}function $o(i,a){if(a)this.a=a;else throw new P("internal-error","failed to construct a credential");Ee(this,"providerId",i),Ee(this,"signInMethod",i)}$o.prototype.ka=function(i){return dm(i,Hp(this))},$o.prototype.b=function(i,a){var l=Hp(this);return l.idToken=a,pm(i,l)},$o.prototype.c=function(i,a){return Qs(mm(i,Hp(this)),a)};function Hp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}$o.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function EP(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new $o(i.providerId,i.pendingToken)}catch{}return null}function pi(i,a,l){if(this.a=null,a.idToken||a.accessToken)a.idToken&&Ee(this,"idToken",a.idToken),a.accessToken&&Ee(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&Ee(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)Ee(this,"accessToken",a.oauthToken),Ee(this,"secret",a.oauthTokenSecret);else throw new P("internal-error","failed to construct a credential");Ee(this,"providerId",i),Ee(this,"signInMethod",l)}pi.prototype.ka=function(i){return dm(i,Kp(this))},pi.prototype.b=function(i,a){var l=Kp(this);return l.idToken=a,pm(i,l)},pi.prototype.c=function(i,a){var l=Kp(this);return Qs(mm(i,l),a)};function Kp(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:y0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}pi.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function IP(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new pi(i.providerId,a,i.signInMethod)}catch{}}return null}function qo(i,a){this.Qc=a||[],Dn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Bp(i)||{}).Ja||null,this.pb=null}qo.prototype.Ka=function(i){return this.Jb=Be(i),this};function sw(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');qo.call(this,i,[])}j(sw,qo);function ar(i){qo.call(this,i,Hl),this.a=[]}j(ar,qo),ar.prototype.Ca=function(i){return I(this.a,i)||this.a.push(i),this},ar.prototype.Rb=function(){return Q(this.a)},ar.prototype.credential=function(i,a){var l;if(S(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:a||null},!l.idToken&&!l.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new pi(this.providerId,l,this.providerId)};function Ho(){ar.call(this,"facebook.com")}j(Ho,ar),Ee(Ho,"PROVIDER_ID","facebook.com"),Ee(Ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function aw(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new Ho().credential({accessToken:a})}function Ko(){ar.call(this,"github.com")}j(Ko,ar),Ee(Ko,"PROVIDER_ID","github.com"),Ee(Ko,"GITHUB_SIGN_IN_METHOD","github.com");function uw(i){if(!i)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new Ko().credential({accessToken:a})}function Wo(){ar.call(this,"google.com"),this.Ca("profile")}j(Wo,ar),Ee(Wo,"PROVIDER_ID","google.com"),Ee(Wo,"GOOGLE_SIGN_IN_METHOD","google.com");function cw(i,a){var l=i;return S(i)&&(l=i.idToken,a=i.accessToken),new Wo().credential({idToken:l,accessToken:a})}function Js(){qo.call(this,"twitter.com",J0)}j(Js,qo),Ee(Js,"PROVIDER_ID","twitter.com"),Ee(Js,"TWITTER_SIGN_IN_METHOD","twitter.com");function lw(i,a){var l=i;if(S(l)||(l={oauthToken:i,oauthTokenSecret:a}),!l.oauthToken||!l.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new pi("twitter.com",l,"twitter.com")}function ji(i,a,l){this.a=i,this.f=a,Ee(this,"providerId","password"),Ee(this,"signInMethod",l===wr.EMAIL_LINK_SIGN_IN_METHOD?wr.EMAIL_LINK_SIGN_IN_METHOD:wr.EMAIL_PASSWORD_SIGN_IN_METHOD)}ji.prototype.ka=function(i){return this.signInMethod==wr.EMAIL_LINK_SIGN_IN_METHOD?et(i,ax,{email:this.a,oobCode:this.f}):et(i,Uw,{email:this.a,password:this.f})},ji.prototype.b=function(i,a){return this.signInMethod==wr.EMAIL_LINK_SIGN_IN_METHOD?et(i,ux,{idToken:a,email:this.a,oobCode:this.f}):et(i,Fw,{idToken:a,email:this.a,password:this.f})},ji.prototype.c=function(i,a){return Qs(this.ka(i),a)},ji.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function TP(i){return i&&i.email&&i.password?new ji(i.email,i.password,i.signInMethod):null}function wr(){Dn(this,{providerId:"password",isOAuthProvider:!1})}function fw(i,a){if(a=Wp(a),!a)throw new P("argument-error","Invalid email link!");return new ji(i,a.code,wr.EMAIL_LINK_SIGN_IN_METHOD)}function Wp(i){return i=ow(i),(i=q0(i))&&i.operation===Vl?i:null}Dn(wr,{PROVIDER_ID:"password"}),Dn(wr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Dn(wr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Bi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new P("internal-error");this.a=i,Ee(this,"providerId","phone"),this.fa="phone",Ee(this,"signInMethod","phone")}Bi.prototype.ka=function(i){return i.gb(Ru(this))},Bi.prototype.b=function(i,a){var l=Ru(this);return l.idToken=a,et(i,Nx,l)},Bi.prototype.c=function(i,a){var l=Ru(this);return l.operation="REAUTH",i=et(i,Cx,l),Qs(i,a)},Bi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function SP(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(a[l]=i[l])}),new Bi(a)}return null}function Ru(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function mi(i){try{this.a=i||Me.auth()}catch{throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Dn(this,{providerId:"phone",isOAuthProvider:!1})}mi.prototype.gb=function(i,a){var l=this.a.a;return Ce(a.verify()).then(function(m){if(typeof m!="string")throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var y=S(i)?i.session:null,w=S(i)?i.phoneNumber:i,A;return y&&y.type==Ou?A=y.Ha().then(function(R){return JP(l,{idToken:R,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:m}})}):y&&y.type==Wl?A=y.Ha().then(function(R){return ZP(l,{mfaPendingCredential:R,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):A=QP(l,{phoneNumber:w,recaptchaToken:m}),A.then(function(R){return typeof a.reset=="function"&&a.reset(),R},function(R){throw typeof a.reset=="function"&&a.reset(),R});default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function hw(i,a){if(!i)throw new P("missing-verification-id");if(!a)throw new P("missing-verification-code");return new Bi({fb:i,eb:a})}Dn(mi,{PROVIDER_ID:"phone"}),Dn(mi,{PHONE_SIGN_IN_METHOD:"phone"});function Gp(i){if(i.temporaryProof&&i.phoneNumber)return new Bi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var l=i&&i.oauthAccessToken,m=i&&i.oauthTokenSecret,y=i&&i.nonce,w=i&&i.oauthIdToken,A=i&&i.pendingToken;try{switch(a){case"google.com":return cw(w,l);case"facebook.com":return aw(l);case"github.com":return uw(l);case"twitter.com":return lw(l,m);default:return l||m||w||A?A?a.indexOf("saml.")==0?new $o(a,A):new pi(a,{pendingToken:A,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new ar(a).credential({idToken:w,accessToken:l,rawNonce:y}):null}}catch{return null}}function zp(i){if(!i.isOAuthProvider)throw new P("invalid-oauth-provider")}function Or(i,a,l,m,y,w,A){if(this.c=i,this.b=a||null,this.g=l||null,this.f=m||null,this.i=w||null,this.h=A||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}else throw new P("invalid-auth-event")}Or.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Or.prototype.T=function(){return this.h},Or.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function dw(i){return i=i||{},i.type?new Or(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ie(i.error),i.postBody,i.tenantId):null}function AP(){this.b=null,this.a=[]}var Yp=null;function kP(i){var a=Yp;a.a.push(i),a.b||(a.b=function(l){for(var m=0;m<a.a.length;m++)a.a[m](l)},i=Pt("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function Xp(i){var a="unauthorized-domain",l=void 0,m=zn(i);i=m.a,m=m.c,m=="chrome-extension"?l=Fb("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):m=="http"||m=="https"?l=Fb("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",P.call(this,a,l)}j(Xp,P);function Pu(i,a,l){P.call(this,i,l),i=a||{},i.Kb&&Ee(this,"email",i.Kb),i.ea&&Ee(this,"phoneNumber",i.ea),i.credential&&Ee(this,"credential",i.credential),i.$b&&Ee(this,"tenantId",i.$b)}j(Pu,P),Pu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&He(i,a),i},Pu.prototype.toJSON=function(){return this.w()};function Gl(i){if(i.code){var a=i.code||"";a.indexOf(ie)==0&&(a=a.substring(ie.length));var l={credential:Gp(i),$b:i.tenantId};if(i.email)l.Kb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new P(a,i.message||void 0);return new Pu(a,l,i.message)}return null}function xu(){}xu.prototype.c=null;function pw(i){return i.c||(i.c=i.b())}var Qp;function zl(){}j(zl,xu),zl.prototype.a=function(){var i=mw(this);return i?new ActiveXObject(i):new XMLHttpRequest},zl.prototype.b=function(){var i={};return mw(this)&&(i[0]=!0,i[1]=!0),i};function mw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<a.length;l++){var m=a[l];try{return new ActiveXObject(m),i.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Qp=new zl;function Yl(){}j(Yl,xu),Yl.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new gw;throw Error("Unsupported browser")},Yl.prototype.b=function(){return{}};function gw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=D(this.qc,this),this.a.onerror=D(this.Tb,this),this.a.onprogress=D(this.rc,this),this.a.ontimeout=D(this.vc,this)}e=gw.prototype,e.open=function(i,a,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Jp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Jp(this,1)};function Jp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Zp(i,a,l){this.reset(i,a,l,void 0,void 0)}Zp.prototype.a=null,Zp.prototype.reset=function(i,a,l,m,y){delete this.a};function em(i){this.f=i,this.b=this.c=this.a=null}function Du(i,a){this.name=i,this.value=a}Du.prototype.toString=function(){return this.name};var vw=new Du("SEVERE",1e3),tm=new Du("WARNING",900),NP=new Du("CONFIG",700),CP=new Du("FINE",500);function yw(i){return i.c?i.c:i.a?yw(i.a):(yt("Root logger has no level set."),null)}em.prototype.log=function(i,a,l){if(i.value>=yw(this).value)for(E(a)&&(a=a()),i=new Zp(i,String(a),this.f),l&&(i.a=l),l=this;l;)l=l.a};var nm={},Xl=null;function rm(i){Xl||(Xl=new em(""),nm[""]=Xl,Xl.c=NP);var a;if(!(a=nm[i])){a=new em(i);var l=i.lastIndexOf("."),m=i.substr(l+1);l=rm(i.substr(0,l)),l.b||(l.b={}),l.b[m]=a,a.a=l,nm[i]=a}return a}function Er(i,a){i&&i.log(CP,a,void 0)}function Ql(i){this.f=i}j(Ql,xu),Ql.prototype.a=function(){return new Jl(this.f)},Ql.prototype.b=function(i){return function(){return i}}({});function Jl(i){xn.call(this),this.u=i,this.h=void 0,this.readyState=im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=rm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}j(Jl,xn);var im=0;e=Jl.prototype,e.open=function(i,a){if(this.readyState!=im)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,Mu(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Lu(this)),this.readyState=im},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,Mu(this)),this.a&&(this.readyState=3,Mu(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,_w(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function _w(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?Lu(this):Mu(this),this.readyState==3&&_w(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Lu(this))},e.sc=function(i){this.a&&(this.response=i,Lu(this))},e.Va=function(i){var a=this.i;a&&a.log(tm,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Lu(this)};function Lu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,Mu(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(tm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(tm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),l=a.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=a.next();return i.join(`\r
`)};function Mu(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Fu(i){xn.call(this),this.headers=new Hs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=bw,this.u=this.S=!1}j(Fu,xn);var bw="";Fu.prototype.b=rm("goog.net.XhrIo");var OP=/^https?$/i,RP=["POST","PUT"];function PP(i,a,l,m,y){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);l=l?l.toUpperCase():"GET",i.l=a,i.h="",i.P=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Qp.a(),i.C=i.D?pw(i.D):pw(Qp),i.a.onreadystatechange=D(i.Wb,i);try{Er(i.b,gi(i,"Opening Xhr")),i.N=!0,i.a.open(l,String(a),!0),i.N=!1}catch(A){Er(i.b,gi(i,"Error opening Xhr: "+A.message)),ww(i,A);return}a=m||"";var w=new Hs(i.headers);y&&UR(y,function(A,R){w.set(R,A)}),y=T(w.Y()),m=f.FormData&&a instanceof f.FormData,!I(RP,l)||y||m||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(A,R){this.a.setRequestHeader(R,A)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{Tw(i),0<i.g&&(i.u=xP(i.a),Er(i.b,gi(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=D(i.Ma,i)):i.s=vp(i.Ma,i.g,i)),Er(i.b,gi(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(A){Er(i.b,gi(i,"Send error: "+A.message)),ww(i,A)}}function xP(i){return Nr&&Bb(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function DP(i){return i.toLowerCase()=="content-type"}e=Fu.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Er(this.b,gi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function ww(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,Ew(i),Zl(i)}function Ew(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Er(this.b,gi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Zl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Zl(this,!0)),Fu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Iw(this):this.Jc())},e.Jc=function(){Iw(this)};function Iw(i){if(i.c&&typeof c<"u"){if(i.C[1]&&Uu(i)==4&&ef(i)==2)Er(i.b,gi(i,"Local request error detected and ignored"));else if(i.i&&Uu(i)==4)vp(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),Uu(i)==4){Er(i.b,gi(i,"Request complete")),i.c=!1;try{var a=ef(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var m;if(!(m=l)){var y;if(y=a===0){var w=String(i.l).match(g0)[1]||null;if(!w&&f.self&&f.self.location){var A=f.self.location.protocol;w=A.substr(0,A.length-1)}y=!OP.test(w?w.toLowerCase():"")}m=y}if(m)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var R=2<Uu(i)?i.a.statusText:""}catch(G){Er(i.b,"Can not get status: "+G.message),R=""}i.h=R+" ["+ef(i)+"]",Ew(i)}}finally{Zl(i)}}}}function Zl(i,a){if(i.a){Tw(i);var l=i.a,m=i.C[0]?p:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{l.onreadystatechange=m}catch(y){(i=i.b)&&i.log(vw,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function Tw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function Uu(i){return i.a?i.a.readyState:0}function ef(i){try{return 2<Uu(i)?i.a.status:-1}catch{return-1}}function LP(i){try{return i.a?i.a.responseText:""}catch(a){return Er(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(vw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Er(this.b,"Can not get response: "+a.message),null}};function gi(i,a){return a+" ["+i.P+" "+i.l+" "+ef(i)+"]"}function Go(i){var a=UP;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Go.prototype.cancel=function(i){if(this.a)this.c instanceof Go&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new ju,tf(this),Vu(this,!1,i))}},Go.prototype.m=function(i,a){this.i=!1,Vu(this,i,a)};function Vu(i,a,l){i.a=!0,i.c=l,i.f=!a,Aw(i)}function tf(i){if(i.a){if(!i.v)throw new nf;i.v=!1}}function MP(i,a){om(i,null,a,void 0)}function om(i,a,l,m){i.g.push([a,l,m]),i.a&&Aw(i)}Go.prototype.then=function(i,a,l){var m,y,w=new Je(function(A,R){m=A,y=R});return om(this,m,function(A){A instanceof ju?w.cancel():y(A)}),w.then(i,a,l)},Go.prototype.$goog_Thenable=!0;function Sw(i){return O(i.g,function(a){return E(a[1])})}function Aw(i){if(i.h&&i.a&&Sw(i)){var a=i.h,l=rf[a];l&&(f.clearTimeout(l.a),delete rf[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var m=l=!1;i.g.length&&!i.i;){var y=i.g.shift(),w=y[0],A=y[1];if(y=y[2],w=i.f?A:w)try{var R=w.call(y||i.s,a);R!==void 0&&(i.f=i.f&&(R==a||R instanceof Error),i.c=a=R),(Le(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(m=!0,i.i=!0)}catch(G){a=G,i.f=!0,Sw(i)||(l=!0)}}i.c=a,m&&(R=D(i.m,i,!0),m=D(i.m,i,!1),a instanceof Go?(om(a,R,m),a.C=!0):a.then(R,m)),l&&(a=new kw(a),rf[a.a]=a,i.h=a.a)}function nf(){he.call(this)}j(nf,he),nf.prototype.message="Deferred has already fired",nf.prototype.name="AlreadyCalledError";function ju(){he.call(this)}j(ju,he),ju.prototype.message="Deferred was canceled",ju.prototype.name="CanceledError";function kw(i){this.a=f.setTimeout(D(this.c,this),0),this.b=i}kw.prototype.c=function(){throw delete rf[this.a],this.b};var rf={};function sm(i){var a={},l=a.document||document,m=Cb(i).toString(),y=Nl(document,"SCRIPT"),w={Xb:y,Ma:void 0},A=new Go(w),R=null,G=a.timeout!=null?a.timeout:5e3;return 0<G&&(R=window.setTimeout(function(){of(y,!0);var te=new am(jP,"Timeout reached for loading script "+m);tf(A),Vu(A,!1,te)},G),w.Ma=R),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(of(y,a.xd||!1,R),tf(A),Vu(A,!0,null))},y.onerror=function(){of(y,!0,R);var te=new am(VP,"Error while loading script "+m);tf(A),Vu(A,!1,te)},w=a.attributes||{},He(w,{type:"text/javascript",charset:"UTF-8"}),qb(y,w),mR(y,i),FP(l).appendChild(y),A}function FP(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function UP(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&of(i,!0,this.Ma)}}function of(i,a,l){l!=null&&f.clearTimeout(l),i.onload=p,i.onerror=p,i.onreadystatechange=p,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var VP=0,jP=1;function am(i,a){var l="Jsloader error (code #"+i+")";a&&(l+=": "+a),he.call(this,l),this.code=i}j(am,he);function sf(i){this.f=i}j(sf,xu),sf.prototype.a=function(){return new this.f},sf.prototype.b=function(){return{}};function Rr(i,a,l){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||BP,this.g=Be(i.secureTokenHeaders||$P),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||qP,this.a=Be(i.firebaseHeaders||HP),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=Gr()=="Node",l=f.XMLHttpRequest||l&&Me.INTERNAL.node&&Me.INTERNAL.node.XMLHttpRequest,!l&&!Cr())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Cr()?this.f=new Ql(self):N0()?this.f=new sf(l):this.f=new Yl,this.b=null}var um,Pr="idToken",BP=new Vi(3e4,6e4),$P={"Content-Type":"application/x-www-form-urlencoded"},qP=new Vi(3e4,6e4),HP={"Content-Type":"application/json"};function Nw(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function af(i,a){a&&(i.l=cm("https://securetoken.googleapis.com/v1/token",a),i.h=cm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=cm("https://identitytoolkit.googleapis.com/v2/",a))}function cm(i,a){return i=zn(i),a=zn(a.url),i.f=i.a+i.f,_u(i,a.c),i.a=a.a,bu(i,a.g),i.toString()}function Cw(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Rr.prototype.T=function(){return this.b};function Ow(i,a,l,m,y,w,A){zR()||Cr()?i=D(i.u,i):(um||(um=new Je(function(R,G){WP(R,G)})),i=D(i.s,i)),i(a,l,m,y,w,A)}Rr.prototype.u=function(i,a,l,m,y,w){if(Cr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var A=new Fu(this.f);if(w){A.g=Math.max(0,w);var R=setTimeout(function(){A.dispatchEvent("timeout")},w)}d0(A,"complete",function(){R&&clearTimeout(R);var G=null;try{G=JSON.parse(LP(this))||null}catch{G=null}a&&a(G)}),gp(A,"ready",function(){R&&clearTimeout(R),s0(this)}),gp(A,"timeout",function(){R&&clearTimeout(R),s0(this),a&&a(null)}),PP(A,i,l,m,y)};var KP=new En(Tl,"https://apis.google.com/js/client.js?onload=%{onload}"),Rw="__fcb"+Math.floor(1e6*Math.random()).toString();function WP(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[Rw]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var l=Jd(KP,{onload:Rw});MP(sm(l),function(){a(Error("CORS_UNSUPPORTED"))})}}Rr.prototype.s=function(i,a,l,m,y){var w=this;um.then(function(){window.gapi.client.setApiKey(w.c);var A=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:m,headers:y,authType:"none",callback:function(R){window.gapi.auth.setToken(A),a&&a(R)}})}).o(function(A){a&&a({error:{message:A&&A.message||"CORS_UNSUPPORTED"}})})};function GP(i,a){return new Je(function(l,m){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?Ow(i,i.l+"?key="+encodeURIComponent(i.c),function(y){y?y.error?m(vm(y)):y.access_token&&y.refresh_token?l(y):m(new P("internal-error")):m(new P("network-request-failed"))},"POST",y0(a).toString(),i.g,i.m.get()):m(new P("internal-error"))})}function Pw(i,a,l,m,y,w,A){var R=zn(a+l);$t(R,"key",i.c),A&&$t(R,"cb",Date.now().toString());var G=m=="GET";if(G)for(var te in y)y.hasOwnProperty(te)&&$t(R,te,y[te]);return new Je(function($e,pt){Ow(i,R.toString(),function(ut){ut?ut.error?pt(vm(ut,w||{})):$e(ut):pt(new P("network-request-failed"))},m,G?void 0:w0(R0(y)),i.a,i.v.get())})}function zo(i){if(i=i.email,typeof i!="string"||!QR.test(i))throw new P("invalid-email")}function xw(i){"email"in i&&zo(i)}function zP(i,a){return et(i,ix,{identifier:a,continueUri:Ul()?Iu():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function YP(i){return et(i,gx,{}).then(function(a){return a.authorizedDomains||[]})}function Yn(i){if(!i[Pr])throw i.mfaPendingCredential?new P("multi-factor-auth-required",null,Be(i)):new P("internal-error")}function lm(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new P("internal-error")}else{if(!i.sessionInfo)throw new P("missing-verification-id");if(!i.code)throw new P("missing-verification-code")}}Rr.prototype.Ab=function(){return et(this,bx,{})},Rr.prototype.Cb=function(i,a){return et(this,Mw,{idToken:i,email:a})},Rr.prototype.Db=function(i,a){return et(this,Fw,{idToken:i,password:a})};var XP={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Rr.prototype,e.Eb=function(i,a){var l={idToken:i},m=[];return Ve(XP,function(y,w){var A=a[w];A===null?m.push(y):w in a&&(l[w]=A)}),m.length&&(l.deleteAttribute=m),et(this,Mw,l)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},He(i,a),et(this,mx,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},He(i,a),et(this,hx,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},He(i,a),et(this,dx,i)},e.Fb=function(i,a,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},He(i,l),et(this,px,i)};function QP(i,a){return et(i,_x,a)}e.gb=function(i){return et(this,kx,i)};function JP(i,a){return et(i,wx,a).then(function(l){return l.phoneSessionInfo.sessionInfo})}function Dw(i){if(!i.phoneVerificationInfo)throw new P("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new P("missing-verification-code")}function ZP(i,a){return et(i,Ex,a).then(function(l){return l.phoneResponseInfo.sessionInfo})}function ex(i,a,l){return et(i,sx,{idToken:a,deleteProvider:l})}function fm(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new P("internal-error")}function hm(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Uo(i.postBody),bp(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function Lw(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=Gl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=Gl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=Gl(i)):i.errorMessage&&(a=Vw(i.errorMessage)),a)throw a;Yn(i)}function dm(i,a){return a.returnIdpCredential=!0,et(i,Ix,a)}function pm(i,a){return a.returnIdpCredential=!0,et(i,Sx,a)}function mm(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,et(i,Tx,a)}function gm(i){if(!i.oobCode)throw new P("invalid-action-code")}e.ob=function(i,a){return et(this,yx,{oobCode:i,newPassword:a})},e.Sa=function(i){return et(this,nx,{oobCode:i})},e.kb=function(i){return et(this,tx,{oobCode:i})};var tx={endpoint:"setAccountInfo",A:gm,Z:"email",B:!0},nx={endpoint:"resetPassword",A:gm,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},B:!0},rx={endpoint:"signupNewUser",A:function(i){if(zo(i),!i.password)throw new P("weak-password")},G:Yn,V:!0,B:!0},ix={endpoint:"createAuthUri",B:!0},ox={endpoint:"deleteAccount",O:["idToken"]},sx={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new P("internal-error")}},ax={endpoint:"emailLinkSignin",O:["email","oobCode"],A:zo,G:Yn,V:!0,B:!0},ux={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:zo,G:Yn,V:!0},cx={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Dw,G:Yn,B:!0,Na:!0},lx={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Dw,G:Yn,B:!0,Na:!0},fx={endpoint:"getAccountInfo"},hx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new P("internal-error");zo(i)},Z:"email",B:!0},dx={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new P("internal-error")},Z:"email",B:!0},px={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},Z:"email",B:!0},mx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new P("internal-error");zo(i)},Z:"email",B:!0},gx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},vx={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new P("internal-error")}},yx={endpoint:"resetPassword",A:gm,Z:"email",B:!0},_x={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Mw={endpoint:"setAccountInfo",O:["idToken"],A:xw,V:!0},Fw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(xw(i),!i.password)throw new P("weak-password")},G:Yn,V:!0},bx={endpoint:"signupNewUser",G:Yn,V:!0,B:!0},wx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new P("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},Ex={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},Ix={endpoint:"verifyAssertion",A:fm,Za:hm,G:Lw,V:!0,B:!0},Tx={endpoint:"verifyAssertion",A:fm,Za:hm,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new P("user-not-found");if(i.errorMessage)throw Vw(i.errorMessage);Yn(i)},V:!0,B:!0},Sx={endpoint:"verifyAssertion",A:function(i){if(fm(i),!i.idToken)throw new P("internal-error")},Za:hm,G:Lw,V:!0},Ax={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new P("invalid-custom-token")},G:Yn,V:!0,B:!0},Uw={endpoint:"verifyPassword",A:function(i){if(zo(i),!i.password)throw new P("wrong-password")},G:Yn,V:!0,B:!0},kx={endpoint:"verifyPhoneNumber",A:lm,G:Yn,B:!0},Nx={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new P("internal-error");lm(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Gl(i);Yn(i)}},Cx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:lm,G:Yn,B:!0},Ox={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Pr]^!!i.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function et(i,a,l){if(!iP(l,a.O))return Rt(new P("internal-error"));var m=!!a.Na,y=a.Vb||"POST",w;return Ce(l).then(a.A).then(function(){return a.V&&(l.returnSecureToken=!0),a.B&&i.b&&typeof l.tenantId>"u"&&(l.tenantId=i.b),m?Pw(i,i.i,a.endpoint,y,l,a.Ib,a.mb||!1):Pw(i,i.h,a.endpoint,y,l,a.Ib,a.mb||!1)}).then(function(A){return w=A,a.Za?a.Za(l,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new P("internal-error");return w[a.Z]})}function Vw(i){return vm({error:{errors:[{message:i}],code:400,message:i}})}function vm(i,a){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=m[l]?new P(m[l]):null)return l;l=i.error&&i.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},He(m,a||{}),a=(a=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var y in m)if(l.indexOf(y)===0)return new P(m[y],a);return!a&&i&&(a=Su(i)),new P("internal-error",a)}function Rx(i){this.b=i,this.a=null,this.sb=Px(this)}function Px(i){return Ux().then(function(){return new Je(function(a,l){Pt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Pt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function y(){clearTimeout(w),a()}i.a=m,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){l(Error("Network Error"))},Fx.get());m.ping(y).then(y,function(){l(Error("Network Error"))})})})})}function xx(i,a){return i.sb.then(function(){return new Je(function(l){i.a.send(a.type,a,l,Pt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Dx(i,a){i.sb.then(function(){i.a.register("authEvent",a,Pt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Lx=new En(Tl,"https://apis.google.com/js/api.js?onload=%{onload}"),Mx=new Vi(3e4,6e4),Fx=new Vi(5e3,15e3),uf=null;function Ux(){return uf||(uf=new Je(function(i,a){function l(){x0(),Pt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){x0(),a(Error("Network Error"))},timeout:Mx.get()})}if(Pt("gapi.iframes.Iframe"))i();else if(Pt("gapi.load"))l();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[m]=function(){Pt("gapi.load")?l():a(Error("Network Error"))},m=Jd(Lx,{onload:m}),Ce(sm(m)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw uf=null,i}))}function jw(i,a,l,m){this.l=i,this.h=a,this.i=l,this.g=m,this.f=null,this.g?(i=zn(this.g.url),i=Ml(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Ml("https",this.l,null,"/__/auth/iframe"),this.a=i,$t(this.a,"apiKey",this.h),$t(this.a,"appName",this.i),this.b=null,this.c=[]}jw.prototype.toString=function(){return this.f?$t(this.a,"v",this.f):Wr(this.a.b,"v"),this.b?$t(this.a,"eid",this.b):Wr(this.a.b,"eid"),this.c.length?$t(this.a,"fw",this.c.join(",")):Wr(this.a.b,"fw"),this.a.toString()};function ym(i,a,l,m,y,w){this.u=i,this.s=a,this.c=l,this.m=m,this.v=w,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}ym.prototype.zb=function(i){return this.h=i,this},ym.prototype.toString=function(){if(this.v){var i=zn(this.v.url);i=Ml(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Ml("https",this.u,null,"/__/auth/handler");if($t(i,"apiKey",this.s),$t(i,"appName",this.c),$t(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var l=Me.app(this.c).auth().la()}catch{l=null}a.pb=l,$t(i,"providerId",this.a.providerId),l=this.a,a=R0(l.Jb);for(var m in a)a[m]=a[m].toString();m=l.Qc,a=Be(a);for(var y=0;y<m.length;y++){var w=m[y];w in a&&delete a[w]}l.qb&&l.pb&&!a[l.qb]&&(a[l.qb]=l.pb),Ye(a)||$t(i,"customParameters",Su(a))}if(typeof this.a.Rb=="function"&&(l=this.a.Rb(),l.length&&$t(i,"scopes",l.join(","))),this.l?$t(i,"redirectUrl",this.l):Wr(i.b,"redirectUrl"),this.g?$t(i,"eventId",this.g):Wr(i.b,"eventId"),this.i?$t(i,"v",this.i):Wr(i.b,"v"),this.b)for(var A in this.b)this.b.hasOwnProperty(A)&&!br(i,A)&&$t(i,A,this.b[A]);return this.h?$t(i,"tid",this.h):Wr(i.b,"tid"),this.f?$t(i,"eid",this.f):Wr(i.b,"eid"),A=_m(this.c),A.length&&$t(i,"fw",A.join(",")),i.toString()};function _m(i){try{return Me.app(i).auth().Ga()}catch{return[]}}function Bw(i,a,l,m,y,w){this.s=i,this.g=a,this.b=l,this.f=w,this.c=m||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function $w(i){var a=Iu();return YP(i).then(function(l){e:{var m=zn(a),y=m.c;m=m.a;for(var w=0;w<l.length;w++){var A=l[w],R=m,G=y;if(A.indexOf("chrome-extension://")==0?R=zn(A).a==R&&G=="chrome-extension":G!="http"&&G!="https"?R=!1:XR.test(A)?R=R==A:(A=A.split(".").join("\\."),R=new RegExp("^(.+\\."+A+"|"+A+")$","i").test(R)),R){l=!0;break e}}l=!1}if(!l)throw new Xp(Iu())})}function qw(i){return i.m||(i.m=Fl().then(function(){if(!i.u){var a=i.c,l=i.i,m=_m(i.b),y=new jw(i.s,i.g,i.b,i.f);y.f=a,y.b=l,y.c=Q(m||[]),i.u=y.toString()}i.v=new Rx(i.u),Vx(i)})),i.m}e=Bw.prototype,e.Pb=function(i,a,l){var m=new P("popup-closed-by-user"),y=new P("web-storage-unsupported"),w=this,A=!1;return this.ma().then(function(){jx(w).then(function(R){R||(i&&Vo(i),a(y),A=!0)})}).o(function(){}).then(function(){if(!A)return YR(i)}).then(function(){if(!A)return qs(l).then(function(){a(m)})})},e.Yb=function(){var i=dn();return!Tu(i)&&!P0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,l,m,y,w,A,R){if(!i)return Rt(new P("popup-blocked"));if(A&&!Tu())return this.ma().o(function(te){Vo(i),y(te)}),m(),Ce();this.a||(this.a=$w(Hw(this)));var G=this;return this.a.then(function(){var te=G.ma().o(function($e){throw Vo(i),y($e),$e});return m(),te}).then(function(){if(zp(l),!A){var te=Bu(G.s,G.g,G.b,a,l,null,w,G.c,void 0,G.i,R,G.f);T0(te,i)}}).o(function(te){throw te.code=="auth/network-request-failed"&&(G.a=null),te})};function Hw(i){return i.l||(i.C=i.c?Gs(i.c,_m(i.b)):null,i.l=new Rr(i.g,qe(i.i),i.C),i.f&&af(i.l,i.f)),i.l}e.Ob=function(i,a,l,m){this.a||(this.a=$w(Hw(this)));var y=this;return this.a.then(function(){zp(a);var w=Bu(y.s,y.g,y.b,i,a,Iu(),l,y.c,void 0,y.i,m,y.f);T0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(y.a=null),w})},e.ma=function(){var i=this;return qw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new P("network-request-failed")})},e.ac=function(){return!0};function Bu(i,a,l,m,y,w,A,R,G,te,$e,pt){return i=new ym(i,a,l,m,y,pt),i.l=w,i.g=A,i.i=R,i.b=Be(G||null),i.f=te,i.zb($e).toString()}function Vx(i){if(!i.v)throw Error("IfcHandler must be initialized!");Dx(i.v,function(a){var l={};if(a&&a.authEvent){var m=!1;for(a=dw(a.authEvent),l=0;l<i.h.length;l++)m=i.h[l](a)||m;return l={},l.status=m?"ACK":"ERROR",Ce(l)}return l.status="ERROR",Ce(l)})}function jx(i){var a={type:"webStorageSupport"};return qw(i).then(function(){return xx(i.v,a)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport<"u")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){L(this.h,function(a){return a==i})};function Kw(i){if(this.a=i||Me.INTERNAL.reactNative&&Me.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Kw.prototype,e.get=function(i){return Ce(this.a.getItem(i)).then(function(a){return a&&Ys(a)})},e.set=function(i,a){return Ce(this.a.setItem(i,Su(a)))},e.U=function(i){return Ce(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Ww(i){this.b=i,this.a={},this.f=D(this.c,this)}var Gw=[];function Bx(){var i=Cr()?self:null;if(z(Gw,function(l){l.b==i&&(a=l)}),!a){var a=new Ww(i);Gw.push(a)}return a}Ww.prototype.c=function(i){var a=i.data.eventType,l=i.data.eventId,m=this.a[a];if(m&&0<m.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:a,response:null});var y=[];z(m,function(w){y.push(Ce().then(function(){return w(i.origin,i.data.data)}))}),Qb(y).then(function(w){var A=[];z(w,function(R){A.push({fulfilled:R.Qb,value:R.value,reason:R.reason?R.reason.message:void 0})}),z(A,function(R){for(var G in R)typeof R[G]>"u"&&delete R[G]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:a,response:A})})}};function zw(i,a,l){Ye(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(l)}function Yw(i){this.a=i}Yw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Xw(i){this.c=i,this.b=!1,this.a=[]}function Qw(i,a,l,m){var y,w=l||{},A,R,G,te=null;if(i.b)return Rt(Error("connection_unavailable"));var $e=m?800:50,pt=typeof MessageChannel<"u"?new MessageChannel:null;return new Je(function(ut,cn){pt?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),pt.port1.start(),R=setTimeout(function(){cn(Error("unsupported_event"))},$e),A=function(vi){vi.data.eventId===y&&(vi.data.status==="ack"?(clearTimeout(R),G=setTimeout(function(){cn(Error("timeout"))},3e3)):vi.data.status==="done"?(clearTimeout(G),typeof vi.data.response<"u"?ut(vi.data.response):cn(Error("unknown_error"))):(clearTimeout(R),clearTimeout(G),cn(Error("invalid_response"))))},te={messageChannel:pt,onMessage:A},i.a.push(te),pt.port1.addEventListener("message",A),i.c.postMessage({eventType:a,eventId:y,data:w},[pt.port2])):cn(Error("connection_unavailable"))}).then(function(ut){return bm(i,te),ut}).o(function(ut){throw bm(i,te),ut})}function bm(i,a){if(a){var l=a.messageChannel,m=a.onMessage;l&&(l.port1.removeEventListener("message",m),l.port1.close()),L(i.a,function(y){return y==a})}}Xw.prototype.close=function(){for(;0<this.a.length;)bm(this,this.a[0]);this.b=!0};function Jw(){if(!Im())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;Cr()&&self?(this.v=Bx(),zw(this.v,"keyChanged",function(a,l){return tE(i).then(function(m){return 0<m.length&&z(i.a,function(y){y(m)}),{keyProcessed:I(m,l.key)}})}),zw(this.v,"ping",function(){return Ce(["keyChanged"])})):nP().then(function(a){(i.h=a)&&(i.g=new Xw(new Yw(a)),Qw(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&I(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var wm;function $x(i){return new Je(function(a,l){var m=i.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){a()},m.onerror=function(y){l(Error(y.target.error))}})}function Zw(i){return new Je(function(a,l){var m=i.m.open("firebaseLocalStorageDb",1);m.onerror=function(y){try{y.preventDefault()}catch{}l(Error(y.target.error))},m.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){l(w)}},m.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?a(y):$x(i).then(function(){return Zw(i)}).then(function(w){a(w)}).o(function(w){l(w)})}})}function Em(i){return i.i||(i.i=Zw(i)),i.i}function cf(i,a){function l(y,w){Em(i).then(a).then(y).o(function(A){if(3<++m)w(A);else return Em(i).then(function(R){return R.close(),i.i=void 0,l(y,w)}).o(function(R){w(R)})})}var m=0;return new Je(l)}function Im(){try{return!!f.indexedDB}catch{return!1}}function $u(i){return i.objectStore("firebaseLocalStorage")}function qu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Zs(i){return new Je(function(a,l){i.onsuccess=function(m){m&&m.target?a(m.target.result):a()},i.onerror=function(m){l(m.target.error)}})}e=Jw.prototype,e.set=function(i,a){var l=this,m=!1;return cf(this,function(y){return y=$u(qu(y,!0)),Zs(y.get(i))}).then(function(y){return cf(l,function(w){if(w=$u(qu(w,!0)),y)return y.value=a,Zs(w.put(y));l.b++,m=!0;var A={};return A.fbase_key=i,A.value=a,Zs(w.add(A))})}).then(function(){return l.c[i]=a,eE(l,i)}).oa(function(){m&&l.b--})};function eE(i,a){return i.g&&i.h&&tP()===i.h?Qw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Ce()}e.get=function(i){return cf(this,function(a){return Zs($u(qu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,l=!1;return cf(this,function(m){return l=!0,a.b++,Zs($u(qu(m,!0)).delete(i))}).then(function(){return delete a.c[i],eE(a,i)}).oa(function(){l&&a.b--})};function tE(i){return Em(i).then(function(a){var l=$u(qu(a,!1));return l.getAll?Zs(l.getAll()):new Je(function(m,y){var w=[],A=l.openCursor();A.onsuccess=function(R){(R=R.target.result)?(w.push(R.value),R.continue()):m(w)},A.onerror=function(R){y(R.target.error)}})}).then(function(a){var l={},m=[];if(i.b==0){for(m=0;m<a.length;m++)l[a[m].fbase_key]=a[m].value;m=S0(i.c,l),i.c=l}return m})}e.ca=function(i){this.a.length==0&&qx(this),this.a.push(i)},e.ia=function(i){L(this.a,function(a){return a==i}),this.a.length==0&&nE(this)};function qx(i){function a(){i.f=setTimeout(function(){i.l=tE(i).then(function(l){0<l.length&&z(i.a,function(m){m(l)})}).then(function(){a()}).o(function(l){l.message!="STOP_EVENT"&&a()})},800)}nE(i),a()}function nE(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function rE(i){var a=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ce().then(function(){if(Im()){var m=Bo(),y="__sak"+m;return wm||(wm=new Jw),l=wm,l.set(y,m).then(function(){return l.get(y)}).then(function(w){if(w!==m)throw Error("indexedDB not supported!");return l.U(y)}).then(function(){return l}).o(function(){return a.c})}return a.c}).then(function(m){return a.type=m.type,m.ca(function(y){z(a.a,function(w){w(y)})}),m})}e=rE.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(l){return l.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){L(this.a,function(a){return a==i})};function Hu(){this.a={},this.type="inMemory"}e=Hu.prototype,e.get=function(i){return Ce(this.a[i])},e.set=function(i,a){return this.a[i]=a,Ce()},e.U=function(i){return delete this.a[i],Ce()},e.ca=function(){},e.ia=function(){};function lf(){if(!Hx())throw Gr()=="Node"?new P("internal-error","The LocalStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=iE()||Me.INTERNAL.node.localStorage,this.type="localStorage"}function iE(){try{var i=f.localStorage,a=Bo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function Hx(){var i=Gr()=="Node";if(i=iE()||i&&Me.INTERNAL.node&&Me.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=lf.prototype,e.get=function(i){var a=this;return Ce().then(function(){var l=a.a.getItem(i);return Ys(l)})},e.set=function(i,a){var l=this;return Ce().then(function(){var m=Su(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return Ce().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&_r(f.window,"storage",i)},e.ia=function(i){f.window&&sr(f.window,"storage",i)};function Tm(){this.type="nullStorage"}e=Tm.prototype,e.get=function(){return Ce(null)},e.set=function(){return Ce()},e.U=function(){return Ce()},e.ca=function(){},e.ia=function(){};function Sm(){if(!Kx())throw Gr()=="Node"?new P("internal-error","The SessionStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=oE()||Me.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function oE(){try{var i=f.sessionStorage,a=Bo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function Kx(){var i=Gr()=="Node";if(i=oE()||i&&Me.INTERNAL.node&&Me.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Sm.prototype,e.get=function(i){var a=this;return Ce().then(function(){var l=a.a.getItem(i);return Ys(l)})},e.set=function(i,a){var l=this;return Ce().then(function(){var m=Su(a);m===null?l.U(i):l.a.setItem(i,m)})},e.U=function(i){var a=this;return Ce().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function Wx(){var i={};i.Browser=Gx,i.Node=zx,i.ReactNative=Yx,i.Worker=Xx,this.a=i[Gr()]}var Am,Gx={F:lf,cb:Sm},zx={F:lf,cb:Sm},Yx={F:Kw,cb:Tm},Xx={F:lf,cb:Tm},ea={rd:"local",NONE:"none",td:"session"};function Qx(i){var a=new P("invalid-persistence-type"),l=new P("unsupported-persistence-type");e:{for(m in ea)if(ea[m]==i){var m=!0;break e}m=!1}if(!m||typeof i!="string")throw a;switch(Gr()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!Im()&&i!=="none")throw l;break;default:if(!Ap()&&i!=="none")throw l}}function sE(){var i=!!(!P0(dn())&&Tp()),a=Tu(),l=Ap();this.m=i,this.h=a,this.l=l,this.a={},Am||(Am=new Wx),i=Am;try{this.g=!Ep()&&D0()||!f.indexedDB?new i.a.F:new rE(Cr()?new Hu:new i.a.F)}catch{this.g=new Hu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Hu}this.v=new Hu,this.f=D(this.Zb,this),this.b={}}var km;function Ku(){return km||(km=new sE),km}function Yo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function ta(i,a){return"firebase:"+i.name+(a?":"+a:"")}function Jx(i,a,l){var m=ta(a,l),y=Yo(i,a.F);return i.get(a,l).then(function(w){var A=null;try{A=Ys(f.localStorage.getItem(m))}catch{}if(A&&!w)return f.localStorage.removeItem(m),i.set(a,A,l);A&&w&&y.type!="localStorage"&&f.localStorage.removeItem(m)})}e=sE.prototype,e.get=function(i,a){return Yo(this,i.F).get(ta(i,a))};function na(i,a,l){return l=ta(a,l),a.F=="local"&&(i.b[l]=null),Yo(i,a.F).U(l)}e.set=function(i,a,l){var m=ta(i,l),y=this,w=Yo(this,i.F);return w.set(m,a).then(function(){return w.get(m)}).then(function(A){i.F=="local"&&(y.b[m]=A)})},e.addListener=function(i,a,l){i=ta(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Ye(this.a)&&(Yo(this,"local").ca(this.f),this.h||(Ep()||!D0())&&f.indexedDB||!this.l||Zx(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,a,l){i=ta(i,a),this.a[i]&&(L(this.a[i],function(m){return m==l}),this.a[i].length==0&&delete this.a[i]),Ye(this.a)&&(Yo(this,"local").ia(this.f),Nm(this))};function Zx(i){Nm(i),i.c=setInterval(function(){for(var a in i.a){var l=f.localStorage.getItem(a),m=i.b[a];l!=m&&(i.b[a]=l,l=new Mo({type:"storage",key:a,target:window,oldValue:m,newValue:l,a:!0}),i.Zb(l))}},1e3)}function Nm(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var l in this.a){var m=this.b[l];typeof m>"u"&&(m=null);var y=f.localStorage.getItem(l);y!==m&&(this.b[l]=y,this.nb(l))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Yo(this,"local").ia(this.f):Nm(this),this.m){if(l=f.localStorage.getItem(a),m=i.a.newValue,m!==l)m!==null?f.localStorage.setItem(a,m):f.localStorage.removeItem(a);else if(this.b[a]===m&&typeof i.a.a>"u")return}var w=this;l=function(){(typeof i.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},Nr&&Mi&&Mi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else z(i,D(this.nb,this))},e.nb=function(i){this.a[i]&&z(this.a[i],function(a){a()})};function eD(i){this.a=i,this.b=Ku()}var Cm={name:"authEvent",F:"local"};function tD(i){return i.b.get(Cm,i.a).then(function(a){return dw(a)})}function nD(){this.a=Ku()}function rD(){this.b=-1}function ff(i,a){this.b=aE,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),hf===void 0&&(f.Int32Array?hf=new Int32Array(lE):hf=lE),this.reset()}var hf;j(ff,rD);for(var aE=64,iD=aE-1,uE=[],Om=0;Om<iD;Om++)uE[Om]=0;var cE=B(128,uE);ff.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):Q(this.h)};function Rm(i){for(var a=i.f,l=i.l,m=0,y=0;y<a.length;)l[m++]=a[y]<<24|a[y+1]<<16|a[y+2]<<8|a[y+3],y=4*m;for(a=16;64>a;a++){y=l[a-15]|0,m=l[a-2]|0;var w=(l[a-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,A=(l[a-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;l[a]=w+A|0}m=i.a[0]|0,y=i.a[1]|0;var R=i.a[2]|0,G=i.a[3]|0,te=i.a[4]|0,$e=i.a[5]|0,pt=i.a[6]|0;for(w=i.a[7]|0,a=0;64>a;a++){var ut=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&y^m&R^y&R)|0;A=te&$e^~te&pt,w=w+((te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7))|0,A=A+(hf[a]|0)|0,A=w+(A+(l[a]|0)|0)|0,w=pt,pt=$e,$e=te,te=G+A|0,G=R,R=y,y=m,m=A+ut|0}i.a[0]=i.a[0]+m|0,i.a[1]=i.a[1]+y|0,i.a[2]=i.a[2]+R|0,i.a[3]=i.a[3]+G|0,i.a[4]=i.a[4]+te|0,i.a[5]=i.a[5]+$e|0,i.a[6]=i.a[6]+pt|0,i.a[7]=i.a[7]+w|0}function Pm(i,a,l){l===void 0&&(l=a.length);var m=0,y=i.c;if(typeof a=="string")for(;m<l;)i.f[y++]=a.charCodeAt(m++),y==i.b&&(Rm(i),y=0);else if(_(a))for(;m<l;){var w=a[m++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[y++]=w,y==i.b&&(Rm(i),y=0)}else throw Error("message must be string or array");i.c=y,i.g+=l}var lE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fE(){ff.call(this,8,oD)}j(fE,ff);var oD=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hE(i,a,l,m,y,w){this.v=i,this.i=a,this.l=l,this.m=m||null,this.u=y||null,this.s=w,this.h=a+":"+l,this.C=new nD,this.g=new eD(this.h),this.f=null,this.b=[],this.a=this.c=null}function df(i){return new P("invalid-cordova-configuration",i)}e=hE.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=JR().then(function(){if(typeof Pt("universalLinks.subscribe",f)!="function")throw df("cordova-universal-links-plugin-fix is not installed");if(typeof Pt("BuildInfo.packageName",f)>"u")throw df("cordova-plugin-buildinfo is not installed");if(typeof Pt("cordova.plugins.browsertab.openUrl",f)!="function")throw df("cordova-plugin-browsertab is not installed");if(typeof Pt("cordova.InAppBrowser.open",f)!="function")throw df("cordova-plugin-inappbrowser is not installed")},function(){throw new P("cordova-not-ready")})};function sD(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function aD(i){var a=new fE;Pm(a,i),i=[];var l=8*a.g;56>a.c?Pm(a,cE,56-a.c):Pm(a,cE,a.b-(a.c-56));for(var m=63;56<=m;m--)a.f[m]=l&255,l/=256;for(Rm(a),m=l=0;m<a.i;m++)for(var y=24;0<=y;y-=8)i[l++]=a.a[m]>>y&255;return yP(i)}e.Pb=function(i,a){return a(new P("operation-not-supported-in-this-environment")),Ce()},e.Nb=function(){return Rt(new P("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,l,m){if(this.c)return Rt(new P("redirect-operation-pending"));var y=this,w=f.document,A=null,R=null,G=null,te=null;return this.c=Ce().then(function(){return zp(a),pE(y)}).then(function(){return uD(y,i,a,l,m)}).then(function(){return new Je(function($e,pt){R=function(){var ut=Pt("cordova.plugins.browsertab.close",f);return $e(),typeof ut=="function"&&ut(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(R),G=function(){A||(A=qs(2e3).then(function(){pt(new P("redirect-cancelled-by-user"))}))},te=function(){kp()&&G()},w.addEventListener("resume",G,!1),dn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",te,!1)}).o(function($e){return xm(y).then(function(){throw $e})})}).oa(function(){G&&w.removeEventListener("resume",G,!1),te&&w.removeEventListener("visibilitychange",te,!1),A&&A.cancel(),R&&y.Ta(R),y.c=null})};function uD(i,a,l,m,y){var w=sD(),A=new Or(a,m,null,w,new P("no-auth-event"),null,y),R=Pt("BuildInfo.packageName",f);if(typeof R!="string")throw new P("invalid-cordova-configuration");var G=Pt("BuildInfo.displayName",f),te={};if(dn().toLowerCase().match(/iphone|ipad|ipod/))te.ibi=R;else if(dn().toLowerCase().match(/android/))te.apn=R;else return Rt(new P("operation-not-supported-in-this-environment"));G&&(te.appDisplayName=G),w=aD(w),te.sessionId=w;var $e=Bu(i.v,i.i,i.l,a,l,null,m,i.m,te,i.u,y,i.s);return i.ma().then(function(){var pt=i.h;return i.C.a.set(Cm,A.w(),pt)}).then(function(){var pt=Pt("cordova.plugins.browsertab.isAvailable",f);if(typeof pt!="function")throw new P("invalid-cordova-configuration");var ut=null;pt(function(cn){if(cn){if(ut=Pt("cordova.plugins.browsertab.openUrl",f),typeof ut!="function")throw new P("invalid-cordova-configuration");ut($e)}else{if(ut=Pt("cordova.InAppBrowser.open",f),typeof ut!="function")throw new P("invalid-cordova-configuration");cn=dn(),i.a=ut($e,cn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||cn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function dE(i,a){for(var l=0;l<i.b.length;l++)try{i.b[l](a)}catch{}}function pE(i){return i.f||(i.f=i.ma().then(function(){return new Je(function(a){function l(m){return a(m),i.Ta(l),!1}i.Ea(l),cD(i)})})),i.f}function xm(i){var a=null;return tD(i.g).then(function(l){return a=l,l=i.g,na(l.b,Cm,l.a)}).then(function(){return a})}function cD(i){function a(A){m=!0,y&&y.cancel(),xm(i).then(function(R){var G=l;if(R&&A&&A.url){var te=null;G=ow(A.url),G.indexOf("/__/auth/callback")!=-1&&(te=zn(G),te=Ys(br(te,"firebaseError")||null),te=(te=typeof te=="object"?Ie(te):null)?new Or(R.c,R.b,null,null,te,null,R.T()):new Or(R.c,R.b,G,R.f,null,null,R.T())),G=te||l}dE(i,G)})}var l=new Or("unknown",null,null,null,new P("no-auth-event")),m=!1,y=qs(500).then(function(){return xm(i).then(function(){m||dE(i,l)})}),w=f.handleOpenURL;f.handleOpenURL=function(A){if(A.toLowerCase().indexOf(Pt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:A}),typeof w=="function")try{w(A)}catch(R){console.error(R)}},Yp||(Yp=new AP),kP(a)}e.Ea=function(i){this.b.push(i),pE(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Or("unknown",null,null,null,new P("no-auth-event")),i(a))})},e.Ta=function(i){L(this.b,function(a){return a==i})};function lD(i){this.a=i,this.b=Ku()}var Dm={name:"pendingRedirect",F:"session"};function fD(i){return i.b.set(Dm,"pending",i.a)}function Lm(i){return na(i.b,Dm,i.a)}function hD(i){return i.b.get(Dm,i.a).then(function(a){return a=="pending"})}function pf(i,a,l,m){this.i={},this.u=0,this.D=i,this.v=a,this.m=l,this.J=m,this.h=[],this.f=!1,this.l=D(this.s,this),this.b=new gf,this.C=new TE,this.g=new lD(wE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=mE(this.D,this.v,this.m,ce,this.J)}function mE(i,a,l,m,y){var w=Me.SDK_VERSION||null;return Ip()?new hE(i,a,l,w,m,y):new Bw(i,a,l,w,m,y)}pf.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=mE(this.D,this.v,this.m,null,this.J),this.i={}};function gE(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(l){throw i.a==a&&i.reset(),l})}function vE(i){i.a.Yb()&&gE(i).o(function(a){var l=new Or("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Fm(a)&&i.s(l)}),i.a.Ub()||EE(i.b)}function mf(i,a){I(i.h,a)||i.h.push(a),i.f||hD(i.g).then(function(l){l?Lm(i.g).then(function(){gE(i).o(function(m){var y=new Or("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Fm(m)&&i.s(y)})}):vE(i)}).o(function(){vE(i)})}function Mm(i,a){L(i.h,function(l){return l==a})}pf.prototype.s=function(i){if(!i)throw new P("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,l=0;l<this.h.length;l++){var m=this.h[l];if(m.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,m),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return EE(this.b),a};var dD=new Vi(2e3,1e4),pD=new Vi(3e4,6e4);pf.prototype.ra=function(){return this.b.ra()};function yE(i,a,l,m,y,w,A){return i.a.Nb(a,l,m,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},y,w,A)}function Fm(i){return!!(i&&i.code=="auth/cordova-not-ready")}function _E(i,a,l,m,y){var w;return fD(i.g).then(function(){return i.a.Ob(a,l,m,y).o(function(A){if(Fm(A))throw new P("operation-not-supported-in-this-environment");return w=A,Lm(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new Je(function(){}):Lm(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function bE(i,a,l,m,y){return i.a.Pb(m,function(w){a.na(l,null,w,y)},dD.get())}var Um={};function wE(i,a,l){return i=i+":"+a,l&&(i=i+":"+l.url),i}function Vm(i,a,l,m){var y=wE(a,l,m);return Um[y]||(Um[y]=new pf(i,a,l,m)),Um[y]}function gf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}gf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},gf.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var l=i.c,m=i.b,y=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!w),l!="unknown"||y||w?i.a?(Xo(this,!0,null,i.a),Ce()):a.Fa(l,m)?mD(this,i,a):Rt(new P("invalid-auth-event")):(Xo(this,!1,null,null),Ce())}else Rt(new P("invalid-auth-event"))};function EE(i){i.g||(i.g=!0,Xo(i,!1,null,null))}function vf(i){i.g&&!i.i&&Xo(i,!1,null,null)}function mD(i,a,l){l=l.Fa(a.c,a.b);var m=a.g,y=a.f,w=a.i,A=a.T(),R=!!a.c.match(/Redirect$/);l(m,y,A,w).then(function(G){Xo(i,R,G,null)}).o(function(G){Xo(i,R,null,G)})}function gD(i,a){if(i.b=function(){return Rt(a)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](a)}function IE(i,a){if(i.b=function(){return Ce(a)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](a)}function Xo(i,a,l,m){a?m?gD(i,m):IE(i,l):IE(i,{user:null}),i.f=[],i.c=[]}gf.prototype.ra=function(){var i=this;return new Je(function(a,l){i.b?i.b().then(a,l):(i.f.push(a),i.c.push(l),vD(i))})};function vD(i){var a=new P("timeout");i.a&&i.a.cancel(),i.a=qs(pD.get()).then(function(){i.b||(i.g=!0,Xo(i,!0,null,a))})}function TE(){}TE.prototype.h=function(i,a){if(i){var l=i.c,m=i.b;i.a?(a.na(i.c,null,i.a,i.b),Ce()):a.Fa(l,m)?yD(i,a):Rt(new P("invalid-auth-event"))}else Rt(new P("invalid-auth-event"))};function yD(i,a){var l=i.b,m=i.c;a.Fa(m,l)(i.g,i.f,i.T(),i.i).then(function(y){a.na(m,y,null,l)}).o(function(y){a.na(m,null,y,l)})}function SE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function jm(i,a){this.a=a,Ee(this,"verificationId",i)}jm.prototype.confirm=function(i){return i=hw(this.verificationId,i),this.a(i)};function Bm(i,a,l,m){return new mi(i).gb(a,l).then(function(y){return new jm(y,m)})}function _D(i){var a=Q0(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Dn(this,{token:i,expirationTime:Au(1e3*a.exp),authTime:Au(1e3*a.auth_time),issuedAtTime:Au(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function $m(i,a,l){var m=a&&a[kE];if(!m)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Be(a),this.g=l,this.c=new Kl(null,m),this.b=[];var y=this;z(a[AE]||[],function(w){(w=xp(w))&&y.b.push(w)}),Ee(this,"auth",this.a),Ee(this,"session",this.c),Ee(this,"hints",this.b)}var AE="mfaInfo",kE="mfaPendingCredential";$m.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(l){var m=Be(a.f);return delete m[AE],delete m[kE],He(m,l),a.g(m)})};function qm(i,a,l,m){P.call(this,"multi-factor-auth-required",m,a),this.b=new $m(i,a,l),Ee(this,"resolver",this.b)}j(qm,P);function NE(i,a,l){if(i&&S(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new qm(a,i.serverResponse,l,i.message)}catch{}return null}function CE(){}CE.prototype.tb=function(i,a,l){return a.type==Ou?bD(this,i,a,l):wD(this,i,a)};function bD(i,a,l,m){return l.Ha().then(function(y){return y={idToken:y},typeof m<"u"&&(y.displayName=m),He(y,{phoneVerificationInfo:Ru(i.a)}),et(a,cx,y)})}function wD(i,a,l){return l.Ha().then(function(m){return m={mfaPendingCredential:m},He(m,{phoneVerificationInfo:Ru(i.a)}),et(a,lx,m)})}function Hm(i){Ee(this,"factorId",i.fa),this.a=i}j(Hm,CE);function OE(i){if(Hm.call(this,i),this.a.fa!=mi.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}j(OE,Hm);function ra(i,a){Gn.call(this,i);for(var l in a)this[l]=a[l]}j(ra,Gn);function Km(i,a){this.a=i,this.b=[],this.c=D(this.yc,this),_r(this.a,"userReloaded",this.c);var l=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&z(a.multiFactor.enrolledFactors,function(m){var y=null,w={};if(m){m.uid&&(w[Lp]=m.uid),m.displayName&&(w[M0]=m.displayName),m.enrollmentTime&&(w[Dp]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(w[Mp]=m.phoneNumber);try{y=new ku(w)}catch{}m=y}else m=null;m&&l.push(m)}),yf(this,l)}function ED(i){var a=[];return z(i.mfaInfo||[],function(l){(l=xp(l))&&a.push(l)}),a}e=Km.prototype,e.yc=function(i){yf(this,ED(i.hd))};function yf(i,a){i.b=a,Ee(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new Kl(i,null)})},e.fc=function(i,a){var l=this,m=this.a.a;return this.Sb().then(function(y){return i.tb(m,y,a)}).then(function(y){return Xr(l.a,y),l.a.reload()})},e.bd=function(i){var a=this,l=typeof i=="string"?i:i.uid,m=this.a.a;return this.a.I().then(function(y){return et(m,Ox,{idToken:y,mfaEnrollmentId:l})}).then(function(y){var w=le(a.b,function(A){return A.uid!=l});return yf(a,w),Xr(a.a,y),a.a.reload().o(function(A){if(A.code!="auth/user-token-expired")throw A})})},e.w=function(){return{multiFactor:{enrolledFactors:Re(this.b,function(i){return i.w()})}}};function Wm(i,a,l){if(this.h=i,this.i=a,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Wm.prototype.start=function(){this.a=this.c,Gm(this,!0)};function ID(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function Gm(i,a){i.stop(),i.b=qs(ID(i,a)).then(function(){return eP()}).then(function(){return i.h()}).then(function(){Gm(i,!0)}).o(function(l){i.i(l)&&Gm(i,!1)})}Wm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function zm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}zm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function RE(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function PE(i,a){i.b=ql(a[Pr]||""),i.a=a.refreshToken,a=a.expiresIn,RE(i,typeof a<"u"?Number(a):void 0)}function TD(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function SD(i,a){return GP(i.f,a).then(function(l){return i.b=ql(l.access_token),i.a=l.refresh_token,RE(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}zm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Rt(new P("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?SD(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})};function _f(i,a){this.a=i||null,this.b=a||null,Dn(this,{lastSignInTime:Au(a||null),creationTime:Au(i||null)})}function AD(i){return new _f(i.a,i.b)}_f.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function kD(i,a,l,m,y,w){Dn(this,{uid:i,displayName:m||null,photoURL:y||null,email:l||null,phoneNumber:w||null,providerId:a})}function ur(i,a,l){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var m=Me.SDK_VERSION?Gs(Me.SDK_VERSION):null;this.a=new Rr(this.l,qe(ce),m),(this.u=i.emulatorConfig||null)&&af(this.a,this.u),this.h=new zm(this.a),tg(this,a[Pr]),PE(this.h,a),Ee(this,"refreshToken",this.h.a),DE(this,l||{}),xn.call(this),this.P=!1,this.s&&jo()&&(this.b=Vm(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=ND(this),this.ba=D(this.ib,this);var y=this;this.za=null,this.Pa=function(w){y.xa(w.h)},this.qa=null,this.Ba=function(w){Ym(y,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Wu(y,w.f)},this.ja=null,this.S=new Km(this,l),Ee(this,"multiFactor",this.S)}j(ur,xn),ur.prototype.xa=function(i){this.za=i,Nw(this.a,i)};function Ym(i,a){i.u=a,af(i.a,a),i.b&&(a=i.b,i.b=Vm(i.s,i.l,i.m,i.u),i.P&&(Mm(a,i),mf(i.b,i)))}ur.prototype.la=function(){return this.za};function Xm(i,a){i.qa&&sr(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&_r(a,"languageCodeChanged",i.Pa)}function Qm(i,a){i.$&&sr(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&_r(a,"emulatorConfigChanged",i.Ba)}function Wu(i,a){i.aa=a,Cw(i.a,Me.SDK_VERSION?Gs(Me.SDK_VERSION,i.aa):null)}ur.prototype.Ga=function(){return Q(this.aa)};function Jm(i,a){i.ja&&sr(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&_r(a,"frameworkChanged",i.Oa)}ur.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Zm(i){try{return Me.app(i.m).auth()}catch{throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function ND(i){return new Wm(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function xE(i){i.J||i.D.b||(i.D.start(),sr(i,"tokenChanged",i.ba),_r(i,"tokenChanged",i.ba))}function eg(i){sr(i,"tokenChanged",i.ba),i.D.stop()}function tg(i,a){i.Aa=a,Ee(i,"_lat",a)}function CD(i,a){L(i.W,function(l){return l==a})}function Qo(i){for(var a=[],l=0;l<i.W.length;l++)a.push(i.W[l](i));return Qb(a).then(function(){return i})}function Gu(i){i.b&&!i.P&&(i.P=!0,mf(i.b,i))}function DE(i,a){Dn(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new _f(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}Ee(ur.prototype,"providerId","firebase");function LE(){}function ng(i){return Ce().then(function(){if(i.J)throw new P("app-deleted")})}function rg(i){return Re(i.providerData,function(a){return a.providerId})}function ig(i,a){a&&(ME(i,a.providerId),i.providerData.push(a))}function ME(i,a){L(i.providerData,function(l){return l.providerId==a})}function $i(i,a,l){(a!="uid"||l)&&i.hasOwnProperty(a)&&Ee(i,a,l)}function bf(i,a){i!=a&&(Dn(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?Ee(i,"metadata",AD(a.metadata)):Ee(i,"metadata",new _f),z(a.providerData,function(l){ig(i,l)}),TD(i.h,a.h),Ee(i,"refreshToken",i.h.a),yf(i.S,a.S.b))}e=ur.prototype,e.reload=function(){var i=this;return tn(this,ng(this).then(function(){return og(i).then(function(){return Qo(i)}).then(LE)}))};function og(i){return i.I().then(function(a){var l=i.isAnonymous;return OD(i,a).then(function(){return l||$i(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new _D(a)})},e.I=function(i){var a=this;return tn(this,ng(this).then(function(){return a.h.getToken(i)}).then(function(l){if(!l)throw new P("internal-error");return l.accessToken!=a.Aa&&(tg(a,l.accessToken),a.dispatchEvent(new ra("tokenChanged"))),$i(a,"refreshToken",l.refreshToken),l.accessToken}))};function Xr(i,a){a[Pr]&&i.Aa!=a[Pr]&&(PE(i.h,a),i.dispatchEvent(new ra("tokenChanged")),tg(i,a[Pr]),$i(i,"refreshToken",i.h.a))}function OD(i,a){return et(i.a,fx,{idToken:a}).then(D(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new P("internal-error");i=i[0],DE(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=RD(i),l=0;l<a.length;l++)ig(this,a[l]);$i(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ra("userReloaded",{hd:i}))};function RD(i){return(i=i.providerUserInfo)&&i.length?Re(i,function(a){return new kD(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Np("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,l=null;return tn(this,i.c(this.a,this.uid).then(function(m){return Xr(a,m),l=zu(a,m,"reauthenticate"),a.i=null,a.reload()}).then(function(){return l}),!0)};function wf(i,a){return og(i).then(function(){if(I(rg(i),a))return Qo(i).then(function(){throw new P("provider-already-linked")})})}e.Cc=function(i){return Np("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,l=null;return tn(this,wf(this,i.providerId).then(function(){return a.I()}).then(function(m){return i.b(a.a,m)}).then(function(m){return l=zu(a,m,"link"),FE(a,m)}).then(function(){return l}))},e.Dc=function(i,a){var l=this;return tn(this,wf(this,"phone").then(function(){return Bm(Zm(l),i,a,D(l.rb,l))}))},e.Mc=function(i,a){var l=this;return tn(this,Ce().then(function(){return Bm(Zm(l),i,a,D(l.ub,l))}),!0)};function zu(i,a,l){var m=Gp(a);return a=Z0(a),zr({user:i,credential:m,additionalUserInfo:a,operationType:l})}function FE(i,a){return Xr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return tn(this,this.I().then(function(l){return a.a.Cb(l,i)}).then(function(l){return Xr(a,l),a.reload()}))},e.ed=function(i){var a=this;return tn(this,this.I().then(function(l){return i.b(a.a,l)}).then(function(l){return Xr(a,l),a.reload()}))},e.Db=function(i){var a=this;return tn(this,this.I().then(function(l){return a.a.Db(l,i)}).then(function(l){return Xr(a,l),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return ng(this);var a=this;return tn(this,this.I().then(function(l){return a.a.Eb(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return Xr(a,l),$i(a,"displayName",l.displayName||null),$i(a,"photoURL",l.photoUrl||null),z(a.providerData,function(m){m.providerId==="password"&&(Ee(m,"displayName",a.displayName),Ee(m,"photoURL",a.photoURL))}),Qo(a)}).then(LE))},e.cd=function(i){var a=this;return tn(this,og(this).then(function(l){return I(rg(a),i)?ex(a.a,l,[i]).then(function(m){var y={};return z(m.providerUserInfo||[],function(w){y[w.providerId]=!0}),z(rg(a),function(w){y[w]||ME(a,w)}),y[mi.PROVIDER_ID]||Ee(a,"phoneNumber",null),Qo(a)}):Qo(a).then(function(){throw new P("no-such-provider")})}))},e.delete=function(){var i=this;return tn(this,this.I().then(function(a){return et(i.a,ox,{idToken:a})}).then(function(){i.dispatchEvent(new ra("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");Xm(i,null),Qm(i,null),Jm(i,null),i.N=[],i.J=!0,eg(i),Ee(i,"refreshToken",null),i.b&&Mm(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,l,m){i!="linkViaPopup"&&i!="reauthViaPopup"||m!=(this.g||null)||(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?D(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?D(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?D(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?D(this.Mb,this):null},e.Ec=function(i){var a=this;return UE(this,"linkViaPopup",i,function(){return wf(a,i.providerId).then(function(){return Qo(a)})},!1)},e.Nc=function(i){return UE(this,"reauthViaPopup",i,function(){return Ce()},!0)};function UE(i,a,l,m,y){if(!jo())return Rt(new P("operation-not-supported-in-this-environment"));if(i.i&&!y)return Rt(i.i);var w=Bp(l.providerId),A=Bo(i.uid+":::"),R=null;(!Tu()||Tp())&&i.s&&l.isOAuthProvider&&(R=Bu(i.s,i.l,i.m,a,l,null,A,Me.SDK_VERSION||null,null,null,i.tenantId,i.u));var G=k0(R,w&&w.va,w&&w.ua);return m=m().then(function(){if(jE(i),!y)return i.I().then(function(){})}).then(function(){return yE(i.b,G,a,l,A,!!R,i.tenantId)}).then(function(){return new Je(function(te,$e){i.na(a,null,new P("cancelled-popup-request"),i.g||null),i.f=te,i.C=$e,i.g=A,i.c=bE(i.b,i,a,G,A)})}).then(function(te){return G&&Vo(G),te?zr(te):null}).o(function(te){throw G&&Vo(G),te}),tn(i,m,y)}e.Fc=function(i){var a=this;return VE(this,"linkViaRedirect",i,function(){return wf(a,i.providerId)},!1)},e.Oc=function(i){return VE(this,"reauthViaRedirect",i,function(){return Ce()},!0)};function VE(i,a,l,m,y){if(!jo())return Rt(new P("operation-not-supported-in-this-environment"));if(i.i&&!y)return Rt(i.i);var w=null,A=Bo(i.uid+":::");return m=m().then(function(){if(jE(i),!y)return i.I().then(function(){})}).then(function(){return i.ga=A,Qo(i)}).then(function(R){return i.ha&&(R=i.ha,R=R.b.set(sg,i.w(),R.a)),R}).then(function(){return _E(i.b,a,l,A,i.tenantId)}).o(function(R){if(w=R,i.ha)return $E(i.ha);throw w}).then(function(){if(w)throw w}),tn(i,m,y)}function jE(i){if(!i.b||!i.P)throw i.b&&!i.P?new P("internal-error"):new P("auth-domain-config-required")}e.Lb=function(i,a,l,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return l=this.I().then(function(A){return pm(y.a,{requestUri:i,postBody:m,sessionId:a,idToken:A})}).then(function(A){return w=zu(y,A,"link"),FE(y,A)}).then(function(){return w}),tn(this,l)},e.Mb=function(i,a,l,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var w=null,A=Ce().then(function(){return Qs(mm(y.a,{requestUri:i,sessionId:a,postBody:m,tenantId:l}),y.uid)}).then(function(R){return w=zu(y,R,"reauthenticate"),Xr(y,R),y.i=null,y.reload()}).then(function(){return w});return tn(this,A,!0)},e.vb=function(i){var a=this,l=null;return tn(this,this.I().then(function(m){return l=m,typeof i>"u"||Ye(i)?{}:Bl(new jl(i))}).then(function(m){return a.a.vb(l,m)}).then(function(m){if(a.email!=m)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var l=this,m=null;return tn(this,this.I().then(function(y){return m=y,typeof a>"u"||Ye(a)?{}:Bl(new jl(a))}).then(function(y){return l.a.Fb(m,i,y)}).then(function(y){if(l.email!=y)return l.reload()}).then(function(){}))};function tn(i,a,l){var m=PD(i,a,l);return i.N.push(m),m.oa(function(){N(i.N,m)}),m.o(function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=NE(y.w(),Zm(i),D(i.jc,i))),w||y})}e.jc=function(i){var a=null,l=this;return i=Qs(Ce(i),l.uid).then(function(m){return a=zu(l,m,"reauthenticate"),Xr(l,m),l.i=null,l.reload()}).then(function(){return a}),tn(this,i,!0)};function PD(i,a,l){return i.i&&!l?(a.cancel(),Rt(i.i)):a.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new ra("userInvalidated")),i.i=m),m})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&He(i,this.metadata.w()),z(this.providerData,function(a){i.providerData.push(rP(a))}),He(i,this.S.w()),i};function BE(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[Pr]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var m=i.stsTokenManager.expirationTime;m&&(l.expiresIn=(m-Date.now())/1e3)}else return null;var y=new ur(a,l,i);return i.providerData&&z(i.providerData,function(w){w&&ig(y,zr(w))}),i.redirectEventId&&(y.ga=i.redirectEventId),y}function xD(i,a,l,m){var y=new ur(i,a);return l&&(y.ha=l),m&&Wu(y,m),y.reload().then(function(){return y})}function DD(i,a,l,m){var y=i.h,w={};return w[Pr]=y.b&&y.b.toString(),w.refreshToken=y.a,a=new ur(a||{apiKey:i.l,authDomain:i.s,appName:i.m},w),l&&(a.ha=l),m&&Wu(a,m),bf(a,i),a}function LD(i){this.a=i,this.b=Ku()}var sg={name:"redirectUser",F:"session"};function $E(i){return na(i.b,sg,i.a)}function MD(i,a){return i.b.get(sg,i.a).then(function(l){return l&&a&&(l.authDomain=a),BE(l||{})})}function ag(i){this.a=i,this.b=Ku(),this.c=null,this.f=FD(this),this.b.addListener(Qr("local"),this.a,D(this.g,this))}ag.prototype.g=function(){var i=this,a=Qr("local");ia(this,function(){return Ce().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(l){if(l)return ug(i,"local").then(function(){i.c=a})})})};function ug(i,a){var l=[],m;for(m in ea)ea[m]!==a&&l.push(na(i.b,Qr(ea[m]),i.a));return l.push(na(i.b,cg,i.a)),AR(l)}function FD(i){var a=Qr("local"),l=Qr("session"),m=Qr("none");return Jx(i.b,a,i.a).then(function(){return i.b.get(l,i.a)}).then(function(y){return y?l:i.b.get(m,i.a).then(function(w){return w?m:i.b.get(a,i.a).then(function(A){return A?a:i.b.get(cg,i.a).then(function(R){return R?Qr(R):a})})})}).then(function(y){return i.c=y,ug(i,y.F)}).o(function(){i.c||(i.c=a)})}var cg={name:"persistence",F:"session"};function Qr(i){return{name:"authUser",F:i}}ag.prototype.yb=function(i){var a=null,l=this;return Qx(i),ia(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(m){return a=m,ug(l,i)}).then(function(){if(l.c=Qr(i),a)return l.b.set(l.c,a,l.a)}):Ce()})};function UD(i){return ia(i,function(){return i.b.set(cg,i.c.F,i.a)})}function qE(i,a){return ia(i,function(){return i.b.set(i.c,a.w(),i.a)})}function HE(i){return ia(i,function(){return na(i.b,i.c,i.a)})}function KE(i,a,l){return ia(i,function(){return i.b.get(i.c,i.a).then(function(m){return m&&a&&(m.authDomain=a),m&&l&&(m.emulatorConfig=l),BE(m||{})})})}function ia(i,a){return i.f=i.f.then(a,a),i.f}function xr(i){if(this.l=!1,Ee(this,"settings",new SE),Ee(this,"app",i),_t(this).options&&_t(this).options.apiKey)i=Me.SDK_VERSION?Gs(Me.SDK_VERSION):null,this.a=new Rr(_t(this).options&&_t(this).options.apiKey,qe(ce),i);else throw new P("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Me.INTERNAL.createSubscribe(D(this.zc,this)),this.W=void 0,this.ib=Me.INTERNAL.createSubscribe(D(this.Ac,this)),oa(this,null),this.i=new ag(_t(this).options.apiKey+":"+_t(this).name),this.D=new LD(_t(this).options.apiKey+":"+_t(this).name),this.$=Vt(this,HD(this)),this.h=Vt(this,KD(this)),this.ba=!1,this.ja=D(this.Zc,this),this.Ba=D(this.da,this),this.qa=D(this.mc,this),this.za=D(this.wc,this),this.Aa=D(this.xc,this),this.b=null,BD(this),this.INTERNAL={},this.INTERNAL.delete=D(this.delete,this),this.INTERNAL.logFramework=D(this.Gc,this),this.u=0,xn.call(this),jD(this),this.J=[],this.R=null}j(xr,xn);function WE(i){Gn.call(this,"languageCodeChanged"),this.h=i}j(WE,Gn);function GE(i){Gn.call(this,"emulatorConfigChanged"),this.c=i}j(GE,Gn);function zE(i){Gn.call(this,"frameworkChanged"),this.f=i}j(zE,Gn),e=xr.prototype,e.yb=function(i){return i=this.i.yb(i),Vt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,Nw(this.a,this.aa),this.dispatchEvent(new WE(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,VD(a),this.R={url:i,ec:a},this.settings.jb=!0,af(this.a,this.R),this.dispatchEvent(new GE(this.R))}};function VD(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Fl().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),Cw(this.a,Me.SDK_VERSION?Gs(Me.SDK_VERSION,this.J):null),this.dispatchEvent(new zE(this.J))},e.Ga=function(){return Q(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function jD(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=zn(this.R.url);a=zr({protocol:a.c,host:a.a,port:a.g,options:zr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:_t(this).options.apiKey,authDomain:_t(this).options.authDomain,appName:_t(this).name,currentUser:Xe(this)&&Xe(this).w()}};function lg(i){return i.Oa||Rt(new P("auth-domain-config-required"))}function BD(i){var a=_t(i).options.authDomain,l=_t(i).options.apiKey;a&&jo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Vm(a,l,_t(i).name,i.R),mf(i.b,i),Xe(i)&&Gu(Xe(i)),i.m){Gu(i.m);var m=i.m;m.xa(i.la()),Xm(m,i),m=i.m,Wu(m,i.J),Jm(m,i),m=i.m,Ym(m,i.R),Qm(m,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,l,m){i=="signInViaPopup"&&this.g==m&&(l&&this.C?this.C(l):a&&!l&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?D(this.ic,this):null},e.ic=function(i,a,l,m){var y=this,w={requestUri:i,postBody:m,sessionId:a,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return Jo(y,dm(y.a,w))})},e.Xc=function(i){if(!jo())return Rt(new P("operation-not-supported-in-this-environment"));var a=this,l=Bp(i.providerId),m=Bo(),y=null;(!Tu()||Tp())&&_t(this).options.authDomain&&i.isOAuthProvider&&(y=Bu(_t(this).options.authDomain,_t(this).options.apiKey,_t(this).name,"signInViaPopup",i,null,m,Me.SDK_VERSION||null,null,null,this.T(),this.R));var w=k0(y,l&&l.va,l&&l.ua);return l=lg(this).then(function(A){return yE(A,w,"signInViaPopup",i,m,!!y,a.T())}).then(function(){return new Je(function(A,R){a.na("signInViaPopup",null,new P("cancelled-popup-request"),a.g),a.f=A,a.C=R,a.g=m,a.c=bE(a.b,a,"signInViaPopup",w,m)})}).then(function(A){return w&&Vo(w),A?zr(A):null}).o(function(A){throw w&&Vo(w),A}),Vt(this,l)},e.Yc=function(i){if(!jo())return Rt(new P("operation-not-supported-in-this-environment"));var a=this,l=lg(this).then(function(){return UD(a.i)}).then(function(){return _E(a.b,"signInViaRedirect",i,void 0,a.T())});return Vt(this,l)};function YE(i){if(!jo())return Rt(new P("operation-not-supported-in-this-environment"));var a=lg(i).then(function(){return i.b.ra()}).then(function(l){return l?zr(l):null});return Vt(i,a)}e.ra=function(){var i=this;return YE(this).then(function(a){return i.b&&vf(i.b.b),a}).o(function(a){throw i.b&&vf(i.b.b),a})},e.dd=function(i){if(!i)return Rt(new P("null-user"));if(this.S!=i.tenantId)return Rt(new P("tenant-id-mismatch"));var a=this,l={};l.apiKey=_t(this).options.apiKey,l.authDomain=_t(this).options.authDomain,l.appName=_t(this).name;var m=DD(i,l,a.D,a.Ga());return Vt(this,this.h.then(function(){if(_t(a).options.apiKey!=i.l)return m.reload()}).then(function(){return Xe(a)&&i.uid==Xe(a).uid?(bf(Xe(a),i),a.da(i)):(oa(a,m),Gu(m),a.da(m))}).then(function(){Yu(a)}))};function $D(i,a){var l={};return l.apiKey=_t(i).options.apiKey,l.authDomain=_t(i).options.authDomain,l.appName=_t(i).name,i.R&&(l.emulatorConfig=i.R),i.$.then(function(){return xD(l,a,i.D,i.Ga())}).then(function(m){return Xe(i)&&m.uid==Xe(i).uid?(bf(Xe(i),m),i.da(m)):(oa(i,m),Gu(m),i.da(m))}).then(function(){Yu(i)})}function oa(i,a){Xe(i)&&(CD(Xe(i),i.Ba),sr(Xe(i),"tokenChanged",i.qa),sr(Xe(i),"userDeleted",i.za),sr(Xe(i),"userInvalidated",i.Aa),eg(Xe(i))),a&&(a.W.push(i.Ba),_r(a,"tokenChanged",i.qa),_r(a,"userDeleted",i.za),_r(a,"userInvalidated",i.Aa),0<i.u&&xE(a)),Ee(i,"currentUser",a),a&&(a.xa(i.la()),Xm(a,i),Wu(a,i.J),Jm(a,i),Ym(a,i.R),Qm(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&vf(i.b.b),Xe(i)?(oa(i,null),HE(i.i).then(function(){Yu(i)})):Ce()});return Vt(this,a)};function qD(i){var a=MD(i.D,_t(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),$E(i.D)});return Vt(i,a)}function HD(i){var a=_t(i).options.authDomain,l=qD(i).then(function(){return KE(i.i,a,i.R)}).then(function(m){return m?(m.ha=i.D,i.m&&(i.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return qE(i.i,m).then(function(){return m})}).o(function(y){return y.code=="auth/network-request-failed"?m:HE(i.i)})):null}).then(function(m){oa(i,m||null)});return Vt(i,l)}function KD(i){return i.$.then(function(){return YE(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Qr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return KE(this.i,_t(this).options.authDomain).then(function(a){if(!i.l){var l;if(l=Xe(i)&&a){l=Xe(i).uid;var m=a.uid;l=l==null||l===""||m===void 0||m===null||m===""?!1:l==m}if(l)return bf(Xe(i),a),Xe(i).I();(Xe(i)||a)&&(oa(i,a),a&&(Gu(a),a.ha=i.D),i.b&&mf(i.b,i),Yu(i))}})},e.da=function(i){return qE(this.i,i)},e.mc=function(){Yu(this),this.da(Xe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Jo(i,a){var l=null,m=null;return Vt(i,a.then(function(y){return l=Gp(y),m=Z0(y),$D(i,y)},function(y){var w=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(w=NE(y.w(),i,D(i.kc,i))),w||y}).then(function(){return zr({user:Xe(i),credential:l,additionalUserInfo:m,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Jo(a,Ce(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(Xe(a))})},e.Ac=function(i){var a=this;WD(this,function(){i.next(Xe(a))})},e.Ic=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Xe(m)):typeof i.next=="function"&&i.next(Xe(m))}),this.Pa(i,a,l)},e.Hc=function(i,a,l){var m=this;return this.ba&&Promise.resolve().then(function(){m.W=m.getUid(),typeof i=="function"?i(Xe(m)):typeof i.next=="function"&&i.next(Xe(m))}),this.ib(i,a,l)},e.nc=function(i){var a=this,l=this.h.then(function(){return Xe(a)?Xe(a).I(i).then(function(m){return{accessToken:m}}):null});return Vt(this,l)},e.Tc=function(i){var a=this;return this.h.then(function(){return Jo(a,et(a.a,Ax,{token:i}))}).then(function(l){var m=l.user;return $i(m,"isAnonymous",!1),a.da(m),l})},e.Uc=function(i,a){var l=this;return this.h.then(function(){return Jo(l,et(l.a,Uw,{email:i,password:a}))})},e.dc=function(i,a){var l=this;return this.h.then(function(){return Jo(l,et(l.a,rx,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Jo(a,i.ka(a.a))})},e.Sc=function(i){return Np("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=Xe(i);if(a&&a.isAnonymous){var l=zr({providerId:null,isNewUser:!1});return zr({user:a,credential:null,additionalUserInfo:l,operationType:"signIn"})}return Jo(i,i.a.Ab()).then(function(m){var y=m.user;return $i(y,"isAnonymous",!0),i.da(y),m})})};function _t(i){return i.app}function Xe(i){return i.currentUser}e.getUid=function(){return Xe(this)&&Xe(this).uid||null};function Ef(i){return Xe(i)&&Xe(i)._lat||null}function Yu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](Ef(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](Ef(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Xe(this)&&xE(Xe(this))},e.Pc=function(i){var a=this;z(this.s,function(l){l==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Xe(this)&&eg(Xe(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Vt(this,this.h.then(function(){a.l||I(a.s,i)&&i(Ef(a))}))},e.removeAuthTokenListener=function(i){L(this.s,function(a){return a==i})};function WD(i,a){i.N.push(a),Vt(i,i.h.then(function(){!i.l&&I(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(Ef(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Qr("local"),i.a,this.ja)),this.b&&(Mm(this.b,this),vf(this.b.b)),Promise.resolve()};function Vt(i,a){return i.P.push(a),a.oa(function(){N(i.P,a)}),a}e.hc=function(i){return Vt(this,zP(this.a,i))},e.Bc=function(i){return!!Wp(i)},e.xb=function(i,a){var l=this;return Vt(this,Ce().then(function(){var m=new jl(a);if(!m.c)throw new P("argument-error",Vp+" must be true when sending sign in link to email");return Bl(m)}).then(function(m){return l.a.xb(i,m)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Vt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Vt(this,this.a.Sa(i).then(function(a){return new oP(a)}))},e.kb=function(i){return Vt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var l=this;return Vt(this,Ce().then(function(){return typeof a>"u"||Ye(a)?{}:Bl(new jl(a))}).then(function(m){return l.a.wb(i,m)}).then(function(){}))},e.Wc=function(i,a){return Vt(this,Bm(this,i,a,D(this.ab,this)))},e.Vc=function(i,a){var l=this;return Vt(this,Ce().then(function(){var m=a||Iu(),y=fw(i,m);if(m=Wp(m),!m)throw new P("argument-error","Invalid email link!");if(m.tenantId!==l.T())throw new P("tenant-id-mismatch");return l.ab(y)}))};function Xu(){}Xu.prototype.render=function(){},Xu.prototype.reset=function(){},Xu.prototype.getResponse=function(){},Xu.prototype.execute=function(){};function sa(){this.a={},this.b=1e12}var fg=null;sa.prototype.render=function(i,a){return this.a[this.b.toString()]=new If(i,a),this.b++},sa.prototype.reset=function(i){var a=hg(this,i);i=XE(i),a&&i&&(a.delete(),delete this.a[i])},sa.prototype.getResponse=function(i){return(i=hg(this,i))?i.getResponse():null},sa.prototype.execute=function(i){(i=hg(this,i))&&i.execute()};function hg(i,a){return(a=XE(a))&&i.a[a]||null}function XE(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function If(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=gu(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():_r(this.f,"click",this.i)}If.prototype.getResponse=function(){return dg(this),this.b},If.prototype.execute=function(){dg(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=ZR();var a=i.c.callback,l=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch{}i.h&&i.execute()},6e4)},500))},If.prototype.delete=function(){dg(this),this.g=!0,clearTimeout(this.a),this.a=null,sr(this.f,"click",this.i)};function dg(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function pg(){}Ee(pg,"FACTOR_ID","phone");function mg(){}mg.prototype.g=function(){return fg||(fg=new sa),Ce(fg)},mg.prototype.c=function(){};var gg=null;function vg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var GD=new En(Tl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),zD=new Vi(3e4,6e4);vg.prototype.g=function(i){var a=this;return new Je(function(l,m){var y=setTimeout(function(){m(new P("network-request-failed"))},zD.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var A=f.grecaptcha.render;f.grecaptcha.render=function(R,G){return R=A(R,G),a.b++,R},clearTimeout(y),l(f.grecaptcha)}else clearTimeout(y),m(new P("internal-error"));delete f[a.a]};var w=Jd(GD,{onload:a.a,hl:i||""});Ce(sm(w)).o(function(){clearTimeout(y),m(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),l(f.grecaptcha)})},vg.prototype.c=function(){this.b--};var yg=null;function _g(i,a,l,m,y,w,A){if(Ee(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,A?(gg||(gg=new mg),A=gg):(yg||(yg=new vg),A=yg),this.m=A,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[ZE])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[YD]==="invisible",!f.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!gu(a)||!this.i&&gu(a).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Rr(i,w||null,y||null),this.u=m||function(){return null};var R=this;this.l=[];var G=this.a[QE];this.a[QE]=function($e){if(eI(R,$e),typeof G=="function")G($e);else if(typeof G=="string"){var pt=Pt(G,f);typeof pt=="function"&&pt($e)}};var te=this.a[JE];this.a[JE]=function(){if(eI(R,null),typeof te=="function")te();else if(typeof te=="string"){var $e=Pt(te,f);typeof $e=="function"&&$e()}}}var QE="callback",JE="expired-callback",ZE="sitekey",YD="size";function eI(i,a){for(var l=0;l<i.l.length;l++)try{i.l[l](a)}catch{}}function XD(i,a){L(i.l,function(l){return l==a})}function bg(i,a){return i.h.push(a),a.oa(function(){N(i.h,a)}),a}e=_g.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=bg(this,Ce().then(function(){if(Ul()&&!Cr())return Fl();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,et(i.s,vx,{})}).then(function(a){i.a[ZE]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){Tf(this);var i=this;return bg(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var l=gu(a);a=ER("DIV"),l.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){Tf(this);var i=this;return bg(this,this.render().then(function(a){return new Je(function(l){var m=i.g.getResponse(a);if(m)l(m);else{var y=function(w){w&&(XD(i,y),l(w))};i.l.push(y),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Tf(this),this.c!==null&&this.g.reset(this.c)};function Tf(i){if(i.J)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Tf(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=gu(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function wg(i,a,l){var m=!1;try{this.b=l||Me.app()}catch{throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new P("invalid-api-key");var y=this,w=null;try{w=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Me.SDK_VERSION?Gs(Me.SDK_VERSION,w):null,_g.call(this,l,i,a,function(){try{var A=y.b.auth().la()}catch{A=null}return A},w,qe(ce),m)}j(wg,_g);function tI(i,a,l,m){e:{l=Array.prototype.slice.call(l);for(var y=0,w=!1,A=0;A<a.length;A++)if(a[A].optional)w=!0;else{if(w)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(w=a.length,l.length<y||w<l.length)m="Expected "+(y==w?y==1?"1 argument":y+" arguments":y+"-"+w+" arguments")+" but got "+l.length+".";else{for(y=0;y<l.length;y++)if(w=a[y].optional&&l[y]===void 0,!a[y].M(l[y])&&!w){if(a=a[y],0>y||y>=nI.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");l=nI[y],m=(m?"":l+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}m=null}}if(m)throw new P("argument-error",i+" failed: "+m)}var nI="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function be(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(l){return typeof l=="string"}}}function Eg(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(l){return typeof l=="boolean"}}}function Gt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:S}}function aa(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(l){return typeof l=="function"}}}function Jr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(l){return l===null}}}function QD(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function JD(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof xr)}}}function ZD(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Me.app.App)}}}function qi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var l=!i||a.providerId===i;return!(!a.ka||!l)}}}function rI(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function ua(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Ig(i,a){return S(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function iI(i){return S(i)&&typeof i.uid=="string"}function Sf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function qt(i,a,l,m){return{name:l||"",K:i.K+" or "+a.K,optional:!!m,M:function(y){return i.M(y)||a.M(y)}}}function Mt(i,a){for(var l in a){var m=a[l].name;i[m]=sI(m,i[l],a[l].j)}}function oI(i,a){for(var l in a){var m=a[l].name;m!==l&&Object.defineProperty(i,m,{get:Y(function(y){return this[y]},l),set:Y(function(y,w,A,R){tI(y,[A],[R],!0),this[w]=R},m,l,a[l].lb),enumerable:!0})}}function Ht(i,a,l,m){i[a]=sI(a,l,m)}function sI(i,a,l){function m(){var A=Array.prototype.slice.call(arguments);return tI(y,l,A),a.apply(this,A)}if(!l)return a;var y=eL(i),w;for(w in a)m[w]=a[w];for(w in a.prototype)m.prototype[w]=a.prototype[w];return m}function eL(i){return i=i.split("."),i[i.length-1]}Mt(xr.prototype,{kb:{name:"applyActionCode",j:[be("code")]},Sa:{name:"checkActionCode",j:[be("code")]},ob:{name:"confirmPasswordReset",j:[be("code"),be("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[be("email"),be("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[be("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[be("emailLink")]},Hc:{name:"onAuthStateChanged",j:[qt(Gt(),aa(),"nextOrObserver"),aa("opt_error",!0),aa("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[qt(Gt(),aa(),"nextOrObserver"),aa("opt_error",!0),aa("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[be("email"),qt(Gt("opt_actionCodeSettings",!0),Jr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[be("email"),Gt("actionCodeSettings")]},yb:{name:"setPersistence",j:[be("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[qi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[qi()]},Tc:{name:"signInWithCustomToken",j:[be("token")]},Uc:{name:"signInWithEmailAndPassword",j:[be("email"),be("password")]},Vc:{name:"signInWithEmailLink",j:[be("email"),be("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[be("phoneNumber"),Sf()]},Xc:{name:"signInWithPopup",j:[ua()]},Yc:{name:"signInWithRedirect",j:[ua()]},dd:{name:"updateCurrentUser",j:[qt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof ur)}}}(),Jr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[be(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[be("url"),Gt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[be("code")]}}),oI(xr.prototype,{lc:{name:"languageCode",lb:qt(be(),Jr(),"languageCode")},ti:{name:"tenantId",lb:qt(be(),Jr(),"tenantId")}}),xr.Persistence=ea,xr.Persistence.LOCAL="local",xr.Persistence.SESSION="session",xr.Persistence.NONE="none",Mt(ur.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Eg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Eg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[qi()]},rb:{name:"linkWithCredential",j:[qi()]},Dc:{name:"linkWithPhoneNumber",j:[be("phoneNumber"),Sf()]},Ec:{name:"linkWithPopup",j:[ua()]},Fc:{name:"linkWithRedirect",j:[ua()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qi()]},ub:{name:"reauthenticateWithCredential",j:[qi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[be("phoneNumber"),Sf()]},Nc:{name:"reauthenticateWithPopup",j:[ua()]},Oc:{name:"reauthenticateWithRedirect",j:[ua()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[qt(Gt("opt_actionCodeSettings",!0),Jr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[be(null,!0)]},cd:{name:"unlink",j:[be("provider")]},Cb:{name:"updateEmail",j:[be("email")]},Db:{name:"updatePassword",j:[be("password")]},ed:{name:"updatePhoneNumber",j:[qi("phone")]},Eb:{name:"updateProfile",j:[Gt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[be("email"),qt(Gt("opt_actionCodeSettings",!0),Jr(null,!0),"opt_actionCodeSettings",!0)]}}),Mt(sa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Mt(Xu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Mt(Je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),oI(SE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Eg("appVerificationDisabledForTesting")}}),Mt(jm.prototype,{confirm:{name:"confirm",j:[be("verificationCode")]}}),Ht(Xs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,l=[IP,TP,SP,EP],m=0;m<l.length;m++)if(a=l[m](i))return a;return null},[qt(be(),Gt(),"json")]),Ht(wr,"credential",function(i,a){return new ji(i,a)},[be("email"),be("password")]),Mt(ji.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),Mt(Ho.prototype,{Ca:{name:"addScope",j:[be("scope")]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ht(Ho,"credential",aw,[qt(be(),Gt(),"token")]),Ht(wr,"credentialWithLink",fw,[be("email"),be("emailLink")]),Mt(Ko.prototype,{Ca:{name:"addScope",j:[be("scope")]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ht(Ko,"credential",uw,[qt(be(),Gt(),"token")]),Mt(Wo.prototype,{Ca:{name:"addScope",j:[be("scope")]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ht(Wo,"credential",cw,[qt(be(),qt(Gt(),Jr()),"idToken"),qt(be(),Jr(),"accessToken",!0)]),Mt(Js.prototype,{Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ht(Js,"credential",lw,[qt(be(),Gt(),"token"),be("secret",!0)]),Mt(ar.prototype,{Ca:{name:"addScope",j:[be("scope")]},credential:{name:"credential",j:[qt(be(),qt(Gt(),Jr()),"optionsOrIdToken"),qt(be(),Jr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Mt(pi.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),Mt($o.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),Ht(mi,"credential",hw,[be("verificationId"),be("verificationCode")]),Mt(mi.prototype,{gb:{name:"verifyPhoneNumber",j:[qt(be(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(l){return l?l.session&&l.phoneNumber?Ig(l.session,Ou)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?Ig(l.session,Wl)&&iI(l.multiFactorHint):l.session&&l.multiFactorUid?Ig(l.session,Wl)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Sf()]}}),Mt(Bi.prototype,{w:{name:"toJSON",j:[be(null,!0)]}}),Mt(P.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),Mt(Pu.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),Mt(Xp.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),Mt(qm.prototype,{toJSON:{name:"toJSON",j:[be(null,!0)]}}),Mt($m.prototype,{Rc:{name:"resolveSignIn",j:[rI()]}}),Mt(Km.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[rI(),be("displayName",!0)]},bd:{name:"unenroll",j:[qt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:iI},be(),"multiFactorInfoIdentifier")]}}),Mt(wg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ht(Up,"parseLink",q0,[be("link")]),Ht(pg,"assertion",function(i){return new OE(i)},[qi("phone")]),function(){if(typeof Me<"u"&&Me.INTERNAL&&Me.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fp,VERIFY_AND_CHANGE_EMAIL:Nu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:xr,AuthCredential:Xs,Error:P};Ht(i,"EmailAuthProvider",wr,[]),Ht(i,"FacebookAuthProvider",Ho,[]),Ht(i,"GithubAuthProvider",Ko,[]),Ht(i,"GoogleAuthProvider",Wo,[]),Ht(i,"TwitterAuthProvider",Js,[]),Ht(i,"OAuthProvider",ar,[be("providerId")]),Ht(i,"SAMLAuthProvider",sw,[be("providerId")]),Ht(i,"PhoneAuthProvider",mi,[JD()]),Ht(i,"RecaptchaVerifier",wg,[qt(be(),QD(),"recaptchaContainer"),Gt("recaptchaParameters",!0),ZD()]),Ht(i,"ActionCodeURL",Up,[]),Ht(i,"PhoneMultiFactorGenerator",pg,[]),Me.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new xr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Me.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:D(a.getUid,a),getToken:D(a.nc,a),addAuthTokenListener:D(a.cc,a),removeAuthTokenListener:D(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Me.registerVersion("@firebase/auth","0.16.8"),Me.INTERNAL.extendNamespace({User:ur})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Iv=function(e,t){return Iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Iv(e,t)};function xU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Iv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Q1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var DU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye,Xy=Xy||{},Ke=DU||self;function mh(){}function Tv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function rl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function LU(e){return Object.prototype.hasOwnProperty.call(e,Mg)&&e[Mg]||(e[Mg]=++MU)}var Mg="closure_uid_"+(1e9*Math.random()>>>0),MU=0;function FU(e,t,n){return e.call.apply(e.bind,arguments)}function UU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function vn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vn=FU:vn=UU,vn.apply(null,arguments)}function Df(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function bn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return t.prototype[o].apply(r,u)}}function Ao(){this.s=this.s,this.o=this.o}var VU=0;Ao.prototype.s=!1;Ao.prototype.na=function(){!this.s&&(this.s=!0,this.M(),VU!=0)&&LU(this)};Ao.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var J1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Z1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function jU(e){e:{for(var t=RV,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function JI(e){return Array.prototype.concat.apply([],arguments)}function Qy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gh(e){return/^[\s\xa0]*$/.test(e)}var ZI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jn(e,t){return e.indexOf(t)!=-1}function Fg(e,t){return e<t?-1:e>t?1:0}var Bn;e:{var eT=Ke.navigator;if(eT){var tT=eT.userAgent;if(tT){Bn=tT;break e}}Bn=""}function Jy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ek(e){var t={};for(var n in e)t[n]=e[n];return t}var nT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tk(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<nT.length;s++)n=nT[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zy(e){return Zy[" "](e),e}Zy[" "]=mh;function BU(e){var t=HU;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var $U=jn(Bn,"Opera"),Da=jn(Bn,"Trident")||jn(Bn,"MSIE"),nk=jn(Bn,"Edge"),Sv=nk||Da,rk=jn(Bn,"Gecko")&&!(jn(Bn.toLowerCase(),"webkit")&&!jn(Bn,"Edge"))&&!(jn(Bn,"Trident")||jn(Bn,"MSIE"))&&!jn(Bn,"Edge"),qU=jn(Bn.toLowerCase(),"webkit")&&!jn(Bn,"Edge");function ik(){var e=Ke.document;return e?e.documentMode:void 0}var vh;e:{var Ug="",Vg=function(){var e=Bn;if(rk)return/rv:([^\);]+)(\)|;)/.exec(e);if(nk)return/Edge\/([\d\.]+)/.exec(e);if(Da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(qU)return/WebKit\/(\S+)/.exec(e);if($U)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Vg&&(Ug=Vg?Vg[1]:""),Da){var jg=ik();if(jg!=null&&jg>parseFloat(Ug)){vh=String(jg);break e}}vh=Ug}var HU={};function KU(){return BU(function(){for(var e=0,t=ZI(String(vh)).split("."),n=ZI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Fg(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Fg(s[2].length==0,u[2].length==0)||Fg(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Av;if(Ke.document&&Da){var rT=ik();Av=rT||parseInt(vh,10)||void 0}else Av=void 0;var WU=Av,GU=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ke.addEventListener("test",mh,t),Ke.removeEventListener("test",mh,t)}catch{}return e}();function On(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};function Pc(e,t){if(On.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rk){e:{try{Zy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:zU[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pc.Z.h.call(this)}}bn(Pc,On);var zU={2:"touch",3:"pen",4:"mouse"};Pc.prototype.h=function(){Pc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var il="closure_listenable_"+(1e6*Math.random()|0),YU=0;function XU(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++YU,this.ca=this.fa=!1}function ld(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fd(e){this.src=e,this.g={},this.h=0}fd.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Nv(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new XU(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function kv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=J1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(ld(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Nv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var e_="closure_lm_"+(1e6*Math.random()|0),Bg={};function ok(e,t,n,r,o){if(r&&r.once)return ak(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ok(e,t[s],n,r,o);return null}return n=r_(n),e&&e[il]?e.N(t,n,rl(r)?!!r.capture:!!r,o):sk(e,t,n,!1,r,o)}function sk(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=rl(o)?!!o.capture:!!o,c=n_(e);if(c||(e[e_]=c=new fd(e)),n=c.add(t,n,r,u,s),n.proxy)return n;if(r=QU(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)GU||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(ck(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QU(){function e(n){return t.call(e.src,e.listener,n)}var t=JU;return e}function ak(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ak(e,t[s],n,r,o);return null}return n=r_(n),e&&e[il]?e.O(t,n,rl(r)?!!r.capture:!!r,o):sk(e,t,n,!0,r,o)}function uk(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)uk(e,t[s],n,r,o);else r=rl(r)?!!r.capture:!!r,n=r_(n),e&&e[il]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Nv(s,n,r,o),-1<n&&(ld(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=n_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Nv(t,n,r,o)),(n=-1<e?t[e]:null)&&t_(n))}function t_(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[il])kv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ck(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=n_(t))?(kv(n,e),n.h==0&&(n.src=null,t[e_]=null)):ld(e)}}}function ck(e){return e in Bg?Bg[e]:Bg[e]="on"+e}function JU(e,t){if(e.ca)e=!0;else{t=new Pc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&t_(e),e=n.call(r,t)}return e}function n_(e){return e=e[e_],e instanceof fd?e:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function r_(e){return typeof e=="function"?e:(e[$g]||(e[$g]=function(t){return e.handleEvent(t)}),e[$g])}function hn(){Ao.call(this),this.i=new fd(this),this.P=this,this.I=null}bn(hn,Ao);hn.prototype[il]=!0;hn.prototype.removeEventListener=function(e,t,n,r){uk(this,e,t,n,r)};function yn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new On(t,e);else if(t instanceof On)t.target=t.target||e;else{var o=t;t=new On(r,e),tk(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Lf(u,r,!0,t)&&o}if(u=t.g=e,o=Lf(u,r,!0,t)&&o,o=Lf(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Lf(u,r,!1,t)&&o}hn.prototype.M=function(){if(hn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ld(n[r]);delete e.g[t],e.h--}}this.I=null};hn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};hn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Lf(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var c=u.listener,f=u.ia||u.src;u.fa&&kv(e.i,u),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var i_=Ke.JSON.stringify;function ZU(){var e=fk,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var eV=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=lk.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),lk=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new tV},function(e){return e.reset()}),tV=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function nV(e){Ke.setTimeout(function(){throw e},0)}function o_(e,t){Cv||rV(),Ov||(Cv(),Ov=!0),fk.add(e,t)}var Cv;function rV(){var e=Ke.Promise.resolve(void 0);Cv=function(){e.then(iV)}}var Ov=!1,fk=new eV;function iV(){for(var e;e=ZU();){try{e.h.call(e.g)}catch(n){nV(n)}var t=lk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ov=!1}function hd(e,t){hn.call(this),this.h=e||1,this.g=t||Ke,this.j=vn(this.kb,this),this.l=Date.now()}bn(hd,hn);ye=hd.prototype;ye.da=!1;ye.S=null;ye.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yn(this,"tick"),this.da&&(s_(this),this.start()))}};ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function s_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ye.M=function(){hd.Z.M.call(this),s_(this),delete this.g};function a_(e,t,n){if(typeof e=="function")n&&(e=vn(e,n));else if(e&&typeof e.handleEvent=="function")e=vn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ke.setTimeout(e,t||0)}function hk(e){e.g=a_(function(){e.g=null,e.i&&(e.i=!1,hk(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var oV=function(e){xU(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:hk(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ao);function xc(e){Ao.call(this),this.h=e,this.g={}}bn(xc,Ao);var iT=[];function dk(e,t,n,r){Array.isArray(n)||(n&&(iT[0]=n.toString()),n=iT);for(var o=0;o<n.length;o++){var s=ok(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pk(e){Jy(e.g,function(t,n){this.g.hasOwnProperty(n)&&t_(t)},e),e.g={}}xc.prototype.M=function(){xc.Z.M.call(this),pk(this)};xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dd(){this.g=!0}dd.prototype.Aa=function(){this.g=!1};function sV(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",c=s.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var g=d[0];d=d[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+d+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function aV(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function _a(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+cV(e,n)+(r?" "+r:"")})}function uV(e,t){e.info(function(){return"TIMEOUT: "+t})}dd.prototype.info=function(){};function cV(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return i_(n)}catch{return t}}var Ps={},oT=null;function pd(){return oT=oT||new hn}Ps.Ma="serverreachability";function mk(e){On.call(this,Ps.Ma,e)}bn(mk,On);function Dc(e){var t=pd();yn(t,new mk(t))}Ps.STAT_EVENT="statevent";function gk(e,t){On.call(this,Ps.STAT_EVENT,e),this.stat=t}bn(gk,On);function qn(e){var t=pd();yn(t,new gk(t,e))}Ps.Na="timingevent";function vk(e,t){On.call(this,Ps.Na,e),this.size=t}bn(vk,On);function ol(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){e()},t)}var md={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yk={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function u_(){}u_.prototype.h=null;function sT(e){return e.h||(e.h=e.i())}function _k(){}var sl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function c_(){On.call(this,"d")}bn(c_,On);function l_(){On.call(this,"c")}bn(l_,On);var Rv;function gd(){}bn(gd,u_);gd.prototype.g=function(){return new XMLHttpRequest};gd.prototype.i=function(){return{}};Rv=new gd;function al(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new xc(this),this.P=lV,e=Sv?125:void 0,this.W=new hd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bk}function bk(){this.i=null,this.g="",this.h=!1}var lV=45e3,Pv={},yh={};ye=al.prototype;ye.setTimeout=function(e){this.P=e};function xv(e,t,n){e.K=1,e.v=yd(Ri(t)),e.s=n,e.U=!0,wk(e,null)}function wk(e,t){e.F=Date.now(),ul(e),e.A=Ri(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Nk(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bk,e.g=zk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new oV(vn(e.Ia,e,e.g),e.O)),dk(e.V,e.g,"readystatechange",e.gb),t=e.H?ek(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Dc(),sV(e.j,e.u,e.A,e.m,e.X,e.s)}ye.gb=function(e){e=e.target;var t=this.L;t&&Ei(e)==3?t.l():this.Ia(e)};ye.Ia=function(e){try{if(e==this.g)e:{var t=Ei(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Sv||this.g&&(this.h.h||this.g.ga()||lT(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Dc(3):Dc(2)),vd(this);var o=this.g.ba();this.N=o;t:if(Ek(this)){var s=lT(this.g);e="";var u=s.length,c=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),pc(this);var f="";break t}this.h.i=new Ke.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,aV(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gh(d)){var h=d;break t}}h=null}if(o=h)_a(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dv(this,o);else{this.i=!1,this.o=3,qn(12),fs(this),pc(this);break e}}this.U?(Ik(this,t,f),Sv&&this.i&&t==3&&(dk(this.V,this.W,"tick",this.fb),this.W.start())):(_a(this.j,this.m,f,null),Dv(this,f)),t==4&&fs(this),this.i&&!this.I&&(t==4?Hk(this.l,this):(this.i=!1,ul(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),fs(this),pc(this)}}}catch{}finally{}};function Ek(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Ik(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=fV(e,n),o==yh){t==4&&(e.o=4,qn(14),r=!1),_a(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Pv){e.o=4,qn(15),_a(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else _a(e.j,e.m,o,null),Dv(e,o);Ek(e)&&o!=yh&&o!=Pv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,qn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),__(t),t.L=!0,qn(11))):(_a(e.j,e.m,n,"[Invalid Chunked Response]"),fs(e),pc(e))}ye.fb=function(){if(this.g){var e=Ei(this.g),t=this.g.ga();this.C<t.length&&(vd(this),Ik(this,e,t),this.i&&e!=4&&ul(this))}};function fV(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?yh:(n=Number(t.substring(n,r)),isNaN(n)?Pv:(r+=1,r+n>t.length?yh:(t=t.substr(r,n),e.C=r+n,t)))}ye.cancel=function(){this.I=!0,fs(this)};function ul(e){e.Y=Date.now()+e.P,Tk(e,e.P)}function Tk(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ol(vn(e.eb,e),t)}function vd(e){e.B&&(Ke.clearTimeout(e.B),e.B=null)}ye.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(uV(this.j,this.A),this.K!=2&&(Dc(),qn(17)),fs(this),this.o=2,pc(this)):Tk(this,this.Y-e)};function pc(e){e.l.G==0||e.I||Hk(e.l,e)}function fs(e){vd(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,s_(e.W),pk(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dv(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Lv(n.i,e))){if(n.I=e.N,!e.J&&Lv(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Eh(n),wd(n);else break e;y_(n),qn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=ol(vn(n.ab,n),6e3));if(1>=Rk(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else hs(n,11)}else if((e.J||n.g==e)&&Eh(n),!gh(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(jn(g,"spdy")||jn(g,"quic")||jn(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(d_(h,h.h),h.h=null))}if(r.D){var p=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.sa=p,Dt(r.F,r.D,p))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var v=e;if(r.oa=Gk(r,r.H?r.la:null,r.W),v.J){Pk(r.i,v);var _=v,E=r.K;E&&_.setTimeout(E),_.B&&(vd(_),ul(_)),r.g=v}else $k(r);0<n.l.length&&Ed(n)}else s[0]!="stop"&&s[0]!="close"||hs(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?hs(n,7):v_(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Dc(4)}catch{}}function hV(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Tv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function f_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Tv(e)||typeof e=="string")Z1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Tv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=hV(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function iu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof iu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ye=iu.prototype;ye.R=function(){h_(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ye.T=function(){return h_(this),this.g.concat()};function h_(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ss(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Ss(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}ye.get=function(e,t){return Ss(this.h,e)?this.h[e]:t};ye.set=function(e,t){Ss(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ye.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Ss(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Sk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dV(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function As(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof As){this.g=t!==void 0?t:e.g,_h(this,e.j),this.s=e.s,bh(this,e.i),wh(this,e.m),this.l=e.l,t=e.h;var n=new Lc;n.i=t.i,t.g&&(n.g=new iu(t.g),n.h=t.h),aT(this,n),this.o=e.o}else e&&(n=String(e).match(Sk))?(this.g=!!t,_h(this,n[1]||"",!0),this.s=mc(n[2]||""),bh(this,n[3]||"",!0),wh(this,n[4]),this.l=mc(n[5]||"",!0),aT(this,n[6]||"",!0),this.o=mc(n[7]||"")):(this.g=!!t,this.h=new Lc(null,this.g))}As.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uc(t,uT,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(uc(t,uT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(uc(n,n.charAt(0)=="/"?yV:vV,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uc(n,bV)),e.join("")};function Ri(e){return new As(e)}function _h(e,t,n){e.j=n?mc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function bh(e,t,n){e.i=n?mc(t,!0):t}function wh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function aT(e,t,n){t instanceof Lc?(e.h=t,wV(e.h,e.g)):(n||(t=uc(t,_V)),e.h=new Lc(t,e.g))}function Dt(e,t,n){e.h.set(t,n)}function yd(e){return Dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pV(e){return e instanceof As?Ri(e):new As(e,void 0)}function mV(e,t,n,r){var o=new As(null,void 0);return e&&_h(o,e),t&&bh(o,t),n&&wh(o,n),r&&(o.l=r),o}function mc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,gV),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gV(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var uT=/[#\/\?@]/g,vV=/[#\?:]/g,yV=/[#\?]/g,_V=/[#\?@]/g,bV=/#/g;function Lc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ko(e){e.g||(e.g=new iu,e.h=0,e.i&&dV(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ye=Lc.prototype;ye.add=function(e,t){ko(this),this.i=null,e=ou(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Ak(e,t){ko(e),t=ou(e,t),Ss(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Ss(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&h_(e)))}function kk(e,t){return ko(e),t=ou(e,t),Ss(e.g.h,t)}ye.forEach=function(e,t){ko(this),this.g.forEach(function(n,r){Z1(n,function(o){e.call(t,o,r,this)},this)},this)};ye.T=function(){ko(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};ye.R=function(e){ko(this);var t=[];if(typeof e=="string")kk(this,e)&&(t=JI(t,this.g.get(ou(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=JI(t,e[n])}return t};ye.set=function(e,t){return ko(this),this.i=null,e=ou(this,e),kk(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ye.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function Nk(e,t,n){Ak(e,t),0<n.length&&(e.i=null,e.g.set(ou(e,t),Qy(n)),e.h+=n.length)}ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function ou(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wV(e,t){t&&!e.j&&(ko(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(Ak(this,r),Nk(this,o,n))},e)),e.j=t}var EV=function(){function e(t,n){this.h=t,this.g=n}return e}();function Ck(e){this.l=e||IV,Ke.PerformanceNavigationTiming?(e=Ke.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ke.g&&Ke.g.Ea&&Ke.g.Ea()&&Ke.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IV=10;function Ok(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Rk(e){return e.h?1:e.g?e.g.size:0}function Lv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function d_(e,t){e.g?e.g.add(t):e.h=t}function Pk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ck.prototype.cancel=function(){var e,t;if(this.i=xk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=Q1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function xk(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=Q1(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Qy(e.i)}function p_(){}p_.prototype.stringify=function(e){return Ke.JSON.stringify(e,void 0)};p_.prototype.parse=function(e){return Ke.JSON.parse(e,void 0)};function TV(){this.g=new p_}function SV(e,t,n){var r=n||"";try{f_(e,function(o,s){var u=o;rl(o)&&(u=i_(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function AV(e,t){var n=new dd;if(Ke.Image){var r=new Image;r.onload=Df(Mf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Df(Mf,n,r,"TestLoadImage: error",!1,t),r.onabort=Df(Mf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Df(Mf,n,r,"TestLoadImage: timeout",!1,t),Ke.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Mf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function cl(e){this.l=e.$b||null,this.j=e.ib||!1}bn(cl,u_);cl.prototype.g=function(){return new _d(this.l,this.j)};cl.prototype.i=function(e){return function(){return e}}({});function _d(e,t){hn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=m_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn(_d,hn);var m_=0;ye=_d.prototype;ye.open=function(e,t){if(this.readyState!=m_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mc(this)};ye.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ke).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ll(this)),this.readyState=m_};ye.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ke.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Dk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ye.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ll(this):Mc(this),this.readyState==3&&Dk(this)}};ye.Ua=function(e){this.g&&(this.response=this.responseText=e,ll(this))};ye.Ta=function(e){this.g&&(this.response=e,ll(this))};ye.ha=function(){this.g&&ll(this)};function ll(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mc(e)}ye.setRequestHeader=function(e,t){this.v.append(e,t)};ye.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ye.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Mc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var kV=Ke.JSON.parse;function Jt(e){hn.call(this),this.headers=new iu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lk,this.K=this.L=!1}bn(Jt,hn);var Lk="",NV=/^https?$/i,CV=["POST","PUT"];ye=Jt.prototype;ye.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rv.g(),this.C=this.u?sT(this.u):sT(Rv),this.g.onreadystatechange=vn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){cT(this,s);return}e=n||"";var o=new iu(this.headers);r&&f_(r,function(s,u){o.set(u,s)}),r=jU(o.T()),n=Ke.FormData&&e instanceof Ke.FormData,!(0<=J1(CV,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uk(this),0<this.B&&((this.K=OV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.pa,this)):this.A=a_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){cT(this,s)}};function OV(e){return Da&&KU()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function RV(e){return e.toLowerCase()=="content-type"}ye.pa=function(){typeof Xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yn(this,"timeout"),this.abort(8))};function cT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mk(e),bd(e)}function Mk(e){e.D||(e.D=!0,yn(e,"complete"),yn(e,"error"))}ye.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yn(this,"complete"),yn(this,"abort"),bd(this))};ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bd(this,!0)),Jt.Z.M.call(this)};ye.Fa=function(){this.s||(this.F||this.v||this.l?Fk(this):this.cb())};ye.cb=function(){Fk(this)};function Fk(e){if(e.h&&typeof Xy<"u"&&(!e.C[1]||Ei(e)!=4||e.ba()!=2)){if(e.v&&Ei(e)==4)a_(e.Fa,0,e);else if(yn(e,"readystatechange"),Ei(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(Sk)[1]||null;if(!s&&Ke.self&&Ke.self.location){var u=Ke.self.location.protocol;s=u.substr(0,u.length-1)}o=!NV.test(s?s.toLowerCase():"")}r=o}if(r)yn(e,"complete"),yn(e,"success");else{e.m=6;try{var c=2<Ei(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",Mk(e)}}finally{bd(e)}}}}function bd(e,t){if(e.g){Uk(e);var n=e.g,r=e.C[0]?mh:null;e.g=null,e.C=null,t||yn(e,"ready");try{n.onreadystatechange=r}catch{}}}function Uk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ke.clearTimeout(e.A),e.A=null)}function Ei(e){return e.g?e.g.readyState:0}ye.ba=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}};ye.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ye.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),kV(t)}};function lT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Lk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ye.Da=function(){return this.m};ye.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function PV(e){var t="";return Jy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function g_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PV(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Dt(e,t,n))}function Zu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vk(e){this.za=0,this.l=[],this.h=new dd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zu("baseRetryDelayMs",5e3,e),this.$a=Zu("retryDelaySeedMs",1e4,e),this.Ya=Zu("forwardChannelMaxRetries",2,e),this.ra=Zu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ck(e&&e.concurrentRequestLimit),this.Ca=new TV,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ye=Vk.prototype;ye.ma=8;ye.G=1;function v_(e){if(jk(e),e.G==3){var t=e.V++,n=Ri(e.F);Dt(n,"SID",e.J),Dt(n,"RID",t),Dt(n,"TYPE","terminate"),fl(e,n),t=new al(e,e.h,t,void 0),t.K=2,t.v=yd(Ri(n)),n=!1,Ke.navigator&&Ke.navigator.sendBeacon&&(n=Ke.navigator.sendBeacon(t.v.toString(),"")),!n&&Ke.Image&&(new Image().src=t.v,n=!0),n||(t.g=zk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ul(t)}Wk(e)}ye.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function wd(e){e.g&&(__(e),e.g.cancel(),e.g=null)}function jk(e){wd(e),e.u&&(Ke.clearTimeout(e.u),e.u=null),Eh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ke.clearTimeout(e.m),e.m=null)}function qg(e,t){e.l.push(new EV(e.Za++,t)),e.G==3&&Ed(e)}function Ed(e){Ok(e.i)||e.m||(e.m=!0,o_(e.Ha,e),e.C=0)}function xV(e,t){return Rk(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=ol(vn(e.Ha,e,t),Kk(e,e.C)),e.C++,!0)}ye.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new al(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=ek(n),tk(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=Bk(this,t,r),o=Ri(this.F),Dt(o,"RID",e),Dt(o,"CVER",22),this.D&&Dt(o,"X-HTTP-Session-Id",this.D),fl(this,o),this.o&&n&&g_(o,this.o,n),d_(this.i,t),this.Ra&&Dt(o,"TYPE","init"),this.ja?(Dt(o,"$req",r),Dt(o,"SID","null"),t.$=!0,xv(t,o,null)):xv(t,o,r),this.G=2}}else this.G==3&&(e?fT(this,e):this.l.length==0||Ok(this.i)||fT(this))};function fT(e,t){var n;t?n=t.m:n=e.V++;var r=Ri(e.F);Dt(r,"SID",e.J),Dt(r,"RID",n),Dt(r,"AID",e.U),fl(e,r),e.o&&e.s&&g_(r,e.o,e.s),n=new al(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Bk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),d_(e.i,n),xv(n,r,t)}function fl(e,t){e.j&&f_({},function(n,r){Dt(t,r,n)})}function Bk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),c=!1;else try{SV(g,u,"req"+d+"_")}catch{r&&r(g)}}if(c){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $k(e){e.g||e.u||(e.Y=1,o_(e.Ga,e),e.A=0)}function y_(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=ol(vn(e.Ga,e),Kk(e,e.A)),e.A++,!0)}ye.Ga=function(){if(this.u=null,qk(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ol(vn(this.bb,this),e)}};ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),wd(this),qk(this))};function __(e){e.B!=null&&(Ke.clearTimeout(e.B),e.B=null)}function qk(e){e.g=new al(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Ri(e.oa);Dt(t,"RID","rpc"),Dt(t,"SID",e.J),Dt(t,"CI",e.N?"0":"1"),Dt(t,"AID",e.U),fl(e,t),Dt(t,"TYPE","xmlhttp"),e.o&&e.s&&g_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=yd(Ri(t)),n.s=null,n.U=!0,wk(n,e)}ye.ab=function(){this.v!=null&&(this.v=null,wd(this),y_(this),qn(19))};function Eh(e){e.v!=null&&(Ke.clearTimeout(e.v),e.v=null)}function Hk(e,t){var n=null;if(e.g==t){Eh(e),__(e),e.g=null;var r=2}else if(Lv(e.i,t))n=t.D,Pk(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=pd(),yn(r,new vk(r,n)),Ed(e)}else $k(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&xV(e,t)||r==2&&y_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:hs(e,5);break;case 4:hs(e,10);break;case 3:hs(e,6);break;default:hs(e,2)}}}function Kk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hs(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=vn(e.jb,e);n||(n=new As("//www.google.com/images/cleardot.gif"),Ke.location&&Ke.location.protocol=="http"||_h(n,"https"),yd(n)),AV(n.toString(),r)}else qn(2);e.G=0,e.j&&e.j.va(t),Wk(e),jk(e)}ye.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))};function Wk(e){e.G=0,e.I=-1,e.j&&((xk(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Qy(e.l),e.l.length=0),e.j.ua())}function Gk(e,t,n){var r=pV(n);if(r.i!="")t&&bh(r,t+"."+r.i),wh(r,r.m);else{var o=Ke.location;r=mV(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Jy(e.aa,function(s,u){Dt(r,u,s)}),t=e.D,n=e.sa,t&&n&&Dt(r,t,n),Dt(r,"VER",e.ma),fl(e,r),r}function zk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Jt(new cl({ib:!0})):new Jt(e.qa),t.L=e.H,t}function Yk(){}ye=Yk.prototype;ye.xa=function(){};ye.wa=function(){};ye.va=function(){};ye.ua=function(){};ye.Oa=function(){};function Ih(){if(Da&&!(10<=Number(WU)))throw Error("Environmental error: no available transport.")}Ih.prototype.g=function(e,t){return new vr(e,t)};function vr(e,t){hn.call(this),this.g=new Vk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!gh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gh(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new su(this)}bn(vr,hn);vr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),o_(vn(e.hb,e,t))),qn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Gk(e,null,e.W),Ed(e)};vr.prototype.close=function(){v_(this.g)};vr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,qg(this.g,t)}else this.v?(t={},t.__data__=i_(e),qg(this.g,t)):qg(this.g,e)};vr.prototype.M=function(){this.g.j=null,delete this.j,v_(this.g),delete this.g,vr.Z.M.call(this)};function Xk(e){c_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}bn(Xk,c_);function Qk(){l_.call(this),this.status=1}bn(Qk,l_);function su(e){this.g=e}bn(su,Yk);su.prototype.xa=function(){yn(this.g,"a")};su.prototype.wa=function(e){yn(this.g,new Xk(e))};su.prototype.va=function(e){yn(this.g,new Qk)};su.prototype.ua=function(){yn(this.g,"b")};Ih.prototype.createWebChannel=Ih.prototype.g;vr.prototype.send=vr.prototype.u;vr.prototype.open=vr.prototype.m;vr.prototype.close=vr.prototype.close;md.NO_ERROR=0;md.TIMEOUT=8;md.HTTP_ERROR=6;yk.COMPLETE="complete";_k.EventType=sl;sl.OPEN="a";sl.CLOSE="b";sl.ERROR="c";sl.MESSAGE="d";hn.prototype.listen=hn.prototype.N;Jt.prototype.listenOnce=Jt.prototype.O;Jt.prototype.getLastError=Jt.prototype.La;Jt.prototype.getLastErrorCode=Jt.prototype.Da;Jt.prototype.getStatus=Jt.prototype.ba;Jt.prototype.getResponseJson=Jt.prototype.Qa;Jt.prototype.getResponseText=Jt.prototype.ga;Jt.prototype.send=Jt.prototype.ea;var DV=function(){return new Ih},LV=function(){return pd()},Hg=md,MV=yk,FV=Ps,hT={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UV=cl,Ff=_k,VV=Jt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();dr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Pe(t,e),t}(Error),Br=new G1("@firebase/firestore");function Mv(){return Br.logLevel}function ue(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Br.logLevel<=ct.DEBUG){var r=t.map(b_);Br.debug.apply(Br,xt(["Firestore (8.10.1): "+e],r))}}function Xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Br.logLevel<=ct.ERROR){var r=t.map(b_);Br.error.apply(Br,xt(["Firestore (8.10.1): "+e],r))}}function Th(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Br.logLevel<=ct.WARN){var r=t.map(b_);Br.warn.apply(Br,xt(["Firestore (8.10.1): "+e],r))}}function b_(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Xt(t),new Error(t)}function je(e,t){e||Ae()}function me(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jk=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=jV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function tt(e,t){return e<t?-1:e>t?1:0}function La(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function Zk(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?tt(this.nanoseconds,t.nanoseconds):tt(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Qe=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new tr(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eN(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tN=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Ae(),r===void 0?r=t.length-n:r>t.length-n&&Ae(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ht=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var c=u[s];if(c.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(tN),BV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return BV.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(u(),s++)}if(u(),c)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(tN),Ma=function(){function e(t){this.fields=t,t.sort(Hr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return La(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),rr=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return tt(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();rr.EMPTY_BYTE_STRING=new rr("");var $V=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(e){if(je(!!e),typeof e=="string"){var t=0,n=$V.exec(e);if(je(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Yt(e.seconds),nanos:Yt(e.nanos)}}function Yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fa(e){return typeof e=="string"?rr.fromBase64String(e):rr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nN(e){var t=e.mapValue.fields.__previous_value__;return w_(t)?nN(t):t}function Fc(e){var t=wo(e.mapValue.fields.__local_write_time__.timestampValue);return new tr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e){return e==null}function Sh(e){return e===0&&1/e==-1/0}function rN(e){return typeof e=="number"&&Number.isInteger(e)&&!Sh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ht.fromString(t))},e.fromName=function(t){return new e(ht.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ht.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ht.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ht(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?w_(e)?4:10:Ae()}function fi(e,t){var n=ks(e);if(n!==ks(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fc(e).isEqual(Fc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=wo(r.timestampValue),u=wo(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Fa(r.bytesValue).isEqual(Fa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Yt(r.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(r.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yt(r.integerValue)===Yt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Yt(r.doubleValue),u=Yt(o.doubleValue);return s===u?Sh(s)===Sh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return La(e.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(dT(s)!==dT(u))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!fi(s[c],u[c])))return!1;return!0}(e,t);default:return Ae()}}function Uc(e,t){return(e.values||[]).find(function(n){return fi(n,t)})!==void 0}function Ua(e,t){var n=ks(e),r=ks(t);if(n!==r)return tt(n,r);switch(n){case 0:return 0;case 1:return tt(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Yt(o.integerValue||o.doubleValue),c=Yt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(e,t);case 3:return pT(e.timestampValue,t.timestampValue);case 4:return pT(Fc(e),Fc(t));case 5:return tt(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Fa(o),c=Fa(s);return u.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),c=s.split("/"),f=0;f<u.length&&f<c.length;f++){var d=tt(u[f],c[f]);if(d!==0)return d}return tt(u.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=tt(Yt(o.latitude),Yt(s.latitude));return u!==0?u:tt(Yt(o.longitude),Yt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],c=s.values||[],f=0;f<u.length&&f<c.length;++f){var d=Ua(u[f],c[f]);if(d)return d}return tt(u.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},c=Object.keys(u),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(var g=0;g<c.length&&g<d.length;++g){var h=tt(c[g],d[g]);if(h!==0)return h;var p=Ua(u[c[g]],f[d[g]]);if(p!==0)return p}return tt(c.length,d.length)}(e.mapValue,t.mapValue);default:throw Ae()}}function pT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return tt(e,t);var n=wo(e),r=wo(t),o=tt(n.seconds,r.seconds);return o!==0?o:tt(n.nanos,r.nanos)}function E_(e){return Fv(e)}function Fv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=wo(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ne.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,c=r.values||[];u<c.length;u++)s?s=!1:o+=",",o+=Fv(c[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,c=Object.keys(r.fields||{}).sort();u<c.length;u++){var f=c[u];s?s=!1:o+=",",o+=f+":"+Fv(r.fields[f])}return o+"}"}(e.mapValue):Ae();var t,n}function Ah(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Uv(e){return!!e&&"integerValue"in e}function I_(e){return!!e&&"arrayValue"in e}function mT(e){return!!e&&"nullValue"in e}function gT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eh(e){return!!e&&"mapValue"in e}function gc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xs(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=gc(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=gc(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!eh(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gc(n)},e.prototype.setAll=function(t){var n=this,r=Hr.emptyPath(),o={},s=[];t.forEach(function(c,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}c?o[f.lastSegment()]=gc(c):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return fi(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){xs(n,function(c,f){return t[c]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(gc(this.value))},e}();function iN(e){var t=[];return xs(e.fields,function(n,r){var o=new Hr([n]);if(eh(r)){var s=iN(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,c=s;u<c.length;u++){var f=c[u];t.push(o.child(f))}}else t.push(o)}),new Ma(t)}var Rn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Qe.min(),hr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,hr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,hr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=hr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=hr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),qV=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new qV(e,t,n,r,o,s,u)}function hl(e){var t=me(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+E_(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),Ds(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Nh(t.startAt)),t.endAt&&(n+="|ub:",n+=Nh(t.endAt)),t.h=n}return t.h}function Id(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!QV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!fi(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_T(e.startAt,t.startAt)&&_T(e.endAt,t.endAt)}function kh(e){return Ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var pr=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Pe(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new HV(n,r,o):r==="array-contains"?new GV(n,o):r==="in"?new zV(n,o):r==="not-in"?new YV(n,o):r==="array-contains-any"?new XV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new KV(n,o):new WV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ua(r,this.value)):r!==null&&ks(this.value)===ks(r)&&this.m(Ua(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ae()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),HV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ne.fromName(o.referenceValue),s}return Pe(t,e),t.prototype.matches=function(n){var r=Ne.comparator(n.key,this.key);return this.m(r)},t}(pr),KV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=oN("in",r),o}return Pe(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(pr),WV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=oN("not-in",r),o}return Pe(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(pr);function oN(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ne.fromName(r.referenceValue)})}var GV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Pe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return I_(r)&&Uc(r.arrayValue,this.value)},t}(pr),zV=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Pe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Uc(this.value.arrayValue,r)},t}(pr),YV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Pe(t,e),t.prototype.matches=function(n){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Uc(this.value.arrayValue,r)},t}(pr),XV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Pe(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!I_(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Uc(r.value.arrayValue,s)})},t}(pr),Vc=function(e,t){this.position=e,this.before=t};function Nh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return E_(t)}).join(",")}var Aa=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function QV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yT(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ne.comparator(Ne.fromName(u.referenceValue),n.key):Ua(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function _T(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi=function(e,t,n,r,o,s,u,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function sN(e,t,n,r,o,s,u,c){return new xi(e,t,n,r,o,s,u,c)}function dl(e){return new xi(e)}function th(e){return!Ds(e.limit)&&e.limitType==="F"}function Ch(e){return!Ds(e.limit)&&e.limitType==="L"}function T_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function S_(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function A_(e){return e.collectionGroup!==null}function Va(e){var t=me(e);if(t.p===null){t.p=[];var n=S_(t),r=T_(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Aa(n)),t.p.push(new Aa(Hr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var c=u[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Aa(Hr.keyField(),f))}}}return t.p}function hi(e){var t=me(e);if(!t.T)if(t.limitType==="F")t.T=vT(t.path,t.collectionGroup,Va(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=Va(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Aa(s.field,u))}var c=t.endAt?new Vc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Vc(t.startAt.position,!t.startAt.before):null;t.T=vT(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function aN(e,t,n){return new xi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pl(e,t){return Id(hi(e),hi(t))&&e.limitType===t.limitType}function uN(e){return hl(hi(e))+"|lt:"+e.limitType}function Vv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+E_(o.value);var o}).join(", ")+"]"),Ds(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Nh(t.startAt)),t.endAt&&(n+=", endAt: "+Nh(t.endAt)),"Target("+n+")"}(hi(e))+"; limitType="+e.limitType+")"}function ml(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ne.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!yT(n.startAt,Va(n),r))&&(!n.endAt||!yT(n.endAt,Va(n),r))}(e,t)}function cN(e){return function(t,n){for(var r=!1,o=0,s=Va(e);o<s.length;o++){var u=s[o],c=JV(u,t,n);if(c!==0)return c;r=r||u.field.isKeyField()}return 0}}function JV(e,t,n){var r=e.field.isKeyField()?Ne.comparator(t.key,n.key):function(o,s,u){var c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Ua(c,f):Ae()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(t)?"-0":t}}function fN(e){return{integerValue:""+e}}function hN(e,t){return rN(t)?fN(t):lN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td=function(){this._=void 0};function ZV(e,t,n){return e instanceof ja?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ns?pN(e,t):e instanceof Cs?mN(e,t):function(r,o){var s=dN(r,o),u=bT(s)+bT(r.A);return Uv(s)&&Uv(r.A)?fN(u):lN(r.R,u)}(e,t)}function ej(e,t,n){return e instanceof Ns?pN(e,t):e instanceof Cs?mN(e,t):n}function dN(e,t){return e instanceof Ba?Uv(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var ja=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t}(Td),Ns=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Pe(t,e),t}(Td);function pN(e,t){for(var n=gN(t),r=function(u){n.some(function(c){return fi(c,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Cs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Pe(t,e),t}(Td);function mN(e,t){for(var n=gN(t),r=function(u){n=n.filter(function(c){return!fi(c,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Ba=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Pe(t,e),t}(Td);function bT(e){return Yt(e.integerValue||e.doubleValue)}function gN(e){return I_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gl=function(e,t){this.field=e,this.transform=t},tj=function(e,t){this.version=e,this.transformResults=t},Nn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function nh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Sd=function(){};function nj(e,t,n){e instanceof vl?function(r,o,s){var u=r.value.clone(),c=IT(r.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof No?function(r,o,s){if(nh(r.precondition,o)){var u=IT(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(vN(r)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function jv(e,t,n){e instanceof vl?function(r,o,s){if(nh(r.precondition,o)){var u=r.value.clone(),c=TT(r.fieldTransforms,s,o);u.setAll(c),o.convertToFoundDocument(ET(o),u).setHasLocalMutations()}}(e,t,n):e instanceof No?function(r,o,s){if(nh(r.precondition,o)){var u=TT(r.fieldTransforms,s,o),c=o.data;c.setAll(vN(r)),c.setAll(u),o.convertToFoundDocument(ET(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){nh(r.precondition,o)&&o.convertToNoDocument(Qe.min())}(e,t)}function rj(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),c=dN(s.transform,u||null);c!=null&&(n==null&&(n=hr.empty()),n.set(s.field,c))}return n||null}function wT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&La(n,r,function(o,s){return function(u,c){return u.field.isEqual(c.field)&&function(f,d){return f instanceof Ns&&d instanceof Ns||f instanceof Cs&&d instanceof Cs?La(f.elements,d.elements,fi):f instanceof Ba&&d instanceof Ba?fi(f.A,d.A):f instanceof ja&&d instanceof ja}(u.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ET(e){return e.isFoundDocument()?e.version:Qe.min()}var vl=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Pe(t,e),t}(Sd),No=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=u,c.type=1,c}return Pe(t,e),t}(Sd);function vN(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function IT(e,t,n){var r=new Map;je(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,ej(u,c,n[o]))}return r}function TT(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],c=u.transform,f=n.data.field(u.field);r.set(u.field,ZV(c,f,t))}return r}var zt,it,yl=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Pe(t,e),t}(Sd),k_=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Pe(t,e),t}(Sd),ij=function(e){this.count=e};function yN(e){switch(e){case H.OK:return Ae();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return Ae()}}function _N(e){if(e===void 0)return Xt("GRPC error has no .code"),H.UNKNOWN;switch(e){case zt.OK:return H.OK;case zt.CANCELLED:return H.CANCELLED;case zt.UNKNOWN:return H.UNKNOWN;case zt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case zt.INTERNAL:return H.INTERNAL;case zt.UNAVAILABLE:return H.UNAVAILABLE;case zt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case zt.NOT_FOUND:return H.NOT_FOUND;case zt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case zt.ABORTED:return H.ABORTED;case zt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case zt.DATA_LOSS:return H.DATA_LOSS;default:return Ae()}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function e(t,n){this.comparator=t,this.root=n||so.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,so.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,so.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Uf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Uf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Uf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Uf(this.root,t,this.comparator,!0)},e}(),Uf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),so=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();var t=this.left.check();if(t!==this.right.check())throw Ae();return t+(this.isRed()?0:1)},e}();so.EMPTY=null,so.RED=!0,so.BLACK=!1,so.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ae()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ae()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ae()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ae()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ae()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new so(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn=function(){function e(t){this.comparator=t,this.data=new Pn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ST(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ST(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ST=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),oj=new Pn(Ne.comparator);function $r(){return oj}var sj=new Pn(Ne.comparator);function Bv(){return sj}var aj=new Pn(Ne.comparator);function uj(){return aj}var cj=new sn(Ne.comparator);function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=cj,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var lj=new sn(tt);function Ad(){return lj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N_=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,C_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qe.min(),r,Ad(),$r(),St())},e}(),C_=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(rr.EMPTY_BYTE_STRING,n,St(),St(),St())},e}(),rh=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},bN=function(e,t){this.targetId=e,this.V=t},wN=function(e,t,n,r){n===void 0&&(n=rr.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},AT=function(){function e(){this.S=0,this.D=NT(),this.C=rr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=St(),n=St(),r=St();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae()}}),new C_(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=NT()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),fj=function(){function e(t){this.W=t,this.G=new Map,this.H=$r(),this.J=kT(),this.Y=new sn(tt)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Ae()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(kh(s))if(r===0){var u=new Ne(s.path);this.tt(n,u,Rn.newNoDocument(u,Qe.min()))}else je(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,c){var f=n.ot(c);if(f){if(u.current&&kh(f.target)){var d=new Ne(f.target.path);n.H.get(d)!==null||n.at(c,d)||n.tt(c,d,Rn.newNoDocument(d,t))}u.$&&(r.set(c,u.M()),u.L())}});var o=St();this.J.forEach(function(u,c){var f=!0;c.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new N_(t,r,this.Y,this.H,o);return this.H=$r(),this.J=kT(),this.Y=new sn(tt),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new AT,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new sn(tt),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new AT),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function kT(){return new Pn(Ne.comparator)}function NT(){return new Pn(Ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hj={asc:"ASCENDING",desc:"DESCENDING"},dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pj=function(e,t){this.databaseId=e,this.I=t};function jc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function EN(e,t){return e.I?t.toBase64():t.toUint8Array()}function mj(e,t){return jc(e,t.toTimestamp())}function Hn(e){return je(!!e),Qe.fromTimestamp(function(t){var n=wo(t);return new tr(n.seconds,n.nanos)}(e))}function O_(e,t){return function(n){return new ht(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function IN(e){var t=ht.fromString(e);return je(ON(t)),t}function Bc(e,t){return O_(e.databaseId,t.path)}function Si(e,t){var n=IN(t);if(n.get(1)!==e.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ne(SN(n))}function $v(e,t){return O_(e.databaseId,t)}function TN(e){var t=IN(e);return t.length===4?ht.emptyPath():SN(t)}function $c(e){return new ht(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SN(e){return je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function CT(e,t,n){return{name:Bc(e,t),fields:n.value.mapValue.fields}}function gj(e,t,n){var r=Si(e,t.name),o=Hn(t.updateTime),s=new hr({mapValue:{fields:t.fields}}),u=Rn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Oh(e,t){var n;if(t instanceof vl)n={update:CT(e,t.key,t.value)};else if(t instanceof yl)n={delete:Bc(e,t.key)};else if(t instanceof No)n={update:CT(e,t.key,t.data),updateMask:wj(t.fieldMask)};else{if(!(t instanceof k_))return Ae();n={verify:Bc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ns)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ba)return{fieldPath:s.field.canonicalString(),increment:u.A};throw Ae()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:mj(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae()}(e,t.precondition)),n}function OT(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?Nn.updateTime(Hn(d.updateTime)):d.exists!==void 0?Nn.exists(d.exists):Nn.none()}(t.currentDocument):Nn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(g,h){var p=null;if("setToServerValue"in h)je(h.setToServerValue==="REQUEST_TIME"),p=new ja;else if("appendMissingElements"in h){var v=h.appendMissingElements.values||[];p=new Ns(v)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];p=new Cs(_)}else"increment"in h?p=new Ba(g,h.increment):Ae();var E=Hr.fromServerFormat(h.fieldPath);return new gl(E,p)}(e,d)}):[];if(t.update){t.update.name;var o=Si(e,t.update.name),s=new hr({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var g=d.fieldPaths||[];return new Ma(g.map(function(h){return Hr.fromServerFormat(h)}))}(t.updateMask);return new No(o,s,u,n,r)}return new vl(o,s,n,r)}if(t.delete){var c=Si(e,t.delete);return new yl(c,n)}if(t.verify){var f=Si(e,t.verify);return new k_(f,n)}return Ae()}function AN(e,t){return{documents:[$v(e,t.path)]}}function kN(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=$v(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$v(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(d){return function(g){if(g.op==="=="){if(gT(g.value))return{unaryFilter:{field:fa(g.field),op:"IS_NAN"}};if(mT(g.value))return{unaryFilter:{field:fa(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(gT(g.value))return{unaryFilter:{field:fa(g.field),op:"IS_NOT_NAN"}};if(mT(g.value))return{unaryFilter:{field:fa(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(g.field),op:yj(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(d){return{field:fa(d.field),direction:vj(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(c,f){return c.I||Ds(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=RT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=RT(t.endAt)),n}function NN(e){var t=TN(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){je(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=CN(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(h){return function(p){return new Aa(ba(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h)}));var f=null;n.limit&&(f=function(h){var p;return Ds(p=typeof h=="object"?h.value:h)?null:p}(n.limit));var d=null;n.startAt&&(d=PT(n.startAt));var g=null;return n.endAt&&(g=PT(n.endAt)),sN(t,o,c,u,f,"F",d,g)}function CN(e){return e?e.unaryFilter!==void 0?[bj(e)]:e.fieldFilter!==void 0?[_j(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return CN(t)}).reduce(function(t,n){return t.concat(n)}):Ae():[]}function RT(e){return{before:e.before,values:e.position}}function PT(e){var t=!!e.before,n=e.values||[];return new Vc(n,t)}function vj(e){return hj[e]}function yj(e){return dj[e]}function fa(e){return{fieldPath:e.canonicalString()}}function ba(e){return Hr.fromServerFormat(e.fieldPath)}function _j(e){return pr.create(ba(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ae()}}(e.fieldFilter.op),e.fieldFilter.value)}function bj(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ba(e.unaryFilter.field);return pr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ba(e.unaryFilter.field);return pr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ba(e.unaryFilter.field);return pr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=ba(e.unaryFilter.field);return pr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ae()}}function wj(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function ON(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xT(t)),t=Ej(e.get(n),t);return xT(t)}function Ej(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function xT(e){return e+""}function Ii(e){var t=e.length;if(je(t>=2),t===2)return je(e.charAt(0)===""&&e.charAt(1)===""),ht.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&Ae(),e.charAt(u+1)){case"":var c=e.substring(s,u),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:Ae()}s=u+2}return new ht(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ij=function(e,t){this.seconds=e,this.nanoseconds=t},lr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};lr.store="owner",lr.key="owner";var vo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};vo.store="mutationQueues",vo.keyPath="userId";var kt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};kt.store="mutations",kt.keyPath="batchId",kt.userMutationsIndex="userMutationsIndex",kt.userMutationsKeyPath=["userId","batchId"];var Tn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,qr(n)]},e.key=function(t,n,r){return[t,qr(n),r]},e}();Tn.store="documentMutations",Tn.PLACEHOLDER=new Tn;var Tj=function(e,t){this.path=e,this.readTime=t},Sj=function(e,t){this.path=e,this.version=t},jt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};jt.store="remoteDocuments",jt.readTimeIndex="readTimeIndex",jt.readTimeIndexPath="readTime",jt.collectionReadTimeIndex="collectionReadTimeIndex",jt.collectionReadTimeIndexPath=["parentPath","readTime"];var oi=function(e){this.byteSize=e};oi.store="remoteDocumentGlobal",oi.key="remoteDocumentGlobalKey";var er=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};er.store="targets",er.keyPath="targetId",er.queryTargetsIndexName="queryTargetsIndex",er.queryTargetsKeyPath=["canonicalId","targetId"];var gn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};gn.store="targetDocuments",gn.keyPath=["targetId","path"],gn.documentTargetsIndex="documentTargetsIndex",gn.documentTargetsKeyPath=["path","targetId"];var fr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};fr.key="targetGlobalKey",fr.store="targetGlobal";var ys=function(e,t){this.collectionId=e,this.parent=t};ys.store="collectionParents",ys.keyPath=["collectionId","parent"];var Ai=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ai.store="clientMetadata",Ai.keyPath="clientId";var $a=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};$a.store="bundles",$a.keyPath="bundleId";var qa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};qa.store="namedQueries",qa.keyPath="name";var Aj=xt(xt([],xt(xt([],xt(xt([],xt(xt([],[vo.store,kt.store,Tn.store,jt.store,er.store,lr.store,fr.store,gn.store]),[Ai.store])),[oi.store])),[ys.store])),[$a.store,qa.store]),RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",PN=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),ir=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ae=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(c){++o,c.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(c){return c?e.resolve(c):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),xN=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new ir,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new vc(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=R_(o.target.error);r.ft.reject(new vc(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new vc(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new Nj(n)},e}(),Ha=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ts())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ue("SimpleDb","Removing database:",t),cs(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Ts(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return X(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ue("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var d=f.target.result;s(d)},c.onblocked=function(){u(new vc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var d=f.target.error;d.name==="VersionError"?u(new re(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new vc(t,d))},c.onupgradeneeded=function(f){ue("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,c.transaction,f.oldVersion,r.version).next(function(){ue("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Z(this,void 0,void 0,function(){var s,u,c,f,d;return X(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,c=function(){var h,p,v,_,E;return X(this,function(S){switch(S.label){case 0:++u,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),h=xN.open(f.db,t,s?"readonly":"readwrite",r),p=o(h).catch(function(b){return h.abort(b),ae.reject(b)}).toPromise(),v={},p.catch(function(){}),[4,h.dt];case 3:return[2,(v.value=(S.sent(),p),v)];case 4:return _=S.sent(),E=_.name!=="FirebaseError"&&u<3,ue("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),f.close(),E?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,c()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),kj=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return cs(this.Pt.delete())},e}(),vc=function(e){function t(n,r){var o=this;return(o=e.call(this,H.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Pe(t,e),t}(re);function Ls(e){return e.name==="IndexedDbTransactionError"}var Nj=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ue("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),cs(r)},e.prototype.add=function(t){return ue("SimpleDb","ADD",this.store.name,t,t),cs(this.store.add(t))},e.prototype.get=function(t){var n=this;return cs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ue("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ue("SimpleDb","DELETE",this.store.name,t),cs(this.store.delete(t))},e.prototype.count=function(){return ue("SimpleDb","COUNT",this.store.name),cs(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){ue("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ae(function(r,o){n.onerror=function(s){var u=R_(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(c){c?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ae(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var c=u.target.result;if(c){var f=new kj(c),d=n(c.primaryKey,c.value,f);if(d instanceof ae){var g=d.catch(function(h){return f.done(),ae.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return ae.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function cs(e){return new ae(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=R_(r.target.error);n(o)}})}var DT=!1;function R_(e){var t=Ha._t(Ts());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new re("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return DT||(DT=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LT=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Pe(t,e),t}(PN);function or(e,t){var n=me(e);return Ha.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P_=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&nj(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&jv(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&jv(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Qe.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},St())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&La(this.mutations,t.mutations,function(n,r){return wT(n,r)})&&La(this.baseMutations,t.baseMutations,function(n,r){return wT(n,r)})},e}(),Cj=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){je(t.mutations.length===r.length);for(var o=uj(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),kd=function(){function e(t,n,r,o,s,u,c){s===void 0&&(s=Qe.min()),u===void 0&&(u=Qe.min()),c===void 0&&(c=rr.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),DN=function(e){this.Lt=e};function qv(e,t){if(t.document)return gj(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ne.fromSegments(t.noDocument.path),r=Wa(t.noDocument.readTime),o=Rn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ne.fromSegments(t.unknownDocument.path);return r=Wa(t.unknownDocument.version),Rn.newUnknownDocument(s,r)}return Ae()}function MT(e,t,n){var r=x_(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,p){return{name:Bc(h,p.key),fields:p.data.value.mapValue.fields,updateTime:jc(h,p.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new jt(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=Ka(t.version);return u=t.hasCommittedMutations,new jt(null,new Tj(c,f),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),g=Ka(t.version);return new jt(new Sj(d,g),null,null,!0,r,o)}return Ae()}function x_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function LN(e){var t=new tr(e[0],e[1]);return Qe.fromTimestamp(t)}function Ka(e){var t=e.toTimestamp();return new Ij(t.seconds,t.nanoseconds)}function Wa(e){var t=new tr(e.seconds,e.nanoseconds);return Qe.fromTimestamp(t)}function ma(e,t){for(var n=(t.baseMutations||[]).map(function(f){return OT(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return OT(e.Lt,f)}),c=tr.fromMillis(t.localWriteTimeMs);return new P_(t.batchId,c,n,u)}function cc(e){var t,n,r=Wa(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Wa(e.lastLimboFreeSnapshotVersion):Qe.min();return e.query.documents!==void 0?(je((n=e.query).documents.length===1),t=hi(dl(TN(n.documents[0])))):t=function(s){return hi(NN(s))}(e.query),new kd(t,e.targetId,0,e.lastListenSequenceNumber,r,o,rr.fromBase64String(e.resumeToken))}function MN(e,t){var n,r=Ka(t.snapshotVersion),o=Ka(t.lastLimboFreeSnapshotVersion);n=kh(t.target)?AN(e.Lt,t.target):kN(e.Lt,t.target);var s=t.resumeToken.toBase64();return new er(t.targetId,hl(t.target),r,s,t.sequenceNumber,o,n)}function FN(e){var t=NN({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?aN(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return FT(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Wa(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return FT(t).put({bundleId:(r=n).id,createTime:Ka(Hn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return UT(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:FN(o.bundledQuery),readTime:Wa(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return UT(t).put(function(r){return{name:r.name,readTime:Ka(Hn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function FT(e){return or(e,$a.store)}function UT(e){return or(e,qa.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(){this.Bt=new D_}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ae.resolve()},e.prototype.getCollectionParents=function(t,n){return ae.resolve(this.Bt.getEntries(n))},e}(),D_=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new sn(ht.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new sn(ht.comparator)).toArray()},e}(),Pj=function(){function e(){this.qt=new D_}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:qr(s)};return VT(t).put(u)}return ae.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[Zk(n),""],!1,!0);return VT(t).Nt(o).next(function(s){for(var u=0,c=s;u<c.length;u++){var f=c[u];if(f.collectionId!==n)break;r.push(Ii(f.parent))}return r})},e}();function VT(e){return or(e,ys.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ti=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e,t,n){var r=e.store(kt.store),o=e.store(Tn.store),s=[],u=IDBKeyRange.only(n.batchId),c=0,f=r.$t({range:u},function(_,E,S){return c++,S.delete()});s.push(f.next(function(){je(c===1)}));for(var d=[],g=0,h=n.mutations;g<h.length;g++){var p=h[g],v=Tn.key(t,p.key.path,n.batchId);s.push(o.delete(v)),d.push(p.key)}return ae.waitFor(s).next(function(){return d})}function Rh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ae();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(41943040,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);var xj=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return je(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zi(t).$t({index:kt.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=ga(t),c=zi(t);return c.add({}).next(function(f){je(typeof f=="number");for(var d=new P_(f,n,r,o),g=function(b,k,x){var C=x.baseMutations.map(function(D){return Oh(b.Lt,D)}),U=x.mutations.map(function(D){return Oh(b.Lt,D)});return new kt(k,x.batchId,x.localWriteTime.toMillis(),C,U)}(s.R,s.userId,d),h=[],p=new sn(function(b,k){return tt(b.canonicalString(),k.canonicalString())}),v=0,_=o;v<_.length;v++){var E=_[v],S=Tn.key(s.userId,E.key.path,f);p=p.add(E.key.path.popLast()),h.push(c.put(g)),h.push(u.put(S,Tn.PLACEHOLDER))}return p.forEach(function(b){h.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),ae.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return zi(t).get(n).next(function(o){return o?(je(o.userId===r.userId),ma(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ae.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return zi(t).$t({index:kt.userMutationsIndex,range:s},function(c,f,d){f.userId===r.userId&&(je(f.batchId>=o),u=ma(r.R,f)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return zi(t).$t({index:kt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zi(t).Nt(kt.userMutationsIndex,r).next(function(o){return o.map(function(s){return ma(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=Tn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return ga(t).$t({range:s},function(c,f,d){var g=c[0],h=c[1],p=c[2],v=Ii(h);if(g===r.userId&&n.path.isEqual(v))return zi(t).get(p).next(function(_){if(!_)throw Ae();je(_.userId===r.userId),u.push(ma(r.R,_))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new sn(tt),s=[];return n.forEach(function(u){var c=Tn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(c),d=ga(t).$t({range:f},function(g,h,p){var v=g[0],_=g[1],E=g[2],S=Ii(_);v===r.userId&&u.path.isEqual(S)?o=o.add(E):p.done()});s.push(d)}),ae.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=Tn.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(u),f=new sn(tt);return ga(t).$t({range:c},function(d,g,h){var p=d[0],v=d[1],_=d[2],E=Ii(v);p===r.userId&&o.isPrefixOf(E)?E.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(zi(t).get(u).next(function(c){if(c===null)throw Ae();je(c.userId===r.userId),o.push(ma(r.R,c))}))}),ae.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return UN(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ae.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ae.resolve();var o=IDBKeyRange.lowerBound(Tn.prefixForUser(n.userId)),s=[];return ga(t).$t({range:o},function(u,c,f){if(u[0]===n.userId){var d=Ii(u[1]);s.push(d)}else f.done()}).next(function(){je(s.length===0)})})},e.prototype.containsKey=function(t,n){return VN(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return jN(t).get(this.userId).next(function(r){return r||new vo(n.userId,-1,"")})},e}();function VN(e,t,n){var r=Tn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return ga(e).$t({range:s,Ft:!0},function(c,f,d){var g=c[0],h=c[1];c[2],g===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function zi(e){return or(e,kt.store)}function ga(e){return or(e,Tn.store)}function jN(e){return or(e,vo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Dj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Ph(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Qe.fromTimestamp(new tr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ha(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return je(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return ha(t).$t(function(c,f){var d=cc(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return ae.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ha(t).$t(function(r,o){var s=cc(o);n(s)})},e.prototype.Xt=function(t){return BT(t).get(fr.key).next(function(n){return je(n!==null),n})},e.prototype.Zt=function(t,n){return BT(t).put(fr.key,n)},e.prototype.te=function(t,n){return ha(t).put(MN(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=hl(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ha(t).$t({range:o,index:er.queryTargetsIndexName},function(u,c,f){var d=cc(c);Id(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=ao(t);return n.forEach(function(c){var f=qr(c.path);s.push(u.put(new gn(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),ae.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=ao(t);return ae.forEach(n,function(u){var c=qr(u.path);return ae.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=ao(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=ao(t),s=St();return o.$t({range:r,Ft:!0},function(u,c,f){var d=Ii(u[1]),g=new Ne(d);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=qr(n.path),o=IDBKeyRange.bound([r],[Zk(r)],!1,!0),s=0;return ao(t).$t({index:gn.documentTargetsIndex,Ft:!0,range:o},function(u,c,f){var d=u[0];u[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ha(t).get(n).next(function(r){return r?cc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(e){return or(e,er.store)}function BT(e){return or(e,fr.store)}function ao(e){return or(e,gn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e){return Z(this,void 0,void 0,function(){return X(this,function(t){if(e.code!==H.FAILED_PRECONDITION||e.message!==RN)throw e;return ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=tt(n,o);return u===0?tt(r,s):u}var Lj=function(){function e(t){this.ne=t,this.buffer=new sn($T),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();$T(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Mj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ue("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Z(n,void 0,void 0,function(){var o;return X(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ls(o=s.sent())?(ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Ms(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),Fj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ae.resolve(dr.o);var o=new Lj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(jT)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),jT):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,c,f,d,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(p){return p>g.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+p),o=g.params.maximumSequenceNumbersToCollect):o=p,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(p){return r=p,c=Date.now(),g.removeTargets(t,r,n)}).next(function(p){return s=p,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(p){return d=Date.now(),Mv()<=ct.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(c-u)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+p+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:p})})},e}(),Uj=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new Fj(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Vf(t,r)},e.prototype.removeReference=function(t,n,r){return Vf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Vf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return jN(r).Ot(function(u){return VN(r,u,o).next(function(c){return c&&(s=!0),ae.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(c,f){if(f<=n){var d=r._e(t,c).next(function(g){if(!g)return u++,o.getEntry(t,c).next(function(){return o.removeEntry(c),ao(t).delete([0,qr(c.path)])})});s.push(d)}}).next(function(){return ae.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Vf(t,n)},e.prototype.we=function(t,n){var r,o=ao(t),s=dr.o;return o.$t({index:gn.documentTargetsIndex},function(u,c){var f=u[0];u[1];var d=c.path,g=c.sequenceNumber;f===0?(s!==dr.o&&n(new Ne(Ii(r)),s),s=g,r=d):s=dr.o}).next(function(){s!==dr.o&&n(new Ne(Ii(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Vf(e,t){return ao(e).put(function(n,r){return new gn(0,qr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){xs(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],c=u[0],f=u[1];t(c,f)}})},e.prototype.isEmpty=function(){return eN(this.inner)},e}(),BN=function(){function e(){this.changes=new au(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Qe.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Rn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ae.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),Vj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return ro(t).put(jf(n),r)},e.prototype.removeEntry=function(t,n){var r=ro(t),o=jf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return ro(t).get(jf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return ro(t).get(jf(n)).next(function(o){return{document:r.ye(n,o),size:Rh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=$r();return this.pe(t,n,function(s,u){var c=r.ye(s,u);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=$r(),s=new Pn(Ne.comparator);return this.pe(t,n,function(u,c){var f=r.ye(u,c);o=o.insert(u,f),s=s.insert(u,Rh(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ae.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return ro(t).$t({range:o},function(c,f,d){for(var g=Ne.fromSegments(c);u&&Ne.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=$r(),u=n.path.length+1,c={};if(r.isEqual(Qe.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=x_(r);c.range=IDBKeyRange.lowerBound([d,g],!0),c.index=jt.collectionReadTimeIndex}return ro(t).$t(c,function(h,p,v){if(h.length===u){var _=qv(o.R,p);n.path.isPrefixOf(_.key.path)?ml(n,_)&&(s=s.insert(_.key,_)):v.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new jj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return qT(t).get(oi.key).next(function(n){return je(!!n),n})},e.prototype.me=function(t,n){return qT(t).put(oi.key,n)},e.prototype.ye=function(t,n){if(n){var r=qv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Qe.min()))return r}return Rn.newInvalidDocument(t)},e}(),jj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new au(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Pe(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new sn(function(c,f){return tt(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var d=r.Ae.get(c);if(f.document.isValidDocument()){var g=MT(r.Ie.R,f.document,r.getReadTime(c));u=u.add(c.path.popLast());var h=Rh(g);s+=h-d,o.push(r.Ie.addEntry(n,c,g))}else if(s-=d,r.trackRemovals){var p=MT(r.Ie.R,Rn.newNoDocument(c,Qe.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,p))}else o.push(r.Ie.removeEntry(n,c))}),u.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),ae.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),u})},t}(BN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e){return or(e,oi.store)}function ro(e){return or(e,jt.store)}function jf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;je(r<o&&r>=0&&o<=11);var u=new xN("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(lr.store)}(t),function(f){f.createObjectStore(vo.store,{keyPath:vo.keyPath}),f.createObjectStore(kt.store,{keyPath:kt.keyPath,autoIncrement:!0}).createIndex(kt.userMutationsIndex,kt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Tn.store)}(t),HT(t),function(f){f.createObjectStore(jt.store)}(t));var c=ae.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(gn.store),f.deleteObjectStore(er.store),f.deleteObjectStore(fr.store)}(t),HT(t)),c=c.next(function(){return function(f){var d=f.store(fr.store),g=new fr(0,0,Qe.min().toTimestamp(),0);return d.put(fr.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,d){return d.store(kt.store).Nt().next(function(g){f.deleteObjectStore(kt.store),f.createObjectStore(kt.store,{keyPath:kt.keyPath,autoIncrement:!0}).createIndex(kt.userMutationsIndex,kt.userMutationsKeyPath,{unique:!0});var h=d.store(kt.store),p=g.map(function(v){return h.put(v)});return ae.waitFor(p)})}(t,u)})),c=c.next(function(){(function(f){f.createObjectStore(Ai.store,{keyPath:Ai.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(u)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(oi.store)}(t),s.be(u)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(u)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(jt.store);d.createIndex(jt.readTimeIndex,jt.readTimeIndexPath,{unique:!1}),d.createIndex(jt.collectionReadTimeIndex,jt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(u)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore($a.store,{keyPath:$a.keyPath})})(t),function(f){f.createObjectStore(qa.store,{keyPath:qa.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(jt.store).$t(function(r,o){n+=Rh(o)}).next(function(){var r=new oi(n);return t.store(oi.store).put(oi.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(vo.store),o=t.store(kt.store);return r.Nt().next(function(s){return ae.forEach(s,function(u){var c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(kt.userMutationsIndex,c).next(function(f){return ae.forEach(f,function(d){je(d.userId===u.userId);var g=ma(n.R,d);return UN(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(gn.store),r=t.store(jt.store);return t.store(fr.store).get(fr.key).next(function(o){var s=[];return r.$t(function(u,c){var f=new ht(u),d=function(g){return[0,qr(g)]}(f);s.push(n.get(d).next(function(g){return g?ae.resolve():function(h){return n.put(new gn(0,qr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ae.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(ys.store,{keyPath:ys.keyPath});var r=n.store(ys.store),o=new D_,s=function(u){if(o.add(u)){var c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:qr(f)})}};return n.store(jt.store).$t({Ft:!0},function(u,c){var f=new ht(u);return s(f.popLast())}).next(function(){return n.store(Tn.store).$t({Ft:!0},function(u,c){u[0];var f=u[1];u[2];var d=Ii(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(er.store);return r.$t(function(o,s){var u=cc(s),c=MN(n.R,u);return r.put(c)})},e}();function HT(e){e.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.documentTargetsIndex,gn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(er.store,{keyPath:er.keyPath}).createIndex(er.queryTargetsIndexName,er.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(fr.store)}var Kg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$j=function(){function e(t,n,r,o,s,u,c,f,d,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=c,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new re(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uj(this,o),this.Le=n+"main",this.R=new DN(f),this.Be=new Ha(this.Le,11,new Bj(this.R)),this.qe=new Dj(this.referenceDelegate,this.R),this.Ut=new Pj,this.Ue=function(h,p){return new Vj(h,p)}(this.R,this.Ut),this.Ke=new Oj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new re(H.FAILED_PRECONDITION,Kg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new dr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Z(n,void 0,void 0,function(){return X(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Z(n,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Bf(n).put(new Ai(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ls(n))return ue("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ec(t).get(lr.key).next(function(r){return ae.resolve(n.tn(r))})},e.prototype.en=function(t){return Bf(t).delete(this.clientId)},e.prototype.nn=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s=this;return X(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=or(c,Ai.store);return f.Nt().next(function(d){var g=s.rn(d,18e5),h=d.filter(function(p){return g.indexOf(p)===-1});return ae.forEach(h,function(p){return f.delete(p.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ae.resolve(!0):ec(t).get(lr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new re(H.FAILED_PRECONDITION,Kg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Bf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ue("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Z(this,void 0,void 0,function(){var t=this;return X(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[lr.store,Ai.store],function(r){var o=new LT(r,dr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Bf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return xj.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ue("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,Aj,function(c){return s=new LT(c,o.Ne?o.Ne.next():dr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Xt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new re(H.FAILED_PRECONDITION,RN);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return ec(t).get(lr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new re(H.FAILED_PRECONDITION,Kg)})},e.prototype.Ze=function(t){var n=new lr(this.clientId,this.allowTabSynchronization,Date.now());return ec(t).put(lr.key,n)},e.yt=function(){return Ha.yt()},e.prototype.Xe=function(t){var n=this,r=ec(t);return r.get(lr.key).next(function(o){return n.tn(o)?(ue("IndexedDbPersistence","Releasing primary lease."),r.delete(lr.key)):ae.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Xt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),YF()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ue("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Xt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Xt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ec(e){return or(e,lr.store)}function Bf(e){return or(e,Ai.store)}function L_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $N=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):A_(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ne(n)).next(function(r){var o=Bv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=Bv();return this.Ut.getCollectionParents(t,s).next(function(c){return ae.forEach(c,function(f){var d=function(g,h){return new xi(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(g){g.forEach(function(h,p){u=u.insert(h,p)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,u.Rn(t,s,o).next(function(f){o=f;for(var d=0,g=s;d<g.length;d++)for(var h=g[d],p=0,v=h.mutations;p<v.length;p++){var _=v[p],E=_.key,S=o.get(E);S==null&&(S=Rn.newInvalidDocument(E),o=o.insert(E,S)),jv(_,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(E))}})}).next(function(){return o.forEach(function(c,f){ml(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=St(),s=0,u=n;s<u.length;s++)for(var c=0,f=u[s].mutations;c<f.length;c++){var d=f[c];d instanceof No&&r.get(d.key)===null&&(o=o.add(d.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(p,v){v.isFoundDocument()&&(g=g.insert(p,v))}),g})},e}(),qj=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=St(),o=St(),s=0,u=n.docChanges;s<u.length;s++){var c=u[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),qN=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Qe.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var c=s.Cn(n,u);return(th(n)||Ch(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(Mv()<=ct.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vv(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new sn(cN(t));return n.forEach(function(o,s){ml(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Mv()<=ct.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Vv(n)),this.Sn.getDocumentsMatchingQuery(t,n,Qe.min())},e}(),Hj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Pn(tt),this.Fn=new au(function(s){return hl(s)},Id),this.$n=Qe.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new $N(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e,t,n,r){return new Hj(e,t,n,r)}function KN(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s;return X(this,function(u){switch(u.label){case 0:return n=me(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new $N(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(d){for(var g=[],h=[],p=St(),v=0,_=f;v<_.length;v++){var E=_[v];g.push(E.batchId);for(var S=0,b=E.mutations;S<b.length;S++){var k=b[S];p=p.add(k.key)}}for(var x=0,C=d;x<C.length;x++){var U=C[x];h.push(U.batchId);for(var D=0,Y=U.mutations;D<Y.length;D++){var j=Y[D];p=p.add(j.key)}}return o.pn(c,p).next(function(q){return{Ln:q,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Kj(e,t){var n=me(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,c,f,d){var g=f.batch,h=g.keys(),p=ae.resolve();return h.forEach(function(v){p=p.next(function(){return d.getEntry(c,v)}).next(function(_){var E=f.docVersions.get(v);je(E!==null),_.version.compareTo(E)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),p.next(function(){return u._n.removeMutationBatch(c,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function WN(e){var t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Wj(e,t){var n=me(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var c=[];t.targetChanges.forEach(function(g,h){var p=o.get(h);if(p){c.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var v=g.resumeToken;if(v.approximateByteSize()>0){var _=p.withResumeToken(v,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(E,S,b){return je(S.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,_,g)&&c.push(n.qe.updateTargetData(s,_))}}});var f=$r();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(Gj(s,u,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(Qe.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(d)}return ae.waitFor(c).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function Gj(e,t,n,r,o){var s=St();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var c=$r();return n.forEach(function(f,d){var g=u.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(Qe.min())?(t.removeEntry(f,h),c=c.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d,h),c=c.insert(f,d)):ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),c})}function zj(e,t){var n=me(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function xh(e,t){var n=me(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ae.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new kd(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Ga(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:r=me(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Ls(u=c.sent()))throw u;return ue("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Dh(e,t,n){var r=me(e),o=Qe.min(),s=St();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(c,f,d){var g=me(c),h=g.Fn.get(d);return h!==void 0?ae.resolve(g.kn.get(h)):g.qe.getTargetData(f,d)}(r,u,hi(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:Qe.min(),n?s:St())}).next(function(c){return{documents:c,Bn:s}})})}function GN(e,t){var n=me(e),r=me(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function zN(e){var t=me(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=me(r),c=$r(),f=x_(s),d=ro(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:jt.readTimeIndex,range:g},function(h,p){var v=qv(u.R,p);c=c.insert(v.key,v),f=p.readTime}).next(function(){return{wn:c,readTime:LN(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function Yj(e){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){return[2,(t=me(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=ro(o),u=Qe.min();return s.$t({index:jt.readTimeIndex,reverse:!0},function(c,f,d){f.readTime&&(u=LN(f.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xj=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ae.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Hn(r.createTime)}),ae.resolve()},e.prototype.getNamedQuery=function(t,n){return ae.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:FN(r.bundledQuery),readTime:Hn(r.readTime)}}(n)),ae.resolve()},e}(),M_=function(){function e(){this.Wn=new sn(ln.Gn),this.zn=new sn(ln.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new ln(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new ln(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ne(new ht([])),o=new ln(r,t),s=new ln(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),u.push(c.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ne(new ht([])),r=new ln(n,t),o=new ln(n,t+1),s=St();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new ln(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),ln=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ne.comparator(t.key,n.key)||tt(t.ns,n.ns)},e.Hn=function(t,n){return tt(t.ns,n.ns)||Ne.comparator(t.key,n.key)},e}(),Qj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new sn(ln.Gn)}return e.prototype.checkEmpty=function(t){return ae.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new P_(s,n,r,o);this._n.push(u);for(var c=0,f=o;c<f.length;c++){var d=f[c];this.rs=this.rs.add(new ln(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ae.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ae.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ae.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ae.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ae.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);u.push(f)}),ae.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new sn(tt);return n.forEach(function(s){var u=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,c],function(f){o=o.add(f.ns)})}),ae.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ne.isDocumentKey(s)||(s=s.child(""));var u=new ln(new Ne(s),0),c=new sn(tt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.ns)),!0)},u),ae.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;je(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ae.forEach(n.mutations,function(s){var u=new ln(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new ln(n,0),o=this.rs.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ae.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Jj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Pn(Ne.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ae.resolve(r?r.document.clone():Rn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=$r();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():Rn.newInvalidDocument(s))}),ae.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=$r(),s=new Ne(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),f=c.key,d=c.value,g=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||ml(n,g)&&(o=o.insert(g.key,g.clone()))}return ae.resolve(o)},e.prototype.fs=function(t,n){return ae.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Zj(this)},e.prototype.getSize=function(t){return ae.resolve(this.size)},e}(),Zj=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Pe(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ae.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(BN),e2=function(){function e(t){this.persistence=t,this.ds=new au(function(n){return hl(n)},Id),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ws=0,this._s=new M_,this.targetCount=0,this.ys=Ph.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ae.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ae.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ae.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ae.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ae.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Ph(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ae.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ae.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ae.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ae.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ae.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ae.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ae.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ae.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ae.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ae.resolve(r)},e.prototype.containsKey=function(t,n){return ae.resolve(this._s.containsKey(n))},e}(),t2=function(){function e(t,n){var r=this;this.gs={},this.Ne=new dr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new e2(this),this.Ut=new Rj,this.Ue=function(o,s){return new Jj(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new DN(n),this.Ke=new Xj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Qj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ue("MemoryPersistence","Starting transaction:",t);var s=new n2(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ae.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),n2=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Pe(t,e),t}(PN),r2=function(){function e(t){this.persistence=t,this.As=new M_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ae()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ae.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ae.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ae.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.vs,function(o){var s=Ne.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ae.or([function(){return ae.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),pn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(e,t){return"firestore_clients_"+e+"_"+t}function WT(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Wg(e,t){return"firestore_targets_"+e+"_"+t}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");var GT=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new re(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(Xt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Gg=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new re(o.error.code,o.error.message)),s?new e(t,o.state,r):(Xt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),zT=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Ad(),u=0;o&&u<r.activeTargetIds.length;++u)o=rN(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(Xt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),i2=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Xt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Hv=function(){function e(){this.activeTargetIds=Ad()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),zg=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Pn(tt),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=KT(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Hv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s,u,c,f,d,g,h,p=this;return X(this,function(v){switch(v.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(KT(this.persistenceKey,o)))&&(u=zT.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)h=g[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return p.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Wg(this.persistenceKey,t));if(r){var o=Gg.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Wg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ue("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ue("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Z(n,void 0,void 0,function(){var o,s,u,c,f,d;return X(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var p=dr.o;if(h!=null)try{var v=JSON.parse(h);je(typeof v=="number"),p=v}catch(_){Xt("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(r.newValue))!==dr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new GT(this.currentUser,t,n,r),s=WT(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=WT(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=Wg(this.persistenceKey,t),s=new Gg(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return zT.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return GT.Vs(new pn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Gg.Vs(o,n)},e.prototype.js=function(t){return i2.Vs(t)},e.prototype.ii=function(t){return Z(this,void 0,void 0,function(){return X(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ue("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),c=[],f=[];return u.forEach(function(d){s.has(d)||c.push(d)}),s.forEach(function(d){u.has(d)||f.push(d)}),this.syncEngine.hi(c,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Ad();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),YN=function(){function e(){this.li=new Hv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Hv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),o2=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),YT=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),s2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},a2=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),u2=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Pe(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,c){var f=new VV;f.listenOnce(MV.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Hg.NO_ERROR:var g=f.getResponseJson();ue("Connection","XHR received:",JSON.stringify(g)),u(g);break;case Hg.TIMEOUT:ue("Connection",'RPC "'+n+'" timed out'),c(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case Hg.HTTP_ERROR:var h=f.getStatus();if(ue("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var p=f.getResponseJson().error;if(p&&p.status&&p.message){var v=function(_){var E=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(E)>=0?E:H.UNKNOWN}(p.status);c(new re(v,p.message))}else c(new re(H.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new re(H.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ue("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=DV(),u=LV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new UV({})),this.ki(c.initMessageHeaders,r),$F()||KF()||WF()||GF()||zF()||HF()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ue("Connection","Creating WebChannel: "+f,c);var d=s.createWebChannel(f,c),g=!1,h=!1,p=new a2({Ei:function(_){h?ue("Connection","Not sending because WebChannel is closed:",_):(g||(ue("Connection","Opening WebChannel transport."),d.open(),g=!0),ue("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),v=function(_,E,S){_.listen(E,function(b){try{S(b)}catch(k){setTimeout(function(){throw k},0)}})};return v(d,Ff.EventType.OPEN,function(){h||ue("Connection","WebChannel transport opened.")}),v(d,Ff.EventType.CLOSE,function(){h||(h=!0,ue("Connection","WebChannel transport closed"),p.Vi())}),v(d,Ff.EventType.ERROR,function(_){h||(h=!0,Th("Connection","WebChannel transport errored:",_),p.Vi(new re(H.UNAVAILABLE,"The operation could not be completed")))}),v(d,Ff.EventType.MESSAGE,function(_){var E;if(!h){var S=_.data[0];je(!!S);var b=S,k=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(k){ue("Connection","WebChannel received error:",k);var x=k.status,C=function(D){var Y=zt[D];if(Y!==void 0)return _N(Y)}(x),U=k.message;C===void 0&&(C=H.INTERNAL,U="Unknown error status: "+x+" with message "+k.message),h=!0,p.Vi(new re(C,U)),d.close()}else ue("Connection","WebChannel received:",S),p.Si(S)}}),v(u,FV.STAT_EVENT,function(_){_.stat===hT.PROXY?ue("Connection","Detected buffering proxy"):_.stat===hT.NOPROXY&&ue("Connection","Detected no buffering proxy")}),setTimeout(function(){p.Pi()},0),p},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ue("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(c){return ue("RestConnection","Received: ",c),c},function(c){throw Th("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=s2[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof window<"u"?window:null}function ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e){return new pj(e,!0)}var F_=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ue("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),QN=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new F_(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Z(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Z(this,void 0,void 0,function(){return X(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Z(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Xt(n.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===H.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new re(H.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Z(t,void 0,void 0,function(){return X(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ue("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),c2=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,c}return Pe(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var c;if("targetChange"in u){u.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Ae()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],g=function(S,b){return S.I?(je(b===void 0||typeof b=="string"),rr.fromBase64String(b||"")):(je(b===void 0||b instanceof Uint8Array),rr.fromUint8Array(b||new Uint8Array))}(s,u.targetChange.resumeToken),h=(p=u.targetChange.cause)&&function(S){var b=S.code===void 0?H.UNKNOWN:_N(S.code);return new re(b,S.message||"")}(p);c=new wN(f,d,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,d=Si(s,f.document.name),g=Hn(f.document.updateTime);var p=new hr({mapValue:{fields:f.document.fields}}),v=(h=Rn.newFoundDocument(d,g,p),f.targetIds||[]),_=f.removedTargetIds||[];c=new rh(v,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,d=Si(s,f.document),g=f.readTime?Hn(f.readTime):Qe.min(),p=Rn.newNoDocument(d,g),h=f.removedTargetIds||[],c=new rh([],h,p.key,p);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,d=Si(s,f.document),g=f.removedTargetIds||[],c=new rh([],g,d,null);else{if(!("filter"in u))return Ae();u.filter;var E=u.filter;E.targetId,f=E.count||0,d=new ij(f),g=E.targetId,c=new bN(g,d)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return Qe.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?Qe.min():u.readTime?Hn(u.readTime):Qe.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=$c(this.R),r.addTarget=function(s,u){var c,f=u.target;return(c=kh(f)?{documents:AN(s,f)}:{query:kN(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=EN(s,u.resumeToken):u.snapshotVersion.compareTo(Qe.min())>0&&(c.readTime=jc(s,u.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,u){var c=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ae()}}(0,u.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=$c(this.R),r.removeTarget=n,this.cr(r)},t}(QN),l2=function(e){function t(n,r,o,s,u){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,c.gr=!1,c}return Pe(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(je(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(je(u!==void 0),s.map(function(c){return function(f,d){var g=f.updateTime?Hn(f.updateTime):Hn(d);return g.isEqual(Qe.min())&&(g=Hn(d)),new tj(g,f.transformResults||[])}(c,u)})):[]}(n.writeResults,n.commitTime),o=Hn(n.commitTime);return this.listener.Tr(o,r)}return je(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=$c(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Oh(r.R,s)})};this.cr(o)},t}(QN),f2=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Pe(t,e),t.prototype.br=function(){if(this.Rr)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===H.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new re(H.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===H.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new re(H.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),h2=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Xt(n),this.Vr=!1):ue("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),d2=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return Z(s,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return Co(this)?(ue("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return Z(this,void 0,void 0,function(){var d;return X(this,function(g){switch(g.label){case 0:return(d=me(f)).Or.add(4),[4,uu(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,_l(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new h2(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e){return Z(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:if(!Co(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function uu(e){return Z(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Cd(e,t){var n=me(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),j_(n)?V_(n):lu(n).er()&&U_(n,t))}function qc(e,t){var n=me(e),r=lu(n);n.$r.delete(t),r.er()&&JN(n,t),n.$r.size===0&&(r.er()?r.ir():Co(n)&&n.Br.set("Unknown"))}function U_(e,t){e.qr.U(t.targetId),lu(e).mr(t)}function JN(e,t){e.qr.U(t),lu(e).yr(t)}function V_(e){e.qr=new fj({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),lu(e).start(),e.Br.Sr()}function j_(e){return Co(e)&&!lu(e).tr()&&e.$r.size>0}function Co(e){return me(e).Or.size===0}function ZN(e){e.qr=void 0}function p2(e){return Z(this,void 0,void 0,function(){return X(this,function(t){return e.$r.forEach(function(n,r){U_(e,n)}),[2]})})}function m2(e,t){return Z(this,void 0,void 0,function(){return X(this,function(n){return ZN(e),j_(e)?(e.Br.Nr(t),V_(e)):e.Br.set("Unknown"),[2]})})}function g2(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s;return X(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof wN&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(c,f){return Z(this,void 0,void 0,function(){var d,g,h,p;return X(this,function(v){switch(v.label){case 0:d=f.cause,g=0,h=f.targetIds,v.label=1;case 1:return g<h.length?(p=h[g],c.$r.has(p)?[4,c.remoteSyncer.rejectListen(p,d)]:[3,3]):[3,5];case 2:v.sent(),c.$r.delete(p),c.qr.removeTarget(p),v.label=3;case 3:v.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Lh(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof rh?e.qr.X(t):t instanceof bN?e.qr.rt(t):e.qr.et(t),n.isEqual(Qe.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,WN(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(c,f){var d=c.qr.ut(f);return d.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var p=c.$r.get(h);p&&c.$r.set(h,p.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var h=c.$r.get(g);if(h){c.$r.set(g,h.withResumeToken(rr.EMPTY_BYTE_STRING,h.snapshotVersion)),JN(c,g);var p=new kd(h.target,g,1,h.sequenceNumber);U_(c,p)}}),c.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ue("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Lh(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Lh(e,t,n){return Z(this,void 0,void 0,function(){var r=this;return X(this,function(o){switch(o.label){case 0:if(!Ls(t))throw t;return e.Or.add(1),[4,uu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return WN(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return X(this,function(s){switch(s.label){case 0:return ue("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,_l(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function eC(e,t){return t().catch(function(n){return Lh(e,n,t)})}function cu(e){return Z(this,void 0,void 0,function(){var t,n,r,o,s;return X(this,function(u){switch(u.label){case 0:t=me(e),n=Eo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(c){return Co(c)&&c.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,zj(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.Fr.push(f);var d=Eo(c);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Lh(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return tC(t)&&nC(t),[2]}})})}function tC(e){return Co(e)&&!Eo(e).tr()&&e.Fr.length>0}function nC(e){Eo(e).start()}function v2(e){return Z(this,void 0,void 0,function(){return X(this,function(t){return Eo(e).Ar(),[2]})})}function y2(e){return Z(this,void 0,void 0,function(){var t,n,r,o;return X(this,function(s){for(t=Eo(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function _2(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=Cj.from(r,t,n),[4,eC(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,cu(e)];case 2:return s.sent(),[2]}})})}function b2(e,t){return Z(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return t&&Eo(e).pr?[4,function(r,o){return Z(this,void 0,void 0,function(){var s,u;return X(this,function(c){switch(c.label){case 0:return yN(u=o.code)&&u!==H.ABORTED?(s=r.Fr.shift(),Eo(r).sr(),[4,eC(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,cu(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tC(e)&&nC(e),[2]}})})}function Kv(e,t){return Z(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return n=me(e),t?(n.Or.delete(2),[4,_l(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,uu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function lu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=me(n);return s.br(),new c2(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:p2.bind(null,e),Ri:m2.bind(null,e),_r:g2.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),j_(e)?V_(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),ZN(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Eo(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=me(n);return s.br(),new l2(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:v2.bind(null,e),Ri:b2.bind(null,e),Ir:y2.bind(null,e),Tr:_2.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,cu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ue("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var w2=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function fu(e,t){if(Xt("AsyncQueue",t+": "+e),Ls(e))return new re(H.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rC=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ne.comparator(n.key,r.key)}:function(n,r){return Ne.comparator(n.key,r.key)},this.keyedMap=Bv(),this.sortedSet=new Pn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),XT=function(){function e(){this.Qr=new Pn(Ne.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Ae():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Mh=function(){function e(t,n,r,o,s,u,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,rC.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),E2=function(){this.Wr=void 0,this.listeners=[]},I2=function(){this.queries=new au(function(e){return uN(e)},pl),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,c,f;return X(this,function(d){switch(d.label){case 0:if(n=me(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new E2),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return c=d.sent(),f=fu(c,"Initialization of query '"+Vv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&q_(n),[2]}})})}function $_(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u;return X(this,function(c){return n=me(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function T2(e,t){for(var n=me(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],c=u.query,f=n.queries.get(c);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(u)&&(r=!0);f.Wr=u}}r&&q_(n)}function S2(e,t,n){var r=me(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function q_(e){e.Gr.forEach(function(t){t.next()})}var H_=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Mh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Mh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iC=function(e){this.key=e},oC=function(e){this.key=e},sC=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=St(),this.mutatedKeys=St(),this.lo=cN(t),this.fo=new rC(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new XT,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,d=th(this.query)&&s.size===this.query.limit?s.last():null,g=Ch(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(p,v){var _=s.get(p),E=ml(r.query,v)?v:null,S=!!_&&r.mutatedKeys.has(_.key),b=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),k=!1;_&&E?_.data.isEqual(E.data)?S!==b&&(o.track({type:3,doc:E}),k=!0):r.yo(_,E)||(o.track({type:2,doc:E}),k=!0,(d&&r.lo(E,d)>0||g&&r.lo(E,g)<0)&&(f=!0)):!_&&E?(o.track({type:0,doc:E}),k=!0):_&&!E&&(o.track({type:1,doc:_}),k=!0,(d||g)&&(f=!0)),k&&(E?(c=c.add(E),u=b?u.add(p):u.delete(p)):(c=c.delete(p),u=u.delete(p)))}),th(this.query)||Ch(this.query))for(;c.size>this.query.limit;){var h=th(this.query)?c.last():c.first();c=c.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:c,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(p,v){var _=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return _(p)-_(v)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,u.length!==0||d?{snapshot:new Mh(this.query,t.fo,s,u,t.mutatedKeys,f===0,d,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new XT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=St(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new oC(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new iC(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=St();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Mh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),A2=function(e,t,n){this.query=e,this.targetId=t,this.view=n},k2=function(e){this.key=e,this.bo=!1},N2=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new au(function(c){return uN(c)},pl),this.Vo=new Map,this.So=new Set,this.Do=new Pn(Ne.comparator),this.Co=new Map,this.No=new M_,this.xo={},this.ko=new Map,this.Fo=Ph.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function C2(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,c;return X(this,function(f){switch(f.label){case 0:return n=Y_(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,xh(n.localStore,hi(t))];case 2:return u=f.sent(),c=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,K_(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Cd(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function K_(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,u,c,f,d;return X(this,function(g){switch(g.label){case 0:return e.Oo=function(h,p,v){return function(_,E,S,b){return Z(this,void 0,void 0,function(){var k,x,C;return X(this,function(U){switch(U.label){case 0:return k=E.view._o(S),k.Nn?[4,Dh(_.localStore,E.query,!1).then(function(D){var Y=D.documents;return E.view._o(Y,k)})]:[3,2];case 1:k=U.sent(),U.label=2;case 2:return x=b&&b.targetChanges.get(E.targetId),C=E.view.applyChanges(k,_.isPrimaryClient,x),[2,(Wv(_,E.targetId,C.To),C.snapshot)]}})})}(e,h,p,v)},[4,Dh(e.localStore,t,!0)];case 1:return o=g.sent(),s=new sC(t,o.Bn),u=s._o(o.documents),c=C_.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,c),Wv(e,n,f.To),d=new A2(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function O2(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:return n=me(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!pl(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ga(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),qc(n.remoteStore,r.targetId),za(n,r.targetId)}).catch(Ms)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return za(n,r.targetId),[4,Ga(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function R2(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:r=X_(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,d){var g,h=me(f),p=tr.now(),v=d.reduce(function(_,E){return _.add(E.key)},St());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,v).next(function(E){g=E;for(var S=[],b=0,k=d;b<k.length;b++){var x=k[b],C=rj(x,g.get(x.key));C!=null&&S.push(new No(x.key,C,iN(C.value.mapValue),Nn.exists(!0)))}return h._n.addMutationBatch(_,p,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var h=f.xo[f.currentUser.toKey()];h||(h=new Pn(tt)),h=h.insert(d,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,Oo(r,o.changes)];case 3:return c.sent(),[4,cu(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),u=fu(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function aC(e,t){return Z(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:n=me(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var c=n.Co.get(u);c&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?je(c.bo):s.removedDocuments.size>0&&(je(c.bo),c.bo=!1))}),[4,Oo(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,Ms(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function QT(e,t,n){var r=me(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var c=u.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,u){var c=me(s);c.onlineState=u;var f=!1;c.queries.forEach(function(d,g){for(var h=0,p=g.listeners;h<p.length;h++)p[h].zr(u)&&(f=!0)}),f&&q_(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function P2(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,c,f;return X(this,function(d){switch(d.label){case 0:return(r=me(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Pn(Ne.comparator)).insert(s,Rn.newNoDocument(s,Qe.min())),c=St().add(s),f=new N_(Qe.min(),new Map,new sn(tt),u,c),[4,aC(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),z_(r),[3,4];case 2:return[4,Ga(r.localStore,t,!1).then(function(){return za(r,t,n)}).catch(Ms)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function x2(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:n=me(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Kj(n.localStore,t)];case 2:return o=s.sent(),G_(n,r,null),W_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Oo(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Ms(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function D2(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:r=me(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,c){var f=me(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,c).next(function(h){return je(h!==null),g=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(r.localStore,t)];case 2:return o=s.sent(),G_(r,t,n),W_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Oo(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,Ms(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function L2(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u;return X(this,function(c){switch(c.label){case 0:Co((n=me(e)).remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var d=me(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=c.sent(),u=fu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function W_(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function G_(e,t,n){var r=me(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function za(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||uC(e,u)})}function uC(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(qc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),z_(e))}function Wv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof iC?(e.No.addReference(s.key,t),M2(e,s)):s instanceof oC?(ue("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||uC(e,s.key)):Ae()}}function M2(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ue("SyncEngine","New document in limbo: "+n),e.So.add(r),z_(e))}function z_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ne(ht.fromString(t)),r=e.Fo.next();e.Co.set(r,new k2(n)),e.Do=e.Do.insert(n,r),Cd(e.remoteStore,new kd(hi(dl(n.path)),r,2,dr.o))}}function Oo(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:return r=me(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){u.push(r.Oo(d,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=qj.Pn(d.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,d){return Z(this,void 0,void 0,function(){var g,h,p,v,_,E,S,b,k;return X(this,function(x){switch(x.label){case 0:g=me(f),x.label=1;case 1:return x.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(C){return ae.forEach(d,function(U){return ae.forEach(U.bn,function(D){return g.persistence.referenceDelegate.addReference(C,U.targetId,D)}).next(function(){return ae.forEach(U.vn,function(D){return g.persistence.referenceDelegate.removeReference(C,U.targetId,D)})})})})];case 2:return x.sent(),[3,4];case 3:if(!Ls(h=x.sent()))throw h;return ue("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(p=0,v=d;p<v.length;p++)_=v[p],E=_.targetId,_.fromCache||(S=g.kn.get(E),b=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(b),g.kn=g.kn.insert(E,k));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function F2(e,t){return Z(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:return(n=me(e)).currentUser.isEqual(t)?[3,3]:(ue("SyncEngine","User change. New user:",t.toKey()),[4,KN(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(c){c.forEach(function(f){f.reject(new re(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Oo(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function U2(e,t){var n=me(e),r=n.Co.get(t);if(r&&r.bo)return St().add(r.key);var o=St(),s=n.Vo.get(t);if(!s)return o;for(var u=0,c=s;u<c.length;u++){var f=c[u],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function V2(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:return[4,Dh((n=me(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Wv(n,t.targetId,o.To),o)]}})})}function j2(e){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){return[2,zN((t=me(e)).localStore).then(function(r){return Oo(t,r)})]})})}function B2(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s;return X(this,function(u){switch(u.label){case 0:return[4,function(c,f){var d=me(c),g=me(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(p){return p?d.Mn.pn(h,p):ae.resolve(null)})})}((o=me(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,cu(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(G_(o,t,r||null),W_(o,t),function(c,f){me(me(c)._n).Gt(f)}(o.localStore,t)):Ae(),u.label=4;case 4:return[4,Oo(o,s)];case 5:return u.sent(),[3,7];case 6:ue("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function $2(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,c,f,d;return X(this,function(g){switch(g.label){case 0:return Y_(n=me(e)),X_(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,JT(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Kv(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)c=u[s],Cd(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,p){n.sharedClientState.isLocalQueryTarget(p)?f.push(p):d=d.then(function(){return za(n,p),Ga(n.localStore,p,!0)}),qc(n.remoteStore,p)}),[4,d]);case 4:return g.sent(),[4,JT(n,f)];case 5:return g.sent(),function(h){var p=me(h);p.Co.forEach(function(v,_){qc(p.remoteStore,_)}),p.No.ts(),p.Co=new Map,p.Do=new Pn(Ne.comparator)}(n),n.$o=!1,[4,Kv(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function JT(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p,v,_,E,S;return X(this,function(b){switch(b.label){case 0:r=me(e),o=[],s=[],u=0,c=t,b.label=1;case 1:return u<c.length?(f=c[u],d=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,xh(r.localStore,hi(g[0]))]:[3,7]):[3,13];case 2:d=b.sent(),h=0,p=g,b.label=3;case 3:return h<p.length?(v=p[h],_=r.Po.get(v),[4,V2(r,_)]):[3,6];case 4:(E=b.sent()).snapshot&&s.push(E.snapshot),b.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,GN(r.localStore,f)];case 8:return S=b.sent(),[4,xh(r.localStore,S)];case 9:return d=b.sent(),[4,K_(r,cC(S),f,!1)];case 10:b.sent(),b.label=11;case 11:o.push(d),b.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function cC(e){return sN(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function q2(e){var t=me(e);return me(me(t.localStore).persistence).fn()}function H2(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,u;return X(this,function(c){switch(c.label){case 0:return(o=me(e)).$o?(ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zN(o.localStore)];case 3:return s=c.sent(),u=N_.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Oo(o,s,u)];case 4:return c.sent(),[3,8];case 5:return[4,Ga(o.localStore,t,!0)];case 6:return c.sent(),za(o,t,r),[3,8];case 7:Ae(),c.label=8;case 8:return[2]}})})}function K2(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,c,f,d,g,h,p;return X(this,function(v){switch(v.label){case 0:if(!(r=Y_(e)).$o)return[3,10];o=0,s=t,v.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(ue("SyncEngine","Adding an already active target "+u),[3,5]):[4,GN(r.localStore,u)]):[3,6];case 2:return c=v.sent(),[4,xh(r.localStore,c)];case 3:return f=v.sent(),[4,K_(r,cC(c),f.targetId,!1)];case 4:v.sent(),Cd(r.remoteStore,f),v.label=5;case 5:return o++,[3,1];case 6:d=function(_){return X(this,function(E){switch(E.label){case 0:return r.Vo.has(_)?[4,Ga(r.localStore,_,!1).then(function(){qc(r.remoteStore,_),za(r,_)}).catch(Ms)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},g=0,h=n,v.label=7;case 7:return g<h.length?(p=h[g],[5,d(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Y_(e){var t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P2.bind(null,t),t.vo._r=T2.bind(null,t.eventManager),t.vo.Mo=S2.bind(null,t.eventManager),t}function X_(e){var t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=x2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=D2.bind(null,t),t}var lC=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Z(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return this.R=Nd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return HN(this.persistence,new qN,t.initialUser,this.R)},e.prototype.qo=function(t){return new t2(r2.bs,this.R)},e.prototype.Bo=function(t){return new YN},e.prototype.terminate=function(){return Z(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),fC=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Pe(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r=this;return X(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,Yj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,X_(this.Qo.syncEngine)];case 4:return o.sent(),[4,cu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return HN(this.persistence,new qN,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new Mj(r,n.asyncQueue)},t.prototype.qo=function(n){var r=L_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new $j(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,XN(),ih(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new YN},t}(lC),W2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Pe(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r,o=this;return X(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof zg?(this.sharedClientState.syncEngine={ui:B2.bind(null,r),ai:H2.bind(null,r),hi:K2.bind(null,r),fn:q2.bind(null,r),ci:j2.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return Z(o,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return[4,$2(this.Qo.syncEngine,u)];case 1:return c.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=XN();if(!zg.yt(r))throw new re(H.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=L_(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new zg(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(fC),Gv=function(){function e(){}return e.prototype.initialize=function(t,n){return Z(this,void 0,void 0,function(){var r=this;return X(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return QT(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=F2.bind(null,this.syncEngine),[4,Kv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new I2},e.prototype.createDatastore=function(t){var n,r=Nd(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new u2(n));return function(s,u,c){return new f2(s,u,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return QT(c.syncEngine,f,0)},u=YT.yt()?new YT:new o2,new d2(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,c,f,d){var g=new N2(r,o,s,u,c,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Z(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return n=me(t),ue("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,uu(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Od=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),G2=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return X(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new re(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return Z(this,void 0,void 0,function(){var c,f,d,g,h,p;return X(this,function(v){switch(v.label){case 0:return c=me(s),f=$c(c.R)+"/documents",d={documents:u.map(function(_){return Bc(c.R,_)})},[4,c.$i("BatchGetDocuments",f,d)];case 1:return g=v.sent(),h=new Map,g.forEach(function(_){var E=function(S,b){return"found"in b?function(k,x){je(!!x.found),x.found.name,x.found.updateTime;var C=Si(k,x.found.name),U=Hn(x.found.updateTime),D=new hr({mapValue:{fields:x.found.fields}});return Rn.newFoundDocument(C,U,D)}(S,b):"missing"in b?function(k,x){je(!!x.missing),je(!!x.readTime);var C=Si(k,x.missing),U=Hn(x.readTime);return Rn.newNoDocument(C,U)}(S,b):Ae()}(c.R,_);h.set(E.key.toString(),E)}),p=[],[2,(u.forEach(function(_){var E=h.get(_.toString());je(!!E),p.push(E)}),p)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new yl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Z(this,void 0,void 0,function(){var t,n=this;return X(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ne.fromPath(s);n.mutations.push(new k_(u,n.precondition(u)))}),[4,function(o,s){return Z(this,void 0,void 0,function(){var u,c,f;return X(this,function(d){switch(d.label){case 0:return u=me(o),c=$c(u.R)+"/documents",f={writes:s.map(function(g){return Oh(u.R,g)})},[4,u.Ni("Commit",c,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Ae();n=Qe.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new re(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Nn.updateTime(n):Nn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Qe.min()))throw new re(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nn.updateTime(n)}return Nn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),z2=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new F_(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Z(t,void 0,void 0,function(){var n,r,o=this;return X(this,function(s){return n=new G2(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(c){o.ic(c)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ds(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!yN(n)}return!1},e}(),Y2=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=pn.UNAUTHENTICATED,this.clientId=Jk.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Z(o,void 0,void 0,function(){return X(this,function(u){switch(u.label){case 0:return ue("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Z(this,void 0,void 0,function(){return X(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Z(t,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=fu(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(e,t){return Z(this,void 0,void 0,function(){var n,r,o=this;return X(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return Z(o,void 0,void 0,function(){return X(this,function(c){switch(c.label){case 0:return r.isEqual(u)?[3,2]:[4,KN(t.localStore,u)];case 1:c.sent(),r=u,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function dC(e,t){return Z(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Q_(e)];case 1:return n=o.sent(),ue("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,c){return Z(this,void 0,void 0,function(){var f,d;return X(this,function(g){switch(g.label){case 0:return(f=me(u)).asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials"),d=Co(f),f.Or.add(3),[4,uu(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return g.sent(),f.Or.delete(3),[4,_l(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Q_(e){return Z(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ue("FirestoreClient","Using default OfflineComponentProvider"),[4,hC(e,new lC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Rd(e){return Z(this,void 0,void 0,function(){return X(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ue("FirestoreClient","Using default OnlineComponentProvider"),[4,dC(e,new Gv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function ZT(e){return Q_(e).then(function(t){return t.persistence})}function pC(e){return Q_(e).then(function(t){return t.localStore})}function eS(e){return Rd(e).then(function(t){return t.remoteStore})}function mC(e){return Rd(e).then(function(t){return t.syncEngine})}function Ya(e){return Z(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:return[4,Rd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=C2.bind(null,t.syncEngine),n.onUnlisten=O2.bind(null,t.syncEngine),n)]}})})}function tS(e,t,n){var r=this;n===void 0&&(n={});var o=new ir;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new Od({next:function(_){f.enqueueAndForget(function(){return $_(c,v)});var E=_.docs.has(d);!E&&_.fromCache?h.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&g&&g.source==="server"?h.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new H_(dl(d.path),p,{includeMetadataChanges:!0,so:!0});return B_(c,v)},[4,Ya(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function nS(e,t,n){var r=this;n===void 0&&(n={});var o=new ir;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return s=function(c,f,d,g,h){var p=new Od({next:function(_){f.enqueueAndForget(function(){return $_(c,v)}),_.fromCache&&g.source==="server"?h.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new H_(d,p,{includeMetadataChanges:!0,so:!0});return B_(c,v)},[4,Ya(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var X2=function(e,t,n,r,o,s,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=c},Fh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),rS=new Map,gC=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},iS=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(pn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Q2=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),J2=function(){function e(t){var n=this;this.currentUser=pn.UNAUTHENTICATED,this.oc=new ir,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ue("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ue("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ue("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(je(typeof o.accessToken=="string"),new gC(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return X(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string"),new pn(t)},e}(),Z2=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=pn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),eB=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new Z2(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(pn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e,t,n){if(!n)throw new re(H.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Z_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new re(H.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function vC(e,t,n,r){if(t===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function oS(e){if(!Ne.isDocumentKey(e))throw new re(H.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function sS(e){if(Ne.isDocumentKey(e))throw new re(H.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Pd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ae()}function dt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pd(e);throw new re(H.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function aS(e,t){if(t<=0)throw new re(H.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uS=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,vC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Hc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uS({}),this._settingsFrozen=!1,t instanceof Fh?(this._databaseId=t,this._credentials=new iS):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(r.options.projectId)}(t),this._credentials=new J2(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uS(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new iS;switch(n.type){case"gapi":var r=n.client;return je(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new eB(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new re(H.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=rS.get(t))&&(ue("ComponentProvider","Removing Datastore"),rS.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ut=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),gr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),yo=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,dl(o))||this)._path=o,s.type="collection",s}return Pe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ut(this.firestore,null,new Ne(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=Et(e),J_("collection","path",t),e instanceof Hc)return sS(n=ht.fromString.apply(ht,xt([t],r))),new yo(e,null,n);if(!(e instanceof Ut||e instanceof yo))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sS(n=ht.fromString.apply(ht,xt([e.path],r)).child(ht.fromString(t))),new yo(e.firestore,null,n)}function oh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=Et(e),arguments.length===1&&(t=Jk.u()),J_("doc","path",t),e instanceof Hc)return oS(n=ht.fromString.apply(ht,xt([t],r))),new Ut(e,null,new Ne(n));if(!(e instanceof Ut||e instanceof yo))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return oS(n=e._path.child(ht.fromString.apply(ht,xt([t],r)))),new Ut(e.firestore,e instanceof yo?e.converter:null,new Ne(n))}function _C(e,t){return e=Et(e),t=Et(t),(e instanceof Ut||e instanceof yo)&&(t instanceof Ut||t instanceof yo)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bC(e,t){return e=Et(e),t=Et(t),e instanceof gr&&t instanceof gr&&e.firestore===t.firestore&&pl(e._query,t._query)&&e.converter===t.converter}var tB=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new F_(this,"async_queue_retry"),this.Ic=function(){var r=ih();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=ih();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new ir;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Z(this,void 0,void 0,function(){var t,n=this;return X(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ls(t=r.sent()))throw t;return ue("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Xt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=w2.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Ae()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,c){return u.targetTimeMs-c.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Xa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var nB=-1,on=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new tB,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Pe(t,e),t.prototype._terminate=function(){return this._firestoreClient||wC(this),this._firestoreClient.terminate()},t}(Hc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(e){return e._firestoreClient||wC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wC(e){var t,n=e._freezeSettings(),r=function(o,s,u,c){return new X2(o,s,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Y2(e._credentials,e._queue,r)}function cS(e,t,n){var r=this,o=new ir;return e.asyncQueue.enqueue(function(){return Z(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,hC(e,n)];case 1:return u.sent(),[4,dC(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===H.FAILED_PRECONDITION||c.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function lS(e){if(e._initialized||e._terminated)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Os=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(rr.fromBase64String(t))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(rr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Fs=function(e){this._methodName=e},xd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return tt(this._lat,t._lat)||tt(this._long,t._long)},e}(),rB=/^__.*__$/,iB=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new No(t,this.data,this.fieldMask,n,this.fieldTransforms):new vl(t,this.data,n,this.fieldTransforms)},e}(),EC=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new No(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}var TC=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Uh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(IC(this.Nc)&&rB.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),oB=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Nd(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new TC({Nc:t,methodName:n,qc:r,path:Hr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Us(e){var t=e._freezeSettings(),n=Nd(e._databaseId);return new oB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Dd(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);rb("Data must be an object, but it was:",u,r);var c,f,d=kC(r,u);if(s.merge)c=new Ma(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,p=s.mergeFields;h<p.length;h++){var v=zv(t,p[h],n);if(!u.contains(v))throw new re(H.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");CC(g,v)||g.push(v)}c=new Ma(g),f=u.fieldTransforms.filter(function(_){return c.covers(_.field)})}else c=null,f=u.fieldTransforms;return new iB(new hr(d),c,f)}var eb=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Fs);function SC(e,t,n){return new TC({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var sB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype._toFieldTransform=function(n){return new gl(n.path,new ja)},t.prototype.isEqual=function(n){return n instanceof t},t}(Fs),aB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Pe(t,e),t.prototype._toFieldTransform=function(n){var r=SC(this,n,!0),o=this.Kc.map(function(u){return Vs(u,r)}),s=new Ns(o);return new gl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fs),uB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Pe(t,e),t.prototype._toFieldTransform=function(n){var r=SC(this,n,!0),o=this.Kc.map(function(u){return Vs(u,r)}),s=new Cs(o);return new gl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Fs),cB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Pe(t,e),t.prototype._toFieldTransform=function(n){var r=new Ba(n.R,hN(n.R,this.Qc));return new gl(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Fs);function tb(e,t,n,r){var o=e.Uc(1,t,n);rb("Data must be an object, but it was:",o,r);var s=[],u=hr.empty();xs(r,function(f,d){var g=ib(t,f,n);d=Et(d);var h=o.Oc(g);if(d instanceof eb)s.push(g);else{var p=Vs(d,h);p!=null&&(s.push(g),u.set(g,p))}});var c=new Ma(s);return new EC(u,c,o.fieldTransforms)}function nb(e,t,n,r,o,s){var u=e.Uc(1,t,n),c=[zv(t,r,n)],f=[o];if(s.length%2!=0)throw new re(H.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)c.push(zv(t,s[d])),f.push(s[d+1]);for(var g=[],h=hr.empty(),p=c.length-1;p>=0;--p)if(!CC(g,c[p])){var v=c[p],_=f[p];_=Et(_);var E=u.Oc(v);if(_ instanceof eb)g.push(v);else{var S=Vs(_,E);S!=null&&(g.push(v),h.set(v,S))}}var b=new Ma(g);return new EC(h,b,u.fieldTransforms)}function AC(e,t,n,r){return r===void 0&&(r=!1),Vs(n,e.Uc(r?4:3,t))}function Vs(e,t){if(NC(e=Et(e)))return rb("Unsupported field value:",t,e),kC(e,t);if(e instanceof Fs)return function(n,r){if(!IC(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,c=n;u<c.length;u++){var f=Vs(c[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=Et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hN(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=tr.fromDate(n);return{timestampValue:jc(r.R,o)}}if(n instanceof tr)return o=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:jc(r.R,o)};if(n instanceof xd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Os)return{bytesValue:EN(r.R,n._byteString)};if(n instanceof Ut){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:O_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Pd(n))}(e,t)}function kC(e,t){var n={};return eN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(e,function(r,o){var s=Vs(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof tr||e instanceof xd||e instanceof Os||e instanceof Ut||e instanceof Fs)}function rb(e,t,n){if(!NC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Pd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function zv(e,t,n){if((t=Et(t))instanceof si)return t._internalPath;if(typeof t=="string")return ib(e,t);throw Uh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var lB=new RegExp("[~\\*/\\[\\]]");function ib(e,t,n){if(t.search(lB)>=0)throw Uh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(si.bind.apply(si,xt([void 0],t.split("."))))()._internalPath}catch{throw Uh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Uh(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new re(H.INVALID_ARGUMENT,(c+=". ")+e+f)}function CC(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ut(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new fB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Vh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),fB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Kc);function Vh(e,t){return typeof t=="string"?ib(e,t):t instanceof si?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ki=function(e){function t(n,r,o,s,u,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Pe(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Vh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(Kc),yc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ki),uo=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ds(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new yc(r._firestore,r._userDataWriter,o.key,o,new ds(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new yc(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ds(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new yc(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ds(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(g=(u=u.add(c.doc)).indexOf(c.doc.key)),{type:hB(c.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function hB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}function OC(e,t){return e instanceof ki&&t instanceof ki?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof uo&&t instanceof uo&&e._firestore===t._firestore&&bC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(e){if(Ch(e)&&e.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bl=function(){};function Yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var dB=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Pe(t,e),t.prototype._apply=function(n){var r=Us(n.firestore),o=function(s,u,c,f,d,g,h){var p;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new re(H.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){mS(h,g);for(var v=[],_=0,E=h;_<E.length;_++){var S=E[_];v.push(pS(f,s,S))}p={arrayValue:{values:v}}}else p=pS(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||mS(h,g),p=AC(c,"where",h,g==="in"||g==="not-in");var b=pr.create(d,g,p);return function(k,x){if(x.g()){var C=S_(k);if(C!==null&&!C.isEqual(x.field))throw new re(H.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+C.toString()+"' and '"+x.field.toString()+"'");var U=T_(k);U!==null&&xC(k,x.field,U)}var D=function(Y,j){for(var q=0,P=Y.filters;q<P.length;q++){var Ie=P[q];if(j.indexOf(Ie.op)>=0)return Ie.op}return null}(k,function(Y){switch(Y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(x.op));if(D!==null)throw D===x.op?new re(H.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+x.op.toString()+"' filter."):new re(H.INVALID_ARGUMENT,"Invalid query. You cannot use '"+x.op.toString()+"' filters with '"+D.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new gr(n.firestore,n.converter,function(s,u){var c=s.filters.concat([u]);return new xi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(bl),pB=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Pe(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Aa(s,u);return function(f,d){if(T_(f)===null){var g=S_(f);g!==null&&xC(f,g,d.field)}}(o,c),c}(n._query,this.jc,this.zc);return new gr(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new xi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(bl),fS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Pe(t,e),t.prototype._apply=function(n){return new gr(n.firestore,n.converter,aN(n._query,this.Hc,this.Jc))},t}(bl),hS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Pe(t,e),t.prototype._apply=function(n){var r=PC(n,this.type,this.Yc,this.Xc);return new gr(n.firestore,n.converter,function(o,s){return new xi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(bl),dS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Pe(t,e),t.prototype._apply=function(n){var r=PC(n,this.type,this.Yc,this.Xc);return new gr(n.firestore,n.converter,function(o,s){return new xi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(bl);function PC(e,t,n,r){if(n[0]=Et(n[0]),n[0]instanceof Kc)return function(s,u,c,f,d){if(!f)throw new re(H.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var g=[],h=0,p=Va(s);h<p.length;h++){var v=p[h];if(v.field.isKeyField())g.push(Ah(u,f.key));else{var _=f.data.field(v.field);if(w_(_))throw new re(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var E=v.field.canonicalString();throw new re(H.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Vc(g,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Us(e.firestore);return function(s,u,c,f,d,g){var h=s.explicitOrderBy;if(d.length>h.length)throw new re(H.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var p=[],v=0;v<d.length;v++){var _=d[v];if(h[v].field.isKeyField()){if(typeof _!="string")throw new re(H.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!A_(s)&&_.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var E=s.path.child(ht.fromString(_));if(!Ne.isDocumentKey(E))throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var S=new Ne(E);p.push(Ah(u,S))}else{var b=AC(c,f,_);p.push(b)}}return new Vc(p,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function pS(e,t,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!A_(t)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ht.fromString(n));if(!Ne.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ah(e,new Ne(r))}if(n instanceof Ut)return Ah(e,n._key);throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pd(n)+".")}function mS(e,t){if(!Array.isArray(e)||e.length===0)throw new re(H.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new re(H.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function xC(e,t,n){if(!n.isEqual(t))throw new re(H.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ob=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ae()}},e.prototype.convertObject=function(t,n){var r=this,o={};return xs(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new xd(Yt(t.latitude),Yt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=nN(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=wo(t);return new tr(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=ht.fromString(t);je(ON(r));var o=new Fh(r.get(1),r.get(3)),s=new Ne(r.popFirst(5));return o.isEqual(n)||Xt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mB=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Pe(t,e),t.prototype.convertBytes=function(n){return new Os(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ut(this.firestore,null,r)},t}(ob),gB=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Us(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=co(t,this._firestore),s=Ld(o.converter,n,r),u=Dd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,Nn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,c=co(t,this._firestore);return u=typeof(n=Et(n))=="string"||n instanceof si?nb(this._dataReader,"WriteBatch.update",c._key,n,r,o):tb(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,Nn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=co(t,this._firestore);return this._mutations=this._mutations.concat(new yl(n._key,Nn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new re(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(e,t){if((e=Et(e)).firestore!==t)throw new re(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Pe(t,e),t.prototype.convertBytes=function(n){return new Os(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ut(this.firestore,null,r)},t}(ob);function gS(e,t,n){e=dt(e,Ut);var r=dt(e.firestore,on),o=Ld(e.converter,t,n);return wl(r,[Dd(Us(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Nn.none())])}function vS(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=dt(e,Ut);var s=dt(e.firestore,on),u=Us(s);return wl(s,[(typeof(t=Et(t))=="string"||t instanceof si?nb(u,"updateDoc",e._key,t,n,r):tb(u,"updateDoc",e._key,t)).toMutation(e._key,Nn.exists(!0))])}function DC(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=Et(e);var u={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||Xa(o[c])||(u=o[c],c++);var f,d,g,h={includeMetadataChanges:u.includeMetadataChanges};if(Xa(o[c])){var p=o[c];o[c]=(t=p.next)===null||t===void 0?void 0:t.bind(p),o[c+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),o[c+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}if(e instanceof Ut)d=dt(e.firestore,on),g=dl(e._key.path),f={next:function(E){o[c]&&o[c](Yv(d,e,E))},error:o[c+1],complete:o[c+2]};else{var v=dt(e,gr);d=dt(v.firestore,on),g=v._query;var _=new _s(d);f={next:function(E){o[c]&&o[c](new uo(d,_,v,E))},error:o[c+1],complete:o[c+2]},RC(e._query)}return function(E,S,b,k){var x=this,C=new Od(k),U=new H_(S,C,b);return E.asyncQueue.enqueueAndForget(function(){return Z(x,void 0,void 0,function(){var D;return X(this,function(Y){switch(Y.label){case 0:return D=B_,[4,Ya(E)];case 1:return[2,D.apply(void 0,[Y.sent(),U])]}})})}),function(){C.Wo(),E.asyncQueue.enqueueAndForget(function(){return Z(x,void 0,void 0,function(){var D;return X(this,function(Y){switch(Y.label){case 0:return D=$_,[4,Ya(E)];case 1:return[2,D.apply(void 0,[Y.sent(),U])]}})})})}}(Sn(d),g,h,f)}function wl(e,t){return function(n,r){var o=this,s=new ir;return n.asyncQueue.enqueueAndForget(function(){return Z(o,void 0,void 0,function(){var u;return X(this,function(c){switch(c.label){case 0:return u=R2,[4,mC(n)];case 1:return[2,u.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Sn(e),t)}function Yv(e,t,n){var r=n.docs.get(t._key),o=new _s(e);return new ki(e,o,t._key,r,new ds(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vB=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Pe(t,e),t.prototype.get=function(n){var r=this,o=co(n,this._firestore),s=new _s(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ki(r._firestore,s,o._key,u._document,new ds(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Us(t)}return e.prototype.get=function(t){var n=this,r=co(t,this._firestore),o=new mB(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Ae();var u=s[0];if(u.isFoundDocument())return new Kc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Kc(n._firestore,o,r._key,null,r.converter);throw Ae()})},e.prototype.set=function(t,n,r){var o=co(t,this._firestore),s=Ld(o.converter,n,r),u=Dd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,c=co(t,this._firestore);return u=typeof(n=Et(n))=="string"||n instanceof si?nb(this._dataReader,"Transaction.update",c._key,n,r,o):tb(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this},e.prototype.delete=function(t){var n=co(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof Uint8Array>"u")throw new re(H.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _S(){if(typeof atob>"u")throw new re(H.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var LC=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return _S(),new e(Os.fromBase64String(t))},e.fromUint8Array=function(t){return yS(),new e(Os.fromUint8Array(t))},e.prototype.toBase64=function(){return _S(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yS(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),yB=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){lS(r=dt(r,on));var s=Sn(r),u=r._freezeSettings(),c=new Gv;return cS(s,c,new fC(c,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){lS(n=dt(n,on));var r=Sn(n),o=n._freezeSettings(),s=new Gv;return cS(r,s,new W2(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new re(H.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new ir;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Z(r,void 0,void 0,function(){var s;return X(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return Z(this,void 0,void 0,function(){var f;return X(this,function(d){switch(d.label){case 0:return Ha.yt()?(f=c+"main",[4,Ha.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(L_(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),MC=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Fh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Th("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,c){var f;c===void 0&&(c={});var d=(o=dt(o,Hc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Th("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),c.mockUserToken){var g,h;if(typeof c.mockUserToken=="string")g=c.mockUserToken,h=pn.MOCK_USER;else{g=q1(c.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var p=c.mockUserToken.sub||c.mockUserToken.user_id;if(!p)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new pn(p)}o._credentials=new Q2(new gC(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return[4,ZT(t)];case 1:return r=s.sent(),[4,eS(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var c=me(u);return c.Or.delete(0),_l(c)}(o))]}})})})}(Sn(dt(this._delegate,on)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return X(this,function(s){switch(s.label){case 0:return[4,ZT(t)];case 1:return r=s.sent(),[4,eS(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return Z(this,void 0,void 0,function(){var c;return X(this,function(f){switch(f.label){case 0:return(c=me(u)).Or.add(0),[4,uu(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(Sn(dt(this._delegate,on)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&vC("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new ir;return t.asyncQueue.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){var o;return X(this,function(s){switch(s.label){case 0:return o=L2,[4,mC(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Sn(dt(this._delegate,on)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,c=new Od(s);return o.asyncQueue.enqueueAndForget(function(){return Z(u,void 0,void 0,function(){var f;return X(this,function(d){switch(d.label){case 0:return f=function(g,h){me(g).Gr.add(h),h.next()},[4,Ya(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return Z(u,void 0,void 0,function(){var f;return X(this,function(d){switch(d.label){case 0:return f=function(g,h){me(g).Gr.delete(h)},[4,Ya(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})})}}(Sn(n=dt(n,on)),Xa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new jh(this,yC(this._delegate,t))}catch(n){throw Un(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new bs(this,oh(this._delegate,t))}catch(n){throw Un(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ud(this,function(n,r){if(n=dt(n,Hc),J_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new re(H.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new gr(n,null,function(o){return new xi(ht.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Un(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var c=this,f=new ir;return s.asyncQueue.enqueueAndForget(function(){return Z(c,void 0,void 0,function(){var d;return X(this,function(g){switch(g.label){case 0:return[4,function(h){return Rd(h).then(function(p){return p.datastore})}(s)];case 1:return d=g.sent(),new z2(s.asyncQueue,d,u,f).run(),[2]}})})}),f.promise}(Sn(r),function(s){return o(new vB(r,s))})}(this._delegate,function(r){return t(new FC(n,r))})},e.prototype.batch=function(){var t=this;return Sn(this._delegate),new UC(new gB(this._delegate,function(n){return wl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new re(H.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new re(H.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Md=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Pe(t,e),t.prototype.convertBytes=function(n){return new LC(new Os(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return bs.eu(r,this.firestore,null)},t}(ob);function _B(e){var t;t=e,Br.setLogLevel(t)}var FC=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Md(t)}return e.prototype.get=function(t){var n=this,r=ps(t);return this._delegate.get(r).then(function(o){return new Wc(n._firestore,new ki(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=ps(t);return r?(Z_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=ps(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,xt([c,n,r],s)),this},e.prototype.delete=function(t){var n=ps(t);return this._delegate.delete(n),this},e}(),UC=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=ps(t);return r?(Z_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var c=ps(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,xt([c,n,r],s)),this},e.prototype.delete=function(t){var n=ps(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Fd=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new yc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gc(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Md(t),n),o.set(n,s)),s},e}();Fd.su=new WeakMap;var bs=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Md(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new re(H.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ut(n._delegate,r,new Ne(t)))},e.eu=function(t,n,r){return new e(n,new Ut(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new jh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new jh(this.firestore,yC(this._delegate,t))}catch(n){throw Un(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Et(t))instanceof Ut&&_C(this._delegate,t)},e.prototype.set=function(t,n){n=Z_("DocumentReference.set",n);try{return n?gS(this._delegate,t,n):gS(this._delegate,t)}catch(r){throw Un(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?vS(this._delegate,t):vS.apply(void 0,xt([this._delegate,t,n],r))}catch(s){throw Un(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wl(dt((t=this._delegate).firestore,on),[new yl(t._key,Nn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=VC(n),s=jC(n,function(u){return new Wc(t.firestore,new ki(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return DC(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=dt(r,Ut);var o=dt(r.firestore,on),s=Sn(o),u=new _s(o);return function(c,f){var d=this,g=new ir;return c.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return X(this,function(p){switch(p.label){case 0:return h=function(v,_,E){return Z(this,void 0,void 0,function(){var S,b;return X(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(x,C){var U=me(x);return U.persistence.runTransaction("read document","readonly",function(D){return U.Mn.mn(D,C)})}(v,_)];case 1:return(b=k.sent()).isFoundDocument()?E.resolve(b):b.isNoDocument()?E.resolve(null):E.reject(new re(H.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=k.sent(),b=fu(S,"Failed to get document '"+_+" from cache"),E.reject(b),[3,3];case 3:return[2]}})})},[4,pC(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(c){return new ki(o,u,r._key,c,new ds(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=dt(r,Ut);var o=dt(r.firestore,on);return tS(Sn(o),r._key,{source:"server"}).then(function(s){return Yv(o,r,s)})}(this._delegate):function(r){r=dt(r,Ut);var o=dt(r.firestore,on);return tS(Sn(o),r._key).then(function(s){return Yv(o,r,s)})}(this._delegate)).then(function(r){return new Wc(n.firestore,new ki(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Un(e,t,n){return e.message=e.message.replace(t,n),e}function VC(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Xa(r))return r}return{}}function jC(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Xa(e[0])?e[0]:Xa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Wc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new bs(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return OC(this._delegate,t._delegate)},e}(),Gc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Pe(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Wc),Ud=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Md(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Yi(this._delegate,function(o,s,u){var c=s,f=Vh("where",o);return new dB(f,c,u)}(t,n,r)))}catch(o){throw Un(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Yi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=Vh("orderBy",r);return new pB(u,s)}(t,n)))}catch(r){throw Un(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Yi(this._delegate,function(n){return aS("limit",n),new fS("limit",n,"F")}(t)))}catch(n){throw Un(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Yi(this._delegate,function(n){return aS("limitToLast",n),new fS("limitToLast",n,"L")}(t)))}catch(n){throw Un(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new hS("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Un(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new hS("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Un(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new dS("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Un(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new dS("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Un(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return bC(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=dt(r,gr);var o=dt(r.firestore,on),s=Sn(o),u=new _s(o);return function(c,f){var d=this,g=new ir;return c.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return X(this,function(p){switch(p.label){case 0:return h=function(v,_,E){return Z(this,void 0,void 0,function(){var S,b,k,x,C;return X(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,Dh(v,_,!0)];case 1:return C=U.sent(),S=new sC(_,C.Bn),b=S._o(C.documents),k=S.applyChanges(b,!1),E.resolve(k.snapshot),[3,3];case 2:return x=U.sent(),C=fu(x,"Failed to execute query '"+_+" against cache"),E.reject(C),[3,3];case 3:return[2]}})})},[4,pC(c)];case 1:return[2,h.apply(void 0,[p.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(c){return new uo(o,u,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=dt(r,gr);var o=dt(r.firestore,on),s=Sn(o),u=new _s(o);return nS(s,r._query,{source:"server"}).then(function(c){return new uo(o,u,r,c)})}(this._delegate):function(r){r=dt(r,gr);var o=dt(r.firestore,on),s=Sn(o),u=new _s(o);return RC(r._query),nS(s,r._query).then(function(c){return new uo(o,u,r,c)})}(this._delegate)).then(function(r){return new Xv(n.firestore,new uo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=VC(n),s=jC(n,function(u){return new Xv(t.firestore,new uo(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return DC(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),bB=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Gc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Xv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ud(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Gc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new bB(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Gc(r._firestore,o))})},e.prototype.isEqual=function(t){return OC(this._delegate,t._delegate)},e}(),jh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Pe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new bs(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new bs(this.firestore,n===void 0?oh(this._delegate):oh(this._delegate,n))}catch(r){throw Un(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=dt(o.firestore,on),c=oh(o),f=Ld(o.converter,s);return wl(u,[Dd(Us(o.firestore),"addDoc",c._key,f,o.converter!==null,{}).toMutation(c._key,Nn.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new bs(r.firestore,o)})},t.prototype.isEqual=function(n){return _C(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Fd.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Ud);function ps(e){return dt(e,Ut)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wB=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(si.bind.apply(si,xt([void 0],t)))}return e.documentId=function(){return new e(Hr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Et(t))instanceof si&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),EB=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new sB("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new eb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new aB("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new uB("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new cB("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),IB={Firestore:MC,GeoPoint:xd,Timestamp:tr,Blob:LC,Transaction:FC,WriteBatch:UC,DocumentReference:bs,DocumentSnapshot:Wc,Query:Ud,QueryDocumentSnapshot:Gc,QuerySnapshot:Xv,CollectionReference:jh,FieldPath:wB,FieldValue:EB,setLogLevel:_B,CACHE_SIZE_UNLIMITED:nB};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(e){(function(t,n){t.INTERNAL.registerComponent(new nl("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},IB)))})(e,function(t,n){return new MC(t,new on(t,n),new yB)}),e.registerVersion("@firebase/firestore","2.4.1")}TB(Me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BC="firebasestorage.googleapis.com",$C="storageBucket",SB=2*60*1e3,AB=10*60*1e3,Zt=function(e){Pe(t,e);function t(n,r){var o=e.call(this,Yg(n),"Firebase Storage: "+r+" ("+Yg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Yg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(K1);function Yg(e){return"storage/"+e}function sb(){var e="An unknown error occurred, please check the error payload for server response.";return new Zt("unknown",e)}function kB(e){return new Zt("object-not-found","Object '"+e+"' does not exist.")}function NB(e){return new Zt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CB(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zt("unauthenticated",e)}function OB(){return new Zt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function RB(e){return new Zt("unauthorized","User does not have permission to access '"+e+"'.")}function PB(){return new Zt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function qC(){return new Zt("canceled","User canceled the upload/download.")}function xB(e){return new Zt("invalid-url","Invalid URL '"+e+"'.")}function DB(e){return new Zt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function LB(){return new Zt("no-default-bucket","No default bucket found. Did you set the '"+$C+"' property when initializing the app?")}function HC(){return new Zt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function MB(){return new Zt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function FB(){return new Zt("no-download-url","The given file does not have any download URLs.")}function ka(e){return new Zt("invalid-argument",e)}function KC(){return new Zt("app-deleted","The Firebase app was deleted.")}function WC(e){return new Zt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _c(e,t){return new Zt("invalid-format","String does not match format '"+e+"': "+t)}function $f(e){throw new Zt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Xg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function GC(e,t){switch(e){case Sr.RAW:return new Xg(zC(t));case Sr.BASE64:case Sr.BASE64URL:return new Xg(YC(e,t));case Sr.DATA_URL:return new Xg(jB(t),BB(t))}throw sb()}function zC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function VB(e){var t;try{t=decodeURIComponent(e)}catch{throw _c(Sr.DATA_URL,"Malformed data URL.")}return zC(t)}function YC(e,t){switch(e){case Sr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw _c(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case Sr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw _c(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=UB(t)}catch{throw _c(e,"Invalid character found")}for(var f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);return f}var XC=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw _c(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=$B(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function jB(e){var t=new XC(e);return t.base64?YC(Sr.BASE64,t.rest):VB(t.rest)}function BB(e){var t=new XC(e);return t.contentType}function $B(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qB={STATE_CHANGED:"state_changed"},Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qg(e){switch(e){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ws||(ws={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HB=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ws.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ws.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ws.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw $f("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw $f("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw $f("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw $f("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function KB(){return new HB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WB=function(){function e(){}return e.prototype.createConnection=function(){return KB()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw DB(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}var u="(/(.*))?$",c=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function d(q){q.path_=decodeURIComponent(q.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+p,"i"),_={bucket:1,path:3},E=n===BC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp("^https?://"+E+"/"+o+"/"+S,"i"),k={bucket:1,path:2},x=[{regex:c,indices:f,postModify:s},{regex:v,indices:_,postModify:d},{regex:b,indices:k,postModify:d}],C=0;C<x.length;C++){var U=x[C],D=U.regex.exec(t);if(D){var Y=D[U.indices.bucket],j=D[U.indices.path];j||(j=""),r=new e(Y,j),U.postModify(r);break}}if(r==null)throw xB(t);return r},e}(),GB=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(e,t,n){var r=1,o=null,s=!1,u=0;function c(){return u===2}var f=!1;function d(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,c())},_)}function h(_){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,xt([null,_],E));return}var b=c()||s;if(b){d.call.apply(d,xt([null,_],E));return}r<64&&(r*=2);var k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,g(k)}}var p=!1;function v(_){p||(p=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,v(!0)},n),v}function YB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(e){return e!==void 0}function QB(e){return typeof e=="function"}function JB(e){return typeof e=="object"&&!Array.isArray(e)}function Vd(e){return typeof e=="string"||e instanceof String}function bS(e){return ab()&&e instanceof Blob}function ab(){return typeof Blob<"u"}function Qv(e,t,n,r){if(r<t)throw ka("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ka("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function QC(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZB=function(){function e(t,n,r,o,s,u,c,f,d,g,h){var p=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(v,_){p.resolve_=v,p.reject_=_,p.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new qf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function c(f){var d=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,g)}t.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(c),t.pendingConnection_=null;var f=u.getErrorCode()===ws.NO_ERROR,d=u.getStatus();if(!f||t.isRetryStatusCode_(d)){var g=u.getErrorCode()===ws.ABORT;o(!1,new qf(!1,null,g));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new qf(h,u))})}function r(o,s){var u=t.resolve_,c=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());XB(d)?u(d):u()}catch(h){c(h)}else if(f!==null){var g=sb();g.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,g)):c(g)}else if(s.canceled){var g=t.appDelete_?KC():qC();c(g)}else{var g=PB();c(g)}}this.canceled_?r(!1,new qf(!1,null,!0)):this.backoffId_=zB(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&YB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),qf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function e$(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function t$(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function n$(e,t){t&&(e["X-Firebase-GMPID"]=t)}function r$(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function i$(e,t,n,r,o,s){var u=QC(e.urlParams),c=e.url+u,f=Object.assign({},e.headers);return n$(f,t),e$(f,n),t$(f,s),r$(f,r),new ZB(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function s$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o$();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(ab())return new Blob(e);throw new Zt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function a$(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ub=function(){function e(t,n){var r=0,o="";bS(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(bS(this.data_)){var r=this.data_,o=a$(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ab()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(s$.apply(null,r))}else{var o=t.map(function(f){return Vd(f)?GC(Sr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),c=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)u[c++]=f[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(e){var t;try{t=JSON.parse(e)}catch{return null}return JB(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function c$(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function JC(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(e,t){return t}var Ln=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||l$}return e}(),Hf=null;function f$(e){return!Vd(e)||e.length<2?e:JC(e)}function jd(){if(Hf)return Hf;var e=[];e.push(new Ln("bucket")),e.push(new Ln("generation")),e.push(new Ln("metageneration")),e.push(new Ln("name","fullPath",!0));function t(s,u){return f$(u)}var n=new Ln("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new Ln("size");return o.xform=r,e.push(o),e.push(new Ln("timeCreated")),e.push(new Ln("updated")),e.push(new Ln("md5Hash",null,!0)),e.push(new Ln("cacheControl",null,!0)),e.push(new Ln("contentDisposition",null,!0)),e.push(new Ln("contentEncoding",null,!0)),e.push(new Ln("contentLanguage",null,!0)),e.push(new Ln("contentType",null,!0)),e.push(new Ln("metadata","customMetadata",!0)),Hf=e,Hf}function h$(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new Ar(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function d$(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return h$(r,e),r}function ZC(e,t,n){var r=cb(t);if(r===null)return null;var o=r;return d$(e,o,n)}function p$(e,t,n){var r=cb(t);if(r===null||!Vd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),c=u.map(function(f){var d=e.bucket,g=e.fullPath,h="/b/"+s(d)+"/o/"+s(g),p=Ro(h,n),v=QC({alt:"media",token:f});return p+v});return c[0]}function lb(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wS="prefixes",ES="items";function m$(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wS])for(var o=0,s=n[wS];o<s.length;o++){var u=s[o],c=u.replace(/\/$/,""),f=e._makeStorageReference(new Ar(t,c));r.prefixes.push(f)}if(n[ES])for(var d=0,g=n[ES];d<g.length;d++){var h=g[d],f=e._makeStorageReference(new Ar(t,h.name));r.items.push(f)}return r}function g$(e,t,n){var r=cb(n);if(r===null)return null;var o=r;return m$(e,t,o)}var Di=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e){if(!e)throw sb()}function Bd(e,t){function n(r,o){var s=ZC(e,o,t);return ai(s!==null),s}return n}function v$(e,t){function n(r,o){var s=g$(e,t,o);return ai(s!==null),s}return n}function y$(e,t){function n(r,o){var s=ZC(e,o,t);return ai(s!==null),p$(s,o,e.host)}return n}function hu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=OB():o=CB():n.getStatus()===402?o=NB(e.bucket):n.getStatus()===403?o=RB(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function $d(e){var t=hu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=kB(e.path)),s.serverResponse=o.serverResponse,s}return n}function eO(e,t,n){var r=t.fullServerUrl(),o=Ro(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new Di(o,s,Bd(e,n),u);return c.errorHandler=$d(t),c}function _$(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),c=Ro(u,e.host),f="GET",d=e.maxOperationRetryTime,g=new Di(c,f,v$(e,t.bucket),d);return g.urlParams=s,g.errorHandler=hu(t),g}function b$(e,t,n){var r=t.fullServerUrl(),o=Ro(r,e.host),s="GET",u=e.maxOperationRetryTime,c=new Di(o,s,y$(e,n),u);return c.errorHandler=$d(t),c}function w$(e,t,n,r){var o=t.fullServerUrl(),s=Ro(o,e.host),u="PATCH",c=lb(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,g=new Di(s,u,Bd(e,r),d);return g.headers=f,g.body=c,g.errorHandler=$d(t),g}function E$(e,t){var n=t.fullServerUrl(),r=Ro(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,d){}var c=new Di(r,o,u,s);return c.successCodes=[200,204],c.errorHandler=$d(t),c}function I$(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function tO(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=I$(null,t)),r}function T$(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var x="",C=0;C<2;C++)x=x+Math.random().toString().slice(2);return x}var f=c();u["Content-Type"]="multipart/related; boundary="+f;var d=tO(t,r,o),g=lb(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+f+"--",v=ub.getBlob(h,r,p);if(v===null)throw HC();var _={name:d.fullPath},E=Ro(s,e.host),S="POST",b=e.maxUploadRetryTime,k=new Di(E,S,Bd(e,n),b);return k.urlParams=_,k.headers=u,k.body=v.uploadData(),k.errorHandler=hu(t),k}var Bh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function fb(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ai(!1)}var r=t||["active"];return ai(!!n&&r.indexOf(n)!==-1),n}function S$(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=tO(t,r,o),c={name:u.fullPath},f=Ro(s,e.host),d="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=lb(u,n),p=e.maxUploadRetryTime;function v(E){fb(E);var S;try{S=E.getResponseHeader("X-Goog-Upload-URL")}catch{ai(!1)}return ai(Vd(S)),S}var _=new Di(f,d,v,p);return _.urlParams=c,_.headers=g,_.body=h,_.errorHandler=hu(t),_}function A$(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var g=fb(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ai(!1)}h||ai(!1);var p=Number(h);return ai(!isNaN(p)),new Bh(p,r.size(),g==="final")}var u="POST",c=e.maxUploadRetryTime,f=new Di(n,u,s,c);return f.headers=o,f.errorHandler=hu(t),f}var IS=256*1024;function k$(e,t,n,r,o,s,u,c){var f=new Bh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw MB();var d=f.total-f.current,g=d;o>0&&(g=Math.min(g,o));var h=f.current,p=h+g,v=g===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":""+f.current},E=r.slice(h,p);if(E===null)throw HC();function S(C,U){var D=fb(C,["active","final"]),Y=f.current+g,j=r.size(),q;return D==="final"?q=Bd(t,s)(C,U):q=null,new Bh(Y,j,D==="final",q)}var b="POST",k=t.maxUploadRetryTime,x=new Di(n,b,S,k);return x.headers=_,x.body=E.uploadData(),x.progressCallback=c||null,x.errorHandler=hu(e),x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$=function(){function e(t,n,r){var o=QB(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nO=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=jd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=S$(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=A$(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=IS*this._chunkMultiplier,r=new Bh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var c;try{c=k$(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(c,s,u);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=IS*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=eO(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=T$(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=qC(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Qg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new N$(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Qg(this._state)){case Vn.SUCCESS:da(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:var n=this._reject;da(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Qg(this._state);switch(n){case Vn.RUNNING:case Vn.PAUSED:t.next&&da(t.next.bind(t,this.snapshot))();break;case Vn.SUCCESS:t.complete&&da(t.complete.bind(t))();break;case Vn.CANCELED:case Vn.ERROR:t.error&&da(t.error.bind(t,this._error))();break;default:t.error&&da(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd=function(){function e(t,n){this._service=t,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Ar(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return JC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=u$(this._location.path);if(t===null)return null;var n=new Ar(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw WC(t)},e}();function C$(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new nO(e,new ub(t),n)}function O$(e){var t={prefixes:[],items:[]};return rO(e,t).then(function(){return t})}function rO(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return X(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,iO(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,rO(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function iO(e,t){return Z(this,void 0,void 0,function(){var n,r;return X(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Qv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=_$(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function R$(e){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=eO(e.storage,e._location,jd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function P$(e,t){return Z(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=w$(e.storage,e._location,t,jd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function x$(e){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=b$(e.storage,e._location,jd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw FB();return r})]}})})}function D$(e){return Z(this,void 0,void 0,function(){var t;return X(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=E$(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function oO(e,t){var n=c$(e._location.path,t),r=new Ar(e._location.bucket,n);return new qd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(e){return/^[A-Za-z]+:\/\//.test(e)}function L$(e,t){return new qd(e,t)}function sO(e,t){if(e instanceof Hd){var n=e;if(n._bucket==null)throw LB();var r=new qd(n,n._bucket);return t!=null?sO(r,t):r}else return t!==void 0?oO(e,t):e}function M$(e,t){if(t&&Jv(t)){if(e instanceof Hd)return L$(e,t);throw ka("To use ref(service, url), the first argument must be a Storage instance.")}else return sO(e,t)}function TS(e,t){var n=t==null?void 0:t[$C];return n==null?null:Ar.makeFromBucketSpec(n,e)}function F$(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:q1(o,e.app.options.projectId))}var Hd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=BC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SB,this._maxUploadRetryTime=AB,this._requests=new Set,s!=null?this._bucket=Ar.makeFromBucketSpec(s,this._host):this._bucket=TS(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,t):this._bucket=TS(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Qv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Qv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Z(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Z(this,void 0,void 0,function(){var t,n;return X(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new qd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new GB(KC());var s=i$(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Z(this,void 0,void 0,function(){var n,r,o;return X(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(e,t,n){return e=Et(e),C$(e,t,n)}function V$(e){return e=Et(e),R$(e)}function j$(e,t){return e=Et(e),P$(e,t)}function B$(e,t){return e=Et(e),iO(e,t)}function $$(e){return e=Et(e),O$(e)}function q$(e){return e=Et(e),x$(e)}function H$(e){return e=Et(e),D$(e)}function SS(e,t){return e=Et(e),M$(e,t)}function K$(e,t){return oO(e,t)}function W$(e,t,n,r){r===void 0&&(r={}),F$(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AS=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Kf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new Kf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(c){return n(new Kf(c,s,s._ref))}:u={next:n.next?function(c){return n.next(new Kf(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),kS=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new zc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new zc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=K$(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new AS(U$(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Sr.RAW),this._throwIfRoot("putString");var o=GC(n,t),s=Pa({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new AS(new nO(this._delegate,new ub(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return $$(this._delegate).then(function(n){return new kS(n,t.storage)})},e.prototype.list=function(t){var n=this;return B$(this._delegate,t||void 0).then(function(r){return new kS(r,n.storage)})},e.prototype.getMetadata=function(){return V$(this._delegate)},e.prototype.updateMetadata=function(t){return j$(this._delegate,t)},e.prototype.getDownloadURL=function(){return q$(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),H$(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw WC(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G$=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Jv(t))throw ka("ref() expected a child path but got a URL, use refFromURL instead.");return new zc(SS(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Jv(t))throw ka("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ar.makeFromUrl(t,this._delegate.host)}catch{throw ka("refFromUrl() expected a valid full URL but got an invalid one.")}return new zc(SS(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),W$(this._delegate,t,n,r)},e}(),z$="@firebase/storage",Y$="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X$="storage";function Q$(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new G$(r,new Hd(r,o,s,new WB,n,Me.SDK_VERSION));return u}function J$(e){var t={TaskState:Vn,TaskEvent:qB,StringFormat:Sr,Storage:Hd,Reference:zc};e.INTERNAL.registerComponent(new nl(X$,Q$,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(z$,Y$)}J$(Me);const Z$={apiKey:"AIzaSyB6occTgPhlzZyI8X_I22-vAtu8pypxRww",authDomain:"music-app-aws.firebaseapp.com",projectId:"music-app-aws",storageBucket:"music-app-aws.appspot.com",appId:"1:464129772870:web:a40d025788fcb4d70a2947"};Me.initializeApp(Z$);const ui=Me.auth(),hb=Me.firestore(),aO=Me.storage(),eq=hb.collection("users"),Ni=hb.collection("songs"),NS=hb.collection("comments"),du=Wy("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await ui.createUserWithEmailAndPassword(e.email,e.password);await eq.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await ui.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await ui.signOut(),this.userLoggedIn=!1}}}),yr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},tq={name:"AppHeader",computed:{...LF(wv,du),currentLocale(){return this.$i18n.locale==="en"?"English":"Japanese"}},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth==="manage"&&this.$router.push({name:"home"})},changeLocale(){this.$i18n.locale=this.$i18n.locale==="en"?"ja":"en"}}},nq={id:"header",class:"bg-gray-700"},rq={class:"container mx-auto flex justify-start items-center py-5 px-4"},iq={class:"flex flex-grow items-center"},oq={class:"flex flex-row mt-1"},sq={key:0},aq={class:"ml-auto"};function uq(e,t,n,r,o,s){const u=Lt("router-link");return rt(),gt("header",nq,[W("nav",rq,[xe(u,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:$n(()=>[go(lt(e.$t("header.title")),1)]),_:1}),W("div",iq,[W("ul",oq,[W("li",null,[xe(u,{class:"px-2 text-white",to:{name:"about"}},{default:$n(()=>[go(lt(e.$t("header.about")),1)]),_:1})]),e.userStore.userLoggedIn?(rt(),gt(Kt,{key:1},[W("li",null,[xe(u,{class:"px-2 text-white",to:{name:"manage"}},{default:$n(()=>[go(lt(e.$t("header.manage")),1)]),_:1})]),W("li",null,[W("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=fn((...c)=>s.signOut&&s.signOut(...c),["prevent"]))},lt(e.$t("header.logout")),1)])],64)):(rt(),gt("li",sq,[W("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=fn((...c)=>s.toggleAuthModal&&s.toggleAuthModal(...c),["prevent"]))},lt(e.$t("header.login-register")),1)]))]),W("ul",aq,[W("li",null,[W("a",{class:"px-2 text-white",href:"#",onClick:t[2]||(t[2]=fn((...c)=>s.changeLocale&&s.changeLocale(...c),["prevent"]))},lt(s.currentLocale),1)])])])])])}const cq=yr(tq,[["render",uq]]),lq={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are logging you in."}},methods:{...cd(du,["authenticate"]),async login(e){this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details.";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},fq={class:"mb-3"},hq=W("label",{class:"inline-block mb-2"},"Email",-1),dq={class:"mb-3"},pq=W("label",{class:"inline-block mb-2"},"Password",-1),mq=["disabled"];function gq(e,t,n,r,o,s){const u=Lt("vee-field"),c=Lt("ErrorMessage"),f=Lt("vee-form");return rt(),gt(Kt,null,[o.login_show_alert?(rt(),gt("div",{key:0,class:kn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},lt(o.login_alert_msg),3)):Oa("",!0),xe(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:$n(()=>[W("div",fq,[hq,xe(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),xe(c,{class:"text-red-600",name:"email"})]),W("div",dq,[pq,xe(u,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),xe(c,{class:"text-red-600",name:"password"})]),W("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.login_in_submission}," Submit ",8,mq)]),_:1},8,["validation-schema","onSubmit"])],64)}const vq=yr(lq,[["render",gq]]),yq={name:"RegisterForm",data(){return{tab:"login",schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...cd(du,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occurred. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},_q={class:"mb-3"},bq=W("label",{class:"inline-block mb-2"},"Name",-1),wq={class:"mb-3"},Eq=W("label",{class:"inline-block mb-2"},"Email",-1),Iq={class:"mb-3"},Tq=W("label",{class:"inline-block mb-2"},"Age",-1),Sq={class:"mb-3"},Aq=W("label",{class:"inline-block mb-2"},"Password",-1),kq={class:"mb-3"},Nq=W("label",{class:"inline-block mb-2"},"Confirm Password",-1),Cq={class:"mb-3"},Oq=W("label",{class:"inline-block mb-2"},"Country",-1),Rq=W("option",{value:"USA"},"USA",-1),Pq=W("option",{value:"Mexico"},"Mexico",-1),xq=W("option",{value:"Germany"},"Germany",-1),Dq=W("option",{value:"Antarctica"},"Antarctica",-1),Lq={class:"mb-3 pl-6"},Mq={href:"#"},Fq=["disabled"];function Uq(e,t,n,r,o,s){const u=Lt("vee-field"),c=Lt("ErrorMessage"),f=Lt("i18n-t"),d=Lt("vee-form");return rt(),gt(Kt,null,[o.reg_show_alert?(rt(),gt("div",{key:0,class:kn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},lt(o.reg_alert_msg),3)):Oa("",!0),xe(d,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:$n(()=>[W("div",_q,[bq,xe(u,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),xe(c,{class:"text-red-600",name:"name"})]),W("div",wq,[Eq,xe(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),xe(c,{class:"text-red-600",name:"email"})]),W("div",Iq,[Tq,xe(u,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),xe(c,{class:"text-red-600",name:"age"})]),W("div",Sq,[Aq,xe(u,{name:"password",bails:!1},{default:$n(({field:g,errors:h})=>[W("input",P1({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:"Password"},g),null,16),(rt(!0),gt(Kt,null,el(h,p=>(rt(),gt("div",{class:"text-red-600",key:p},lt(p),1))),128))]),_:1})]),W("div",kq,[Nq,xe(u,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),xe(c,{class:"text-red-600",name:"confirm_password"})]),W("div",Cq,[Oq,xe(u,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:$n(()=>[Rq,Pq,xq,Dq]),_:1}),xe(c,{class:"text-red-600",name:"country"})]),W("div",Lq,[xe(u,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),xe(f,{class:"inline-block",keypath:"register.accept",tag:"label"},{default:$n(()=>[W("a",Mq,lt(e.$t("register.tos")),1)]),_:1}),xe(c,{class:"text-red-600 block",name:"tos"})]),W("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:o.reg_in_submission}," Submit ",8,Fq)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Vq=yr(yq,[["render",Uq]]),jq={name:"Auth",components:{AppLoginForm:vq,AppRegisterForm:Vq},data(){return{tab:"login"}},computed:{...dh(wv,["hiddenClass"]),...B1(wv,{modalVisibility:"isOpen"})},methods:{}},Bq={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$q=W("div",{class:"fixed inset-0 transition-opacity"},[W("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),qq=W("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"\u200B",-1),Hq={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Kq={class:"py-4 text-left px-6"},Wq={class:"flex justify-between items-center pb-4"},Gq=W("p",{class:"text-2xl font-bold"},"Your Account",-1),zq=W("i",{class:"fas fa-times"},null,-1),Yq=[zq],Xq={class:"flex flex-wrap mb-4"},Qq={class:"flex-auto text-center"},Jq={class:"flex-auto text-center"};function Zq(e,t,n,r,o,s){const u=Lt("app-login-form"),c=Lt("app-register-form");return rt(),gt("div",{class:kn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[W("div",Bq,[$q,qq,W("div",Hq,[W("div",Kq,[W("div",Wq,[Gq,W("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},Yq)]),W("ul",Xq,[W("li",Qq,[W("a",{class:kn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=fn(f=>o.tab="login",["prevent"]))},"Login",2)]),W("li",Jq,[W("a",{class:kn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=fn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(rt(),Is(u,{key:0})):(rt(),Is(c,{key:1}))])])])],2)}const e4=yr(jq,[["render",Zq]]);var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var p=this||n;if(h=parseFloat(h),p.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(p._volume=h,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),E=0;E<_.length;E++){var S=p._howls[v]._soundById(_[E]);S&&S._node&&(S._node.volume=S._volume*h)}return p}return p._volume},mute:function(h){var p=this||n;p.ctx||g(),p._muted=h,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h?0:p._volume,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),E=0;E<_.length;E++){var S=p._howls[v]._soundById(_[E]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return p},stop:function(){for(var h=this||n,p=0;p<h._howls.length;p++)h._howls[p].stop();return h},unload:function(){for(var h=this||n,p=h._howls.length-1;p>=0;p--)h._howls[p].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var p=new Audio;typeof p.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var p=new Audio;p.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return h}if(!p||typeof p.canPlayType!="function")return h;var v=p.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",E=_.match(/OPR\/(\d+)/g),S=E&&parseInt(E[0].split("/")[1],10)<33,b=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,k=_.match(/Version\/(.*?) /),x=b&&k&&parseInt(k[1],10)<15;return h._codecs={mp3:!!(!S&&(v||p.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var p=function(v){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var E=0;E<h._howls.length;E++)if(!h._howls[E]._webAudio)for(var S=h._howls[E]._getSoundIds(),b=0;b<S.length;b++){var k=h._howls[E]._soundById(S[b]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}h._autoResume();var x=h.ctx.createBufferSource();x.buffer=h._scratchBuffer,x.connect(h.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),x.onended=function(){x.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var C=0;C<h._howls.length;C++)h._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var p=new Audio().play();return p&&typeof Promise<"u"&&(p instanceof Promise||typeof p.then=="function")&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var p=this||n;return h._unlocked&&p._html5AudioPool.push(h),p},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var p=0;p<h._howls.length;p++)if(h._howls[p]._webAudio){for(var v=0;v<h._howls[p]._sounds.length;v++)if(!h._howls[p]._sounds[v]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(!!h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var p=0;p<h._howls.length;p++)h._howls[p]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var p=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}p.init(h)};r.prototype={init:function(h){var p=this;return n.ctx||g(),p._autoplay=h.autoplay||!1,p._format=typeof h.format!="string"?h.format:[h.format],p._html5=h.html5||!1,p._muted=h.mute||!1,p._loop=h.loop||!1,p._pool=h.pool||5,p._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,p._rate=h.rate||1,p._sprite=h.sprite||{},p._src=typeof h.src!="string"?h.src:[h.src],p._volume=h.volume!==void 0?h.volume:1,p._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=h.onend?[{fn:h.onend}]:[],p._onfade=h.onfade?[{fn:h.onfade}]:[],p._onload=h.onload?[{fn:h.onload}]:[],p._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],p._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],p._onpause=h.onpause?[{fn:h.onpause}]:[],p._onplay=h.onplay?[{fn:h.onplay}]:[],p._onstop=h.onstop?[{fn:h.onstop}]:[],p._onmute=h.onmute?[{fn:h.onmute}]:[],p._onvolume=h.onvolume?[{fn:h.onvolume}]:[],p._onrate=h.onrate?[{fn:h.onrate}]:[],p._onseek=h.onseek?[{fn:h.onseek}]:[],p._onunlock=h.onunlock?[{fn:h.onunlock}]:[],p._onresume=[],p._webAudio=n.usingWebAudio&&!p._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&p._preload!=="none"&&p.load(),p},load:function(){var h=this,p=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var v=0;v<h._src.length;v++){var _,E;if(h._format&&h._format[v])_=h._format[v];else{if(E=h._src[v],typeof E!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(E),_||(_=/\.([^.]+)$/.exec(E.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){p=h._src[v];break}}if(!p){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=p,h._state="loading",window.location.protocol==="https:"&&p.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,p){var v=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&v._state==="loaded"&&!v._sprite[h])return null;if(typeof h>"u"&&(h="__default",!v._playLock)){for(var E=0,S=0;S<v._sounds.length;S++)v._sounds[S]._paused&&!v._sounds[S]._ended&&(E++,_=v._sounds[S]._id);E===1?h=null:_=null}}var b=_?v._soundById(_):v._inactiveSound();if(!b)return null;if(_&&!h&&(h=b._sprite||"__default"),v._state!=="loaded"){b._sprite=h,b._ended=!1;var k=b._id;return v._queue.push({event:"play",action:function(){v.play(k)}}),k}if(_&&!b._paused)return p||v._loadQueue("play"),b._id;v._webAudio&&n._autoResume();var x=Math.max(0,b._seek>0?b._seek:v._sprite[h][0]/1e3),C=Math.max(0,(v._sprite[h][0]+v._sprite[h][1])/1e3-x),U=C*1e3/Math.abs(b._rate),D=v._sprite[h][0]/1e3,Y=(v._sprite[h][0]+v._sprite[h][1])/1e3;b._sprite=h,b._ended=!1;var j=function(){b._paused=!1,b._seek=x,b._start=D,b._stop=Y,b._loop=!!(b._loop||v._sprite[h][2])};if(x>=Y){v._ended(b);return}var q=b._node;if(v._webAudio){var P=function(){v._playLock=!1,j(),v._refreshBuffer(b);var De=b._muted||v._muted?0:b._volume;q.gain.setValueAtTime(De,n.ctx.currentTime),b._playStart=n.ctx.currentTime,typeof q.bufferSource.start>"u"?b._loop?q.bufferSource.noteGrainOn(0,x,86400):q.bufferSource.noteGrainOn(0,x,C):b._loop?q.bufferSource.start(0,x,86400):q.bufferSource.start(0,x,C),U!==1/0&&(v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),U)),p||setTimeout(function(){v._emit("play",b._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?P():(v._playLock=!0,v.once("resume",P),v._clearTimer(b._id))}else{var Ie=function(){q.currentTime=x,q.muted=b._muted||v._muted||n._muted||q.muted,q.volume=b._volume*n.volume(),q.playbackRate=b._rate;try{var De=q.play();if(De&&typeof Promise<"u"&&(De instanceof Promise||typeof De.then=="function")?(v._playLock=!0,j(),De.then(function(){v._playLock=!1,q._unlocked=!0,p?v._loadQueue():v._emit("play",b._id)}).catch(function(){v._playLock=!1,v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):p||(v._playLock=!1,j(),v._emit("play",b._id)),q.playbackRate=b._rate,q.paused){v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||b._loop?v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),U):(v._endTimers[b._id]=function(){v._ended(b),q.removeEventListener("ended",v._endTimers[b._id],!1)},q.addEventListener("ended",v._endTimers[b._id],!1))}catch(qe){v._emit("playerror",b._id,qe)}};q.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(q.src=v._src,q.load());var ie=window&&window.ejecta||!q.readyState&&n._navigator.isCocoonJS;if(q.readyState>=3||ie)Ie();else{v._playLock=!0,v._state="loading";var we=function(){v._state="loaded",Ie(),q.removeEventListener(n._canPlayEvent,we,!1)};q.addEventListener(n._canPlayEvent,we,!1),v._clearTimer(b._id)}}return b._id},pause:function(h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(h)}}),p;for(var v=p._getSoundIds(h),_=0;_<v.length;_++){p._clearTimer(v[_]);var E=p._soundById(v[_]);if(E&&!E._paused&&(E._seek=p.seek(v[_]),E._rateSeek=0,E._paused=!0,p._stopFade(v[_]),E._node))if(p._webAudio){if(!E._node.bufferSource)continue;typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),p._cleanBuffer(E._node)}else(!isNaN(E._node.duration)||E._node.duration===1/0)&&E._node.pause();arguments[1]||p._emit("pause",E?E._id:null)}return p},stop:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(h)}}),v;for(var _=v._getSoundIds(h),E=0;E<_.length;E++){v._clearTimer(_[E]);var S=v._soundById(_[E]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,v._stopFade(_[E]),S._node&&(v._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),v._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&v._clearSound(S._node))),p||v._emit("stop",S._id))}return v},mute:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(h,p)}}),v;if(typeof p>"u")if(typeof h=="boolean")v._muted=h;else return v._muted;for(var _=v._getSoundIds(p),E=0;E<_.length;E++){var S=v._soundById(_[E]);S&&(S._muted=h,S._interval&&v._stopFade(S._id),v._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:h),v._emit("mute",S._id))}return v},volume:function(){var h=this,p=arguments,v,_;if(p.length===0)return h._volume;if(p.length===1||p.length===2&&typeof p[1]>"u"){var E=h._getSoundIds(),S=E.indexOf(p[0]);S>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length>=2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v<"u"&&v>=0&&v<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,p)}}),h;typeof _>"u"&&(h._volume=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)b=h._soundById(_[k]),b&&(b._volume=v,p[2]||h._stopFade(_[k]),h._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(v,n.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=v*n.volume()),h._emit("volume",b._id))}else return b=_?h._soundById(_):h._sounds[0],b?b._volume:0;return h},fade:function(h,p,v,_){var E=this;if(E._state!=="loaded"||E._playLock)return E._queue.push({event:"fade",action:function(){E.fade(h,p,v,_)}}),E;h=Math.min(Math.max(0,parseFloat(h)),1),p=Math.min(Math.max(0,parseFloat(p)),1),v=parseFloat(v),E.volume(h,_);for(var S=E._getSoundIds(_),b=0;b<S.length;b++){var k=E._soundById(S[b]);if(k){if(_||E._stopFade(S[b]),E._webAudio&&!k._muted){var x=n.ctx.currentTime,C=x+v/1e3;k._volume=h,k._node.gain.setValueAtTime(h,x),k._node.gain.linearRampToValueAtTime(p,C)}E._startFadeInterval(k,h,p,v,S[b],typeof _>"u")}}return E},_startFadeInterval:function(h,p,v,_,E,S){var b=this,k=p,x=v-p,C=Math.abs(x/.01),U=Math.max(4,C>0?_/C:_),D=Date.now();h._fadeTo=v,h._interval=setInterval(function(){var Y=(Date.now()-D)/_;D=Date.now(),k+=x*Y,k=Math.round(k*100)/100,x<0?k=Math.max(v,k):k=Math.min(v,k),b._webAudio?h._volume=k:b.volume(k,h._id,!0),S&&(b._volume=k),(v<p&&k<=v||v>p&&k>=v)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,b.volume(v,h._id),b._emit("fade",h._id))},U)},_stopFade:function(h){var p=this,v=p._soundById(h);return v&&v._interval&&(p._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,p.volume(v._fadeTo,h),v._fadeTo=null,p._emit("fade",h)),p},loop:function(){var h=this,p=arguments,v,_,E;if(p.length===0)return h._loop;if(p.length===1)if(typeof p[0]=="boolean")v=p[0],h._loop=v;else return E=h._soundById(parseInt(p[0],10)),E?E._loop:!1;else p.length===2&&(v=p[0],_=parseInt(p[1],10));for(var S=h._getSoundIds(_),b=0;b<S.length;b++)E=h._soundById(S[b]),E&&(E._loop=v,h._webAudio&&E._node&&E._node.bufferSource&&(E._node.bufferSource.loop=v,v&&(E._node.bufferSource.loopStart=E._start||0,E._node.bufferSource.loopEnd=E._stop,h.playing(S[b])&&(h.pause(S[b],!0),h.play(S[b],!0)))));return h},rate:function(){var h=this,p=arguments,v,_;if(p.length===0)_=h._sounds[0]._id;else if(p.length===1){var E=h._getSoundIds(),S=E.indexOf(p[0]);S>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,p)}}),h;typeof _>"u"&&(h._rate=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)if(b=h._soundById(_[k]),b){h.playing(_[k])&&(b._rateSeek=h.seek(_[k]),b._playStart=h._webAudio?n.ctx.currentTime:b._playStart),b._rate=v,h._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):b._node&&(b._node.playbackRate=v);var x=h.seek(_[k]),C=(h._sprite[b._sprite][0]+h._sprite[b._sprite][1])/1e3-x,U=C*1e3/Math.abs(b._rate);(h._endTimers[_[k]]||!b._paused)&&(h._clearTimer(_[k]),h._endTimers[_[k]]=setTimeout(h._ended.bind(h,b),U)),h._emit("rate",b._id)}}else return b=h._soundById(_),b?b._rate:h._rate;return h},seek:function(){var h=this,p=arguments,v,_;if(p.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(p.length===1){var E=h._getSoundIds(),S=E.indexOf(p[0]);S>=0?_=parseInt(p[0],10):h._sounds.length&&(_=h._sounds[0]._id,v=parseFloat(p[0]))}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));if(typeof _>"u")return 0;if(typeof v=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,p)}}),h;var b=h._soundById(_);if(b)if(typeof v=="number"&&v>=0){var k=h.playing(_);k&&h.pause(_,!0),b._seek=v,b._ended=!1,h._clearTimer(_),!h._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=v);var x=function(){k&&h.play(_,!0),h._emit("seek",_)};if(k&&!h._webAudio){var C=function(){h._playLock?setTimeout(C,0):x()};setTimeout(C,0)}else x()}else if(h._webAudio){var U=h.playing(_)?n.ctx.currentTime-b._playStart:0,D=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(D+U*Math.abs(b._rate))}else return b._node.currentTime;return h},playing:function(h){var p=this;if(typeof h=="number"){var v=p._soundById(h);return v?!v._paused:!1}for(var _=0;_<p._sounds.length;_++)if(!p._sounds[_]._paused)return!0;return!1},duration:function(h){var p=this,v=p._duration,_=p._soundById(h);return _&&(v=p._sprite[_._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var h=this,p=h._sounds,v=0;v<p.length;v++)p[v]._paused||h.stop(p[v]._id),h._webAudio||(h._clearSound(p[v]._node),p[v]._node.removeEventListener("error",p[v]._errorFn,!1),p[v]._node.removeEventListener(n._canPlayEvent,p[v]._loadFn,!1),p[v]._node.removeEventListener("ended",p[v]._endFn,!1),n._releaseHtml5Audio(p[v]._node)),delete p[v]._node,h._clearTimer(p[v]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var E=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===h._src||h._src.indexOf(n._howls[v]._src)>=0){E=!1;break}return s&&E&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,p,v,_){var E=this,S=E["_on"+h];return typeof p=="function"&&S.push(_?{id:v,fn:p,once:_}:{id:v,fn:p}),E},off:function(h,p,v){var _=this,E=_["_on"+h],S=0;if(typeof p=="number"&&(v=p,p=null),p||v)for(S=0;S<E.length;S++){var b=v===E[S].id;if(p===E[S].fn&&b||!p&&b){E.splice(S,1);break}}else if(h)_["_on"+h]=[];else{var k=Object.keys(_);for(S=0;S<k.length;S++)k[S].indexOf("_on")===0&&Array.isArray(_[k[S]])&&(_[k[S]]=[])}return _},once:function(h,p,v){var _=this;return _.on(h,p,v,1),_},_emit:function(h,p,v){for(var _=this,E=_["_on"+h],S=E.length-1;S>=0;S--)(!E[S].id||E[S].id===p||h==="load")&&(setTimeout(function(b){b.call(this,p,v)}.bind(_,E[S].fn),0),E[S].once&&_.off(h,E[S].fn,E[S].id));return _._loadQueue(h),_},_loadQueue:function(h){var p=this;if(p._queue.length>0){var v=p._queue[0];v.event===h&&(p._queue.shift(),p._loadQueue()),h||v.action()}return p},_ended:function(h){var p=this,v=h._sprite;if(!p._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(p._ended.bind(p,h),100),p;var _=!!(h._loop||p._sprite[v][2]);if(p._emit("end",h._id),!p._webAudio&&_&&p.stop(h._id,!0).play(h._id),p._webAudio&&_){p._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var E=(h._stop-h._start)*1e3/Math.abs(h._rate);p._endTimers[h._id]=setTimeout(p._ended.bind(p,h),E)}return p._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,p._clearTimer(h._id),p._cleanBuffer(h._node),n._autoSuspend()),!p._webAudio&&!_&&p.stop(h._id,!0),p},_clearTimer:function(h){var p=this;if(p._endTimers[h]){if(typeof p._endTimers[h]!="function")clearTimeout(p._endTimers[h]);else{var v=p._soundById(h);v&&v._node&&v._node.removeEventListener("ended",p._endTimers[h],!1)}delete p._endTimers[h]}return p},_soundById:function(h){for(var p=this,v=0;v<p._sounds.length;v++)if(h===p._sounds[v]._id)return p._sounds[v];return null},_inactiveSound:function(){var h=this;h._drain();for(var p=0;p<h._sounds.length;p++)if(h._sounds[p]._ended)return h._sounds[p].reset();return new o(h)},_drain:function(){var h=this,p=h._pool,v=0,_=0;if(!(h._sounds.length<p)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&v++;for(_=h._sounds.length-1;_>=0;_--){if(v<=p)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),v--)}}},_getSoundIds:function(h){var p=this;if(typeof h>"u"){for(var v=[],_=0;_<p._sounds.length;_++)v.push(p._sounds[_]._id);return v}else return[h]},_refreshBuffer:function(h){var p=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[p._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),p},_cleanBuffer:function(h){var p=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return p;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),v))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,p},_clearSound:function(h){var p=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);p||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,p._sounds.push(h),h.create(),h},create:function(){var h=this,p=h._parent,v=n._muted||h._muted||h._parent._muted?0:h._volume;return p._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(v,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=p._src,h._node.preload=p._preload===!0?"auto":p._preload,h._node.volume=v*n.volume(),h._node.load()),h},reset:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,p=h._parent;p._duration=Math.ceil(h._node.duration*10)/10,Object.keys(p._sprite).length===0&&(p._sprite={__default:[0,p._duration*1e3]}),p._state!=="loaded"&&(p._state="loaded",p._emit("load"),p._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,p=h._parent;p._duration===1/0&&(p._duration=Math.ceil(h._node.duration*10)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=p._duration*1e3),p._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var p=h._src;if(s[p]){h._duration=s[p].duration,d(h);return}if(/^data:[^;]+;base64,/.test(p)){for(var v=atob(p.split(",")[1]),_=new Uint8Array(v.length),E=0;E<v.length;++E)_[E]=v.charCodeAt(E);f(_.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,p,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(b){S.setRequestHeader(b,h._xhr.headers[b])}),S.onload=function(){var b=(S.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}f(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[p],h.load())},c(S)}},c=function(h){try{h.send()}catch{h.onerror()}},f=function(h,p){var v=function(){p._emit("loaderror",null,"Decoding audio data failed.")},_=function(E){E&&p._sounds.length>0?(s[p._src]=E,d(p,E)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(v):n.ctx.decodeAudioData(h,_,v)},d=function(h,p){p&&!h._duration&&(h._duration=p.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),p=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=p?parseInt(p[1],10):null;if(h&&v&&v<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof tc<"u"?(tc.HowlerGlobal=t,tc.Howler=n,tc.Howl=r,tc.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,c){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,c=typeof c!="number"?d[5]:c,typeof n=="number")f._orientation=[n,r,o,s,u,c],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,c);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),c=0;c<u.length;c++){var f=o._soundById(u[c]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var c=u._getSoundIds(s),f=0;f<c.length;f++){var d=u._soundById(c[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var c=n._getSoundIds(s),f=0;f<c.length;f++)if(u=n._soundById(c[f]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var g=u._panner;g||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),g=u._panner),g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Zv);const CS={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},$h=Wy("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof Zv.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Zv.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){!this.sound.playing||(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=CS.formatTime(this.sound.seek()),this.duration=CS.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),t4={name:"Player",methods:{...cd($h,["toggleAudio","updateSeek"])},computed:{...dh($h,["playing","duration","seek","playerProgress","current_song"])}},n4={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},r4={key:0,class:"text-center"},i4={class:"song-title font-bold"},o4={class:"song-artist"},s4={class:"flex flex-nowrap gap-4 items-center"},a4={class:"player-currenttime"},u4=W("i",{class:"fas fa-circle"},null,-1),c4=[u4],l4={class:"player-duration"};function f4(e,t,n,r,o,s){return rt(),gt("div",n4,[e.current_song.modified_name?(rt(),gt("div",r4,[W("span",i4,lt(e.current_song.modified_name),1),go(" by "),W("span",o4,lt(e.current_song.display_name),1)])):Oa("",!0),W("div",s4,[W("button",{type:"button",onClick:t[0]||(t[0]=fn((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[W("i",{class:kn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),W("div",a4,lt(e.seek),1),W("div",{onClick:t[1]||(t[1]=fn((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"])),class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer"},[W("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:Na({left:e.playerProgress})},c4,4),W("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:Na({width:e.playerProgress})},null,4)]),W("div",l4,lt(e.duration),1)])])}const h4=yr(t4,[["render",f4]]);const d4={name:"App",components:{AppHeader:cq,Auth:e4,AppPlayer:h4},computed:{...B1(du,["userLoggedIn"])},created(){ui.currentUser&&(this.userLoggedIn=!0)}};function p4(e,t,n,r,o,s){const u=Lt("app-header"),c=Lt("router-view"),f=Lt("app-player"),d=Lt("auth");return rt(),gt(Kt,null,[xe(u),xe(c,null,{default:$n(({Component:g})=>[xe(Hy,{name:"fade",mode:"out-in"},{default:$n(()=>[(rt(),Is(od(g)))]),_:2},1024)]),_:1}),xe(f),xe(d)],64)}const m4=yr(d4,[["render",p4]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const va=typeof window<"u";function g4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const mt=Object.assign;function Jg(e,t){const n={};for(const r in t){const o=t[r];n[r]=Kr(o)?o.map(e):e(o)}return n}const bc=()=>{},Kr=Array.isArray,v4=/\/$/,y4=e=>e.replace(v4,"");function Zg(e,t,n="/"){let r,o={},s="",u="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,c>-1?c:t.length),o=e(s)),c>-1&&(r=r||t.slice(0,c),u=t.slice(c,t.length)),r=E4(r!=null?r:t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function _4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function OS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function b4(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Qa(t.matched[r],n.matched[o])&&uO(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Qa(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function uO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!w4(e[n],t[n]))return!1;return!0}function w4(e,t){return Kr(e)?RS(e,t):Kr(t)?RS(t,e):e===t}function RS(e,t){return Kr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function E4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,c;for(u=0;u<r.length;u++)if(c=r[u],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var Yc;(function(e){e.pop="pop",e.push="push"})(Yc||(Yc={}));var wc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(wc||(wc={}));function I4(e){if(!e)if(va){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),y4(e)}const T4=/^[^#]+#/;function S4(e,t){return e.replace(T4,"#")+t}function A4(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Kd=()=>({left:window.pageXOffset,top:window.pageYOffset});function k4(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=A4(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function PS(e,t){return(history.state?history.state.position-t:-1)+e}const ey=new Map;function N4(e,t){ey.set(e,t)}function C4(e){const t=ey.get(e);return ey.delete(e),t}let O4=()=>location.protocol+"//"+location.host;function cO(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let c=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(c);return f[0]!=="/"&&(f="/"+f),OS(f,"")}return OS(n,e)+r+o}function R4(e,t,n,r){let o=[],s=[],u=null;const c=({state:p})=>{const v=cO(e,location),_=n.value,E=t.value;let S=0;if(p){if(n.value=v,t.value=p,u&&u===_){u=null;return}S=E?p.position-E.position:0}else r(v);o.forEach(b=>{b(n.value,_,{delta:S,type:Yc.pop,direction:S?S>0?wc.forward:wc.back:wc.unknown})})};function f(){u=n.value}function d(p){o.push(p);const v=()=>{const _=o.indexOf(p);_>-1&&o.splice(_,1)};return s.push(v),v}function g(){const{history:p}=window;!p.state||p.replaceState(mt({},p.state,{scroll:Kd()}),"")}function h(){for(const p of s)p();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:h}}function xS(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Kd():null}}function P4(e){const{history:t,location:n}=window,r={value:cO(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,g){const h=e.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:O4()+e+f;try{t[g?"replaceState":"pushState"](d,"",p),o.value=d}catch(v){console.error(v),n[g?"replace":"assign"](p)}}function u(f,d){const g=mt({},t.state,xS(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,g,!0),r.value=f}function c(f,d){const g=mt({},o.value,t.state,{forward:f,scroll:Kd()});s(g.current,g,!0);const h=mt({},xS(r.value,f,null),{position:g.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:c,replace:u}}function x4(e){e=I4(e);const t=P4(e),n=R4(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=mt({location:"",base:e,go:r,createHref:S4.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function D4(e){return typeof e=="string"||e&&typeof e=="object"}function lO(e){return typeof e=="string"||typeof e=="symbol"}const Xi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fO=Symbol("");var DS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(DS||(DS={}));function Ja(e,t){return mt(new Error,{type:e,[fO]:!0},t)}function yi(e,t){return e instanceof Error&&fO in e&&(t==null||!!(e.type&t))}const LS="[^/]+?",L4={sensitive:!1,strict:!1,start:!0,end:!0},M4=/[.+*?^${}()[\]/\\]/g;function F4(e,t){const n=mt({},L4,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const p=d[h];let v=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(M4,"\\$&"),v+=40;else if(p.type===1){const{value:_,repeatable:E,optional:S,regexp:b}=p;s.push({name:_,repeatable:E,optional:S});const k=b||LS;if(k!==LS){v+=10;try{new RegExp(`(${k})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${_}" (${k}): `+C.message)}}let x=E?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(x=S&&d.length<2?`(?:/${x})`:"/"+x),S&&(x+="?"),o+=x,v+=20,S&&(v+=-8),E&&(v+=-20),k===".*"&&(v+=-50)}g.push(v)}r.push(g)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function c(d){const g=d.match(u),h={};if(!g)return null;for(let p=1;p<g.length;p++){const v=g[p]||"",_=s[p-1];h[_.name]=v&&_.repeatable?v.split("/"):v}return h}function f(d){let g="",h=!1;for(const p of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const v of p)if(v.type===0)g+=v.value;else if(v.type===1){const{value:_,repeatable:E,optional:S}=v,b=_ in d?d[_]:"";if(Kr(b)&&!E)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const k=Kr(b)?b.join("/"):b;if(!k)if(S)p.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=k}}return g||"/"}return{re:u,score:r,keys:s,parse:c,stringify:f}}function U4(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function V4(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=U4(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(MS(r))return 1;if(MS(o))return-1}return o.length-r.length}function MS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const j4={type:0,value:""},B4=/[a-zA-Z0-9_]/;function $4(e){if(!e)return[[]];if(e==="/")return[[j4]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let c=0,f,d="",g="";function h(){!d||(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),u()):f===":"?(h(),n=1):p();break;case 4:p(),n=r;break;case 1:f==="("?n=2:B4.test(f)?p():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function q4(e,t,n){const r=F4($4(e.path),n),o=mt(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function H4(e,t){const n=[],r=new Map;t=VS({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,p){const v=!p,_=K4(g);_.aliasOf=p&&p.record;const E=VS(t,g),S=[_];if("alias"in g){const x=typeof g.alias=="string"?[g.alias]:g.alias;for(const C of x)S.push(mt({},_,{components:p?p.record.components:_.components,path:C,aliasOf:p?p.record:_}))}let b,k;for(const x of S){const{path:C}=x;if(h&&C[0]!=="/"){const U=h.record.path,D=U[U.length-1]==="/"?"":"/";x.path=h.record.path+(C&&D+C)}if(b=q4(x,h,E),p?p.alias.push(b):(k=k||b,k!==b&&k.alias.push(b),v&&g.name&&!US(b)&&u(g.name)),_.children){const U=_.children;for(let D=0;D<U.length;D++)s(U[D],b,p&&p.children[D])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&f(b)}return k?()=>{u(k)}:bc}function u(g){if(lO(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function c(){return n}function f(g){let h=0;for(;h<n.length&&V4(g,n[h])>=0&&(g.record.path!==n[h].record.path||!hO(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!US(g)&&r.set(g.record.name,g)}function d(g,h){let p,v={},_,E;if("name"in g&&g.name){if(p=r.get(g.name),!p)throw Ja(1,{location:g});E=p.record.name,v=mt(FS(h.params,p.keys.filter(k=>!k.optional).map(k=>k.name)),g.params&&FS(g.params,p.keys.map(k=>k.name))),_=p.stringify(v)}else if("path"in g)_=g.path,p=n.find(k=>k.re.test(_)),p&&(v=p.parse(_),E=p.record.name);else{if(p=h.name?r.get(h.name):n.find(k=>k.re.test(h.path)),!p)throw Ja(1,{location:g,currentLocation:h});E=p.record.name,v=mt({},h.params,g.params),_=p.stringify(v)}const S=[];let b=p;for(;b;)S.unshift(b.record),b=b.parent;return{name:E,path:_,params:v,matched:S,meta:G4(S)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:c,getRecordMatcher:o}}function FS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function K4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:W4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function W4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function US(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function G4(e){return e.reduce((t,n)=>mt(t,n.meta),{})}function VS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function hO(e,t){return t.children.some(n=>n===e||hO(e,n))}const dO=/#/g,z4=/&/g,Y4=/\//g,X4=/=/g,Q4=/\?/g,pO=/\+/g,J4=/%5B/g,Z4=/%5D/g,mO=/%5E/g,e3=/%60/g,gO=/%7B/g,t3=/%7C/g,vO=/%7D/g,n3=/%20/g;function db(e){return encodeURI(""+e).replace(t3,"|").replace(J4,"[").replace(Z4,"]")}function r3(e){return db(e).replace(gO,"{").replace(vO,"}").replace(mO,"^")}function ty(e){return db(e).replace(pO,"%2B").replace(n3,"+").replace(dO,"%23").replace(z4,"%26").replace(e3,"`").replace(gO,"{").replace(vO,"}").replace(mO,"^")}function i3(e){return ty(e).replace(X4,"%3D")}function o3(e){return db(e).replace(dO,"%23").replace(Q4,"%3F")}function s3(e){return e==null?"":o3(e).replace(Y4,"%2F")}function qh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function a3(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(pO," "),u=s.indexOf("="),c=qh(u<0?s:s.slice(0,u)),f=u<0?null:qh(s.slice(u+1));if(c in t){let d=t[c];Kr(d)||(d=t[c]=[d]),d.push(f)}else t[c]=f}return t}function jS(e){let t="";for(let n in e){const r=e[n];if(n=i3(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Kr(r)?r.map(s=>s&&ty(s)):[r&&ty(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function u3(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Kr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const c3=Symbol(""),BS=Symbol(""),pb=Symbol(""),yO=Symbol(""),ny=Symbol("");function nc(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function io(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,c)=>{const f=h=>{h===!1?c(Ja(4,{from:n,to:t})):h instanceof Error?c(h):D4(h)?c(Ja(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(d);e.length<3&&(g=g.then(f)),g.catch(h=>c(h))})}function ev(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let c=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(l3(c)){const d=(c.__vccOpts||c)[t];d&&o.push(io(d,n,r,s,u))}else{let f=c();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=g4(d)?d.default:d;s.components[u]=g;const p=(g.__vccOpts||g)[t];return p&&io(p,n,r,s,u)()}))}}return o}function l3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function $S(e){const t=mr(pb),n=mr(yO),r=Fe(()=>t.resolve(nt(e.to))),o=Fe(()=>{const{matched:f}=r.value,{length:d}=f,g=f[d-1],h=n.matched;if(!g||!h.length)return-1;const p=h.findIndex(Qa.bind(null,g));if(p>-1)return p;const v=qS(f[d-2]);return d>1&&qS(g)===v&&h[h.length-1].path!==v?h.findIndex(Qa.bind(null,f[d-2])):p}),s=Fe(()=>o.value>-1&&p3(n.params,r.value.params)),u=Fe(()=>o.value>-1&&o.value===n.matched.length-1&&uO(n.params,r.value.params));function c(f={}){return d3(f)?t[nt(e.replace)?"replace":"push"](nt(e.to)).catch(bc):Promise.resolve()}return{route:r,href:Fe(()=>r.value.href),isActive:s,isExactActive:u,navigate:c}}const f3=So({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$S,setup(e,{slots:t}){const n=Ci($S(e)),{options:r}=mr(pb),o=Fe(()=>({[HS(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[HS(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Oi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),h3=f3;function d3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function p3(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Kr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function qS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const HS=(e,t,n)=>e!=null?e:t!=null?t:n,m3=So({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=mr(ny),o=Fe(()=>e.route||r.value),s=mr(BS,0),u=Fe(()=>{let d=nt(s);const{matched:g}=o.value;let h;for(;(h=g[d])&&!h.components;)d++;return d}),c=Fe(()=>o.value.matched[u.value]);Sa(BS,Fe(()=>u.value+1)),Sa(c3,c),Sa(ny,o);const f=Ct();return Cn(()=>[f.value,c.value,e.name],([d,g,h],[p,v,_])=>{g&&(g.instances[h]=d,v&&v!==g&&d&&d===p&&(g.leaveGuards.size||(g.leaveGuards=v.leaveGuards),g.updateGuards.size||(g.updateGuards=v.updateGuards))),d&&g&&(!v||!Qa(g,v)||!p)&&(g.enterCallbacks[h]||[]).forEach(E=>E(d))},{flush:"post"}),()=>{const d=o.value,g=e.name,h=c.value,p=h&&h.components[g];if(!p)return KS(n.default,{Component:p,route:d});const v=h.props[g],_=v?v===!0?d.params:typeof v=="function"?v(d):v:null,S=Oi(p,mt({},_,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return KS(n.default,{Component:S,route:d})||S}}});function KS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const g3=m3;function v3(e){const t=H4(e.routes,e),n=e.parseQuery||a3,r=e.stringifyQuery||jS,o=e.history,s=nc(),u=nc(),c=nc(),f=Py(Xi);let d=Xi;va&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Jg.bind(null,$=>""+$),h=Jg.bind(null,s3),p=Jg.bind(null,qh);function v($,z){let se,le;return lO($)?(se=t.getRecordMatcher($),le=z):le=$,t.addRoute(le,se)}function _($){const z=t.getRecordMatcher($);z&&t.removeRoute(z)}function E(){return t.getRoutes().map($=>$.record)}function S($){return!!t.getRecordMatcher($)}function b($,z){if(z=mt({},z||f.value),typeof $=="string"){const I=Zg(n,$,z.path),N=t.resolve({path:I.path},z),L=o.createHref(I.fullPath);return mt(I,N,{params:p(N.params),hash:qh(I.hash),redirectedFrom:void 0,href:L})}let se;if("path"in $)se=mt({},$,{path:Zg(n,$.path,z.path).path});else{const I=mt({},$.params);for(const N in I)I[N]==null&&delete I[N];se=mt({},$,{params:h(I)}),z.params=h(z.params)}const le=t.resolve(se,z),Re=$.hash||"";le.params=g(p(le.params));const O=_4(r,mt({},$,{hash:r3(Re),path:le.path})),T=o.createHref(O);return mt({fullPath:O,hash:Re,query:r===jS?u3($.query):$.query||{}},le,{redirectedFrom:void 0,href:T})}function k($){return typeof $=="string"?Zg(n,$,f.value.path):mt({},$)}function x($,z){if(d!==$)return Ja(8,{from:z,to:$})}function C($){return Y($)}function U($){return C(mt(k($),{replace:!0}))}function D($){const z=$.matched[$.matched.length-1];if(z&&z.redirect){const{redirect:se}=z;let le=typeof se=="function"?se($):se;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=k(le):{path:le},le.params={}),mt({query:$.query,hash:$.hash,params:"path"in le?{}:$.params},le)}}function Y($,z){const se=d=b($),le=f.value,Re=$.state,O=$.force,T=$.replace===!0,I=D(se);if(I)return Y(mt(k(I),{state:typeof I=="object"?mt({},Re,I.state):Re,force:O,replace:T}),z||se);const N=se;N.redirectedFrom=z;let L;return!O&&b4(r,le,se)&&(L=Ja(16,{to:N,from:le}),At(le,le,!0,!1)),(L?Promise.resolve(L):P(N,le)).catch(B=>yi(B)?yi(B,2)?B:yt(B):he(B,N,le)).then(B=>{if(B){if(yi(B,2))return Y(mt({replace:T},k(B.to),{state:typeof B.to=="object"?mt({},Re,B.to.state):Re,force:O}),z||N)}else B=ie(N,le,!0,T,Re);return Ie(N,le,B),B})}function j($,z){const se=x($,z);return se?Promise.reject(se):Promise.resolve()}function q($){const z=en.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext($):$()}function P($,z){let se;const[le,Re,O]=y3($,z);se=ev(le.reverse(),"beforeRouteLeave",$,z);for(const I of le)I.leaveGuards.forEach(N=>{se.push(io(N,$,z))});const T=j.bind(null,$,z);return se.push(T),ve(se).then(()=>{se=[];for(const I of s.list())se.push(io(I,$,z));return se.push(T),ve(se)}).then(()=>{se=ev(Re,"beforeRouteUpdate",$,z);for(const I of Re)I.updateGuards.forEach(N=>{se.push(io(N,$,z))});return se.push(T),ve(se)}).then(()=>{se=[];for(const I of O)if(I.beforeEnter)if(Kr(I.beforeEnter))for(const N of I.beforeEnter)se.push(io(N,$,z));else se.push(io(I.beforeEnter,$,z));return se.push(T),ve(se)}).then(()=>($.matched.forEach(I=>I.enterCallbacks={}),se=ev(O,"beforeRouteEnter",$,z),se.push(T),ve(se))).then(()=>{se=[];for(const I of u.list())se.push(io(I,$,z));return se.push(T),ve(se)}).catch(I=>yi(I,8)?I:Promise.reject(I))}function Ie($,z,se){c.list().forEach(le=>q(()=>le($,z,se)))}function ie($,z,se,le,Re){const O=x($,z);if(O)return O;const T=z===Xi,I=va?history.state:{};se&&(le||T?o.replace($.fullPath,mt({scroll:T&&I&&I.scroll},Re)):o.push($.fullPath,Re)),f.value=$,At($,z,se,T),yt()}let we;function De(){we||(we=o.listen(($,z,se)=>{if(!ge.listening)return;const le=b($),Re=D(le);if(Re){Y(mt(Re,{replace:!0}),le).catch(bc);return}d=le;const O=f.value;va&&N4(PS(O.fullPath,se.delta),Kd()),P(le,O).catch(T=>yi(T,12)?T:yi(T,2)?(Y(T.to,le).then(I=>{yi(I,20)&&!se.delta&&se.type===Yc.pop&&o.go(-1,!1)}).catch(bc),Promise.reject()):(se.delta&&o.go(-se.delta,!1),he(T,le,O))).then(T=>{T=T||ie(le,O,!1),T&&(se.delta&&!yi(T,8)?o.go(-se.delta,!1):se.type===Yc.pop&&yi(T,20)&&o.go(-1,!1)),Ie(le,O,T)}).catch(bc)}))}let qe=nc(),ce=nc(),Le;function he($,z,se){yt($);const le=ce.list();return le.length?le.forEach(Re=>Re($,z,se)):console.error($),Promise.reject($)}function st(){return Le&&f.value!==Xi?Promise.resolve():new Promise(($,z)=>{qe.add([$,z])})}function yt($){return Le||(Le=!$,De(),qe.list().forEach(([z,se])=>$?se($):z()),qe.reset()),$}function At($,z,se,le){const{scrollBehavior:Re}=e;if(!va||!Re)return Promise.resolve();const O=!se&&C4(PS($.fullPath,0))||(le||!se)&&history.state&&history.state.scroll||null;return ni().then(()=>Re($,z,O)).then(T=>T&&k4(T)).catch(T=>he(T,$,z))}const It=$=>o.go($);let ft;const en=new Set,ge={currentRoute:f,listening:!0,addRoute:v,removeRoute:_,hasRoute:S,getRoutes:E,resolve:b,options:e,push:C,replace:U,go:It,back:()=>It(-1),forward:()=>It(1),beforeEach:s.add,beforeResolve:u.add,afterEach:c.add,onError:ce.add,isReady:st,install($){const z=this;$.component("RouterLink",h3),$.component("RouterView",g3),$.config.globalProperties.$router=z,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>nt(f)}),va&&!ft&&f.value===Xi&&(ft=!0,C(o.location).catch(Re=>{}));const se={};for(const Re in Xi)Object.defineProperty(se,Re,{get:()=>f.value[Re],enumerable:!0});$.provide(pb,z),$.provide(yO,n1(se)),$.provide(ny,f);const le=$.unmount;en.add($),$.unmount=function(){en.delete($),en.size<1&&(d=Xi,we&&we(),we=null,f.value=Xi,ft=!1,Le=!1),le()}}};function ve($){return $.reduce((z,se)=>z.then(()=>q(se)),Promise.resolve())}return ge}function y3(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const c=t.matched[u];c&&(e.matched.find(d=>Qa(d,c))?r.push(c):n.push(c));const f=e.matched[u];f&&(t.matched.find(d=>Qa(d,f))||o.push(f))}return[n,r,o]}const _3={name:"SongItem",props:["song"]},b3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},w3={class:"text-gray-500 text-sm"},E3={class:"text-gray-600 text-lg"},I3=["onClick"],T3=W("i",{class:"fa fa-comments text-gray-600"},null,-1);function S3(e,t,n,r,o,s){const u=Lt("router-link");return rt(),gt("li",b3,[W("div",null,[xe(u,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:$n(()=>[go(lt(n.song.modified_name),1)]),_:1},8,["to"]),W("span",w3,lt(n.song.display_name),1)]),W("div",E3,[xe(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:$n(({navigate:c})=>[W("span",{class:"comments",onClick:c},[T3,go(" "+lt(n.song.comment_count),1)],8,I3)]),_:1},8,["to"])])])}const A3=yr(_3,[["render",S3]]),k3={beforeMount(e,t){let n=`fa fa-${t.value.icon} text-green-400 text-xl`;t.value.right&&(n+=" float-right"),e.innerHTML+=`<i class="${n}"></i>`}},N3="/Ja-music/assets/img/introduction-music.png",C3={name:"Home",components:{AppSongItem:A3},directives:{"icon-secondary":k3},data(){return{songs:[],maxPerPage:5,pedingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n===t&&this.getSongs()},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await Ni.doc(this.songs[this.songs.length-1].docID).get();e=await Ni.orderBy("display_name").startAfter(t).limit(this.maxPerPage).get()}else e=await Ni.orderBy("display_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},O3={class:"mb-8 py-20 text-white text-center relative"},R3=W("div",{class:"absolute inset-0 w-full h-full bg-contain introduction-bg",style:{"background-image":"url(assets/img/header.png)"}},null,-1),P3={class:"container mx-auto"},x3={class:"text-white main-header-content"},D3={class:"font-bold text-5xl mb-5"},L3={class:"w-full md:w-8/12 mx-auto"},M3={class:"w-full md:w-8/12 mx-auto"},F3=W("img",{class:"relative block mx-auto mt-5 -mb-20 w-auto max-w-full",src:N3},null,-1),U3={class:"container mx-auto"},V3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},j3={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},B3=W("span",{class:"card-title"},"Songs",-1),$3=[B3],q3={id:"playlist"};function H3(e,t,n,r,o,s){const u=Lt("app-song-item"),c=_M("icon-secondary");return rt(),gt("main",null,[W("section",O3,[R3,W("div",P3,[W("div",x3,[W("h1",D3,lt(e.$t("home.listen")),1),W("p",L3,lt(e.$t("home.content-1")),1),W("p",M3,lt(e.$t("home.content-2")),1)])]),F3]),W("section",U3,[W("div",V3,[lh((rt(),gt("div",j3,$3)),[[c,{icon:"headphones-alt",right:!0}]]),W("ol",q3,[(rt(!0),gt(Kt,null,el(o.songs,f=>(rt(),Is(u,{key:f.docID,song:f},null,8,["song"]))),128))])])])])}const K3=yr(C3,[["render",H3]]),W3={},G3={class:"about"},z3=W("h1",null,"This is an about page",-1),Y3=[z3];function X3(e,t){return rt(),gt("div",G3,Y3)}const Q3=yr(W3,[["render",X3]]),J3={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=aO.ref().child(`songs/${n.name}`).put(n),u=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",c=>{const f=c.bytesTransferred/c.totalBytes*100;this.uploads[u].current_progress=f},c=>{this.uploads[u].variant="bg-red-400",this.uploads[u].icon="fas fa-times",this.uploads[u].text_class="text-red-400",console.log(c)},async()=>{const c={uid:ui.currentUser.uid,display_name:ui.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};c.url=await s.snapshot.ref.getDownloadURL();const d=await(await Ni.add(c)).get();this.addSong(d),this.uploads[u].variant="bg-green-400",this.uploads[u].icon="fas fa-check",this.uploads[u].text_class="text-green-400"})}),console.log(t)},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},Z3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},eH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},tH={class:"card-title"},nH=W("i",{class:"fas fa-upload float-right text-green-400 text-2xl"},null,-1),rH={class:"p-6"},iH=W("h5",null,"Drop your files here",-1),oH=[iH],sH=W("hr",{class:"my-6"},null,-1),aH={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function uH(e,t,n,r,o,s){return rt(),gt("div",Z3,[W("div",eH,[W("span",tH,lt(e.$t("upload.uploads")),1),nH]),W("div",rH,[W("div",{class:kn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=fn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=fn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=fn(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=fn(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=fn(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=fn(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=fn(u=>s.upload(u),["prevent","stop"]))},oH,34),W("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=u=>s.upload(u))},null,32),sH,(rt(!0),gt(Kt,null,el(o.uploads,u=>(rt(),gt("div",{class:"mb-4",key:u.name},[W("div",{class:kn(["font-bold text-sm",u.text_class])},[W("i",{class:kn(u.icon)},null,2),go(lt(u.name),1)],2),W("div",aH,[W("div",{class:kn(["transition-all progress-bar bg-blue-400",u.variant]),style:Na({width:u.current_progress+"%"})},null,6)])]))),128))])])}const cH=yr(J3,[["render",uH]]),lH={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info";try{await Ni.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await aO.ref().child(`songs/${this.song.original_name}`).delete(),await Ni.doc(this.song.docID).delete(),this.removeSong(this.index)}}},fH={class:"border border-gray-200 p-3 mb-4 rounded"},hH={class:"inline-block text-2xl font-bold"},dH=W("i",{class:"fa fa-times"},null,-1),pH=[dH],mH=W("i",{class:"fa fa-pencil-alt"},null,-1),gH=[mH],vH={class:"mb-3"},yH=W("label",{class:"inline-block mb-2"},"Song Title",-1),_H={class:"mb-3"},bH=W("label",{class:"inline-block mb-2"},"Genre",-1),wH=["disabled"],EH=["disabled"];function IH(e,t,n,r,o,s){const u=Lt("vee-field"),c=Lt("ErrorMessage"),f=Lt("vee-form");return rt(),gt("div",fH,[lh(W("div",null,[W("h4",hH,lt(n.song.modified_name),1),W("button",{onClick:t[0]||(t[0]=fn((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"])),class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"},pH),W("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=fn(d=>o.showForm=!o.showForm,["prevent"]))},gH)],512),[[UI,!o.showForm]]),lh(W("div",null,[o.show_alert?(rt(),gt("div",{key:0,class:kn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},lt(o.alert_message),3)):Oa("",!0),xe(f,{onSubmit:s.edit,"validation-schema":o.schema,"initial-values":n.song},{default:$n(()=>[W("div",vH,[yH,xe(u,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),xe(c,{class:"text-red-600",name:"modified_name"})]),W("div",_H,[bH,xe(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),xe(c,{class:"text-red-600",name:"genre"})]),W("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,wH),W("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=fn(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,EH)]),_:1},8,["onSubmit","validation-schema","initial-values"])],512),[[UI,o.showForm]])])}const TH=yr(lH,[["render",IH]]),SH={name:"manage",components:{AppUpload:cH,CompositionItem:TH},data(){return{songs:[],unsavedFlag:!1}},async created(){(await Ni.where("uid","==",ui.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modifed_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},AH={class:"container mx-auto mt-6"},kH={class:"md:grid md:grid-cols-3 md:gap-4"},NH={class:"col-span-1"},CH={class:"col-span-2"},OH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},RH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},PH={class:"card-title"},xH=W("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"},null,-1),DH={class:"p-6"};function LH(e,t,n,r,o,s){const u=Lt("app-upload"),c=Lt("composition-item");return rt(),gt("section",AH,[W("div",kH,[W("div",NH,[xe(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),W("div",CH,[W("div",OH,[W("div",RH,[W("span",PH,lt(e.$t("manage.my_songs")),1),xH]),W("div",DH,[(rt(!0),gt(Kt,null,el(o.songs,(f,d)=>(rt(),Is(c,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const MH=yr(SH,[["render",LH]]),FH={name:"Song",data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted.",comments:[],sort:"1"}},computed:{...dh(du,["userLoggedIn"]),...dh($h,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await Ni.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...cd($h,["newSong"]),async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:ui.currentUser.displayName,uid:ui.currentUser.uid};await NS.add(n),this.song.comment_count+=1,await Ni.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await NS.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>[this.comments.push({docID:t.id,...t.data()})])}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},UH={class:"w-full mb-8 py-14 text-center text-white relative"},VH=W("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),jH={class:"container mx-auto flex items-center"},BH={class:"z-50 text-left ml-8"},$H={class:"text-3xl font-bold"},qH={class:"container mx-auto mt-6"},HH={class:"bg-white rounded border border-gray-200 relative flex flex-col"},KH={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},WH={class:"card-title"},GH=W("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),zH={class:"p-6"},YH=["disabled"],XH=W("option",{value:"1"},"Latest",-1),QH=W("option",{value:"2"},"Oldest",-1),JH=[XH,QH],ZH={class:"container mx-auto",id:"comments"},eK={class:"mb-5"},tK={class:"font-bold"};function nK(e,t,n,r,o,s){const u=Lt("vee-field"),c=Lt("ErrorMessage"),f=Lt("vee-form");return rt(),gt("main",null,[W("section",UH,[VH,W("div",jH,[W("button",{onClick:t[0]||(t[0]=fn(d=>e.newSong(o.song),["prevent"])),type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[W("i",{class:kn(["fas",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),W("div",BH,[W("div",$H,lt(o.song.modified_name),1),W("div",null,lt(o.song.genre),1)])])]),W("section",qH,[W("div",HH,[W("div",KH,[W("span",WH,lt(e.$tc("song.comment_count",o.song.comment_count,{count:o.song.comment_count})),1),GH]),W("div",zH,[o.comment_show_alert?(rt(),gt("div",{key:0,class:kn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},lt(o.comment_alert_message),3)):Oa("",!0),e.userLoggedIn?(rt(),Is(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:$n(()=>[xe(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),xe(c,{class:"text-red-600",name:"comment"}),W("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,YH)]),_:1},8,["validation-schema","onSubmit"])):Oa("",!0),lh(W("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded","onUpdate:modelValue":t[1]||(t[1]=d=>o.sort=d)},JH,512),[[bF,o.sort]])])])]),W("ul",ZH,[(rt(!0),gt(Kt,null,el(s.sortedComments,d=>(rt(),gt("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docID},[W("div",eK,[W("div",tK,lt(d.name),1),W("time",null,lt(d.datePosted),1)]),W("p",null,lt(d.content),1)]))),128))])])}const rK=yr(FH,[["render",nK]]),iK=[{name:"home",path:"/",component:K3},{name:"about",path:"/about",component:Q3},{name:"manage",path:"/manage-music",component:MH,beforeEnter(e,t,n){console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:rK},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],_O=v3({history:x4("/Ja-music/"),routes:iK,linkExactActiveClass:"text-yellow-500"});_O.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}du().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function mn(e){return typeof e=="function"}function bO(e){return e==null}const Rs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function mb(e){return Number(e)>=0}function oK(e){const t=parseFloat(e);return isNaN(t)?e:t}function sK(e){return typeof e=="object"&&e!==null}function aK(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function uK(e){if(!sK(e)||aK(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hh(e,t){return Object.keys(t).forEach(n=>{if(uK(t[n])){e[n]||(e[n]={}),Hh(e[n],t[n]);return}e[n]=t[n]}),e}function lc(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(mb(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const wO={};function Dr(e,t){lK(e,t),wO[e]=t}function cK(e){return wO[e]}function lK(e,t){if(!mn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function WS(e,t,n){typeof n.value=="object"&&(n.value=Tt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Tt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(Tt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,c){o.set(Tt(c),Tt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(Tt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)WS(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||WS(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Wd=Symbol("vee-validate-form"),fK=Symbol("vee-validate-field-instance"),Kh=Symbol("Default empty value"),hK=typeof window<"u";function ry(e){return mn(e)&&!!e.__locatorRef}function Io(e){return!!e&&mn(e.parse)&&e.__type==="VVTypedSchema"}function Wh(e){return!!e&&mn(e.validate)}function El(e){return e==="checkbox"||e==="radio"}function dK(e){return Rs(e)||Array.isArray(e)}function pK(e){return Array.isArray(e)?e.length===0:Rs(e)&&Object.keys(e).length===0}function Gd(e){return/^\[.+\]$/i.test(e)}function mK(e){return EO(e)&&e.multiple}function EO(e){return e.tagName==="SELECT"}function gK(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function vK(e,t){return!gK(e,t)&&t.type!=="file"&&!El(t.type)}function IO(e){return gb(e)&&e.target&&"submit"in e.target}function gb(e){return e?!!(typeof Event<"u"&&mn(Event)&&e instanceof Event||e&&e.srcElement):!1}function GS(e,t){return t in e&&e[t]!==Kh}function Kn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Kn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Kn(r[1],t.get(r[0])))return!1;return!0}if(zS(e)&&zS(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!Kn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function zS(e){return hK?e instanceof File:!1}function vb(e){return Gd(e)?e.replace(/\[|\]/gi,""):e}function Jn(e,t,n){return e?Gd(t)?e[vb(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>dK(o)&&s in o?o[s]:n,e):n}function os(e,t,n){if(Gd(t)){e[vb(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||bO(o[r[s]]))&&(o[r[s]]=mb(r[s+1])?[]:{}),o=o[r[s]]}}function tv(e,t){if(Array.isArray(e)&&mb(t)){e.splice(Number(t),1);return}Rs(e)&&delete e[t]}function YS(e,t){if(Gd(t)){delete e[vb(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){tv(r,n[s]);break}if(!(n[s]in r)||bO(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Jn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(!!pK(o[s])){if(s===0){tv(e,n[0]);continue}tv(o[s-1],n[s-1])}}function Tr(e){return Object.keys(e)}function TO(e,t=void 0){const n=li();return(n==null?void 0:n.provides[e])||mr(e,t)}function XS(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Kn(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Kn(e,t)?n:t}function QS(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function yK(e,t){return Rs(t)&&t.number?oK(e):e}function iy(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function oy(e){return Array.isArray(e)?e:e?[e]:[]}function rc(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function _K(e){let t=null,n=[];return function(...r){const o=ni(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function yb(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default}function nv(e){if(SO(e))return e._value}function SO(e){return"_value"in e}function bK(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Gh(e){if(!gb(e))return e;const t=e.target;if(El(t.type)&&SO(t))return nv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(mK(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(nv);if(EO(t)){const n=Array.from(t.options).find(r=>r.selected);return n?nv(n):t.value}return bK(t)}function AO(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Rs(e)&&e._$$isNormalized?e:Rs(e)?Object.keys(e).reduce((n,r)=>{const o=wK(e[r]);return e[r]!==!1&&(n[r]=JS(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=EK(r);return o.name&&(n[o.name]=JS(o.params)),n},t):t}function wK(e){return e===!0?[]:Array.isArray(e)||Rs(e)?e:[e]}function JS(e){const t=n=>typeof n=="string"&&n[0]==="@"?IK(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const EK=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function IK(e){const t=n=>Jn(n,e)||n[e];return t.__locatorRef=e,t}function TK(e){return Array.isArray(e)?e.filter(ry):Tr(e).filter(t=>ry(e[t])).map(t=>e[t])}const SK={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let sy=Object.assign({},SK);const lo=()=>sy,AK=e=>{sy=Object.assign(Object.assign({},sy),e)},kK=AK;async function kO(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r!=null?r:!0,formData:(n==null?void 0:n.values)||{}},u=(await NK(o,e)).errors;return{errors:u,valid:!u.length}}async function NK(e,t){if(Io(e.rules)||Wh(e.rules))return OK(t,e.rules);if(mn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},c=Array.isArray(e.rules)?e.rules:[e.rules],f=c.length,d=[];for(let g=0;g<f;g++){const h=c[g],p=await h(t,u);if(!(typeof p!="string"&&!Array.isArray(p)&&p)){if(Array.isArray(p))d.push(...p);else{const _=typeof p=="string"?p:CO(u);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:AO(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const c=o[u],f=await RK(n,t,{name:c,params:n.rules[c]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function CK(e){return!!e&&e.name==="ValidationError"}function NO(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!CK(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,c)=>{const f=c.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...c.errors),u},{});return{errors:Object.values(s)}}}}}async function OK(e,t){const r=await(Io(t)?t:NO(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function RK(e,t,n){const r=cK(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=PK(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:CO(s)}}function CO(e){const t=lo().generateMessage;return t?t(e):"Field is invalid"}function PK(e,t){const n=r=>ry(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function xK(e,t){const r=await(Io(e)?e:NO(e)).parse(Tt(t)),o={},s={};for(const u of r.errors){const c=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[f]={valid:!c.length,errors:c},c.length&&(s[f]=c[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function DK(e,t,n){const o=Tr(e).map(async d=>{var g,h,p;const v=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await kO(Jn(t,d),e[d],{name:(v==null?void 0:v.name)||d,label:v==null?void 0:v.label,values:t,bails:(p=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&p!==void 0?p:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const u=await Promise.all(o),c={},f={};for(const d of u)c[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:c,errors:f}}let ZS=0;function LK(e,t){const{value:n,initialValue:r,setInitialValue:o}=MK(e,t.modelValue,t.form);if(!t.form){let p=function(_){var E;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(h.touched=(E=_.touched)!==null&&E!==void 0?E:h.touched),"initialValue"in _&&o(_.initialValue)};var c=p;const{errors:f,setErrors:d}=VK(),g=ZS>=Number.MAX_SAFE_INTEGER?0:++ZS,h=UK(n,r,f);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:f,setState:p}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=Fe(()=>s.errors);function c(f){var d,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(nt(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(nt(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:c}}function MK(e,t,n){const r=Ct(nt(t));function o(){return n?Jn(n.initialValues.value,nt(e),nt(r)):nt(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(nt(e),d,!0)}const u=Fe(o);if(!n)return{value:Ct(o()),initialValue:u,setInitialValue:s};const c=FK(t,n,u,e);return n.stageInitialValue(nt(e),c,!0),{value:Fe({get(){return Jn(n.values,nt(e))},set(d){n.setFieldValue(nt(e),d,!1)}}),initialValue:u,setInitialValue:s}}function FK(e,t,n,r){return bt(e)?nt(e):e!==void 0?e:Jn(t.values,nt(r),nt(n))}function UK(e,t,n){const r=Ci({touched:!1,pending:!1,valid:!0,validated:!!nt(n).length,initialValue:Fe(()=>nt(t)),dirty:Fe(()=>!Kn(nt(e),nt(t)))});return Cn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function VK(){const e=Ct([]);return{errors:e,setErrors:t=>{e.value=oy(t)}}}function jK(e,t,n){return El(n==null?void 0:n.type)?$K(e,t,n):OO(e,t,n)}function OO(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:c,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:h,keepValueOnUnmount:p,syncVModel:v,form:_}=BK(n),E=h?TO(Wd):void 0,S=_||E,b=Fe(()=>lc(Ft(e))),k=Fe(()=>{if(Ft(S==null?void 0:S.schema))return;const ve=nt(t);return Wh(ve)||Io(ve)||mn(ve)||Array.isArray(ve)?ve:AO(ve)}),{id:x,value:C,initialValue:U,meta:D,setState:Y,errors:j,flags:q}=LK(b,{modelValue:r,form:S,bails:s,label:f,type:u,validate:k.value?qe:void 0}),P=Fe(()=>j.value[0]);v&&qK({value:C,prop:v,handleChange:ce,shouldValidate:()=>d&&!q.pendingReset});const Ie=(ge,ve=!1)=>{D.touched=!0,ve&&we()};async function ie(ge){var ve,$;return S!=null&&S.validateSchema?(ve=(await S.validateSchema(ge)).results[Ft(b)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}:k.value?kO(C.value,k.value,{name:Ft(b),label:Ft(f),values:($=S==null?void 0:S.values)!==null&&$!==void 0?$:{},bails:s}):{valid:!0,errors:[]}}const we=iy(async()=>(D.pending=!0,D.validated=!0,ie("validated-only")),ge=>{if(!q.pendingUnmount[ft.id])return Y({errors:ge.errors}),D.pending=!1,D.valid=ge.valid,ge}),De=iy(async()=>ie("silent"),ge=>(D.valid=ge.valid,ge));function qe(ge){return(ge==null?void 0:ge.mode)==="silent"?De():we()}function ce(ge,ve=!0){const $=Gh(ge);yt($,ve)}Zc(()=>{if(o)return we();(!S||!S.validateSchema)&&De()});function Le(ge){D.touched=ge}function he(ge){var ve;const $=ge&&"value"in ge?ge.value:U.value;Y({value:Tt($),initialValue:Tt($),touched:(ve=ge==null?void 0:ge.touched)!==null&&ve!==void 0?ve:!1,errors:(ge==null?void 0:ge.errors)||[]}),D.pending=!1,D.validated=!1,De()}const st=li();function yt(ge,ve=!0){C.value=st&&v?yK(ge,st.props.modelModifiers):ge,(ve?we:De)()}function At(ge){Y({errors:Array.isArray(ge)?ge:[ge]})}const It=Fe({get(){return C.value},set(ge){yt(ge,d)}}),ft={id:x,name:b,label:f,value:It,meta:D,errors:j,errorMessage:P,type:u,checkedValue:c,uncheckedValue:g,bails:s,keepValueOnUnmount:p,resetField:he,handleReset:()=>he(),validate:qe,handleChange:ce,handleBlur:Ie,setState:Y,setTouched:Le,setErrors:At,setValue:yt};if(Sa(fK,ft),bt(t)&&typeof nt(t)!="function"&&Cn(t,(ge,ve)=>{Kn(ge,ve)||(D.validated?we():De())},{deep:!0}),!S)return ft;const en=Fe(()=>{const ge=k.value;return!ge||mn(ge)||Wh(ge)||Io(ge)||Array.isArray(ge)?{}:Object.keys(ge).reduce((ve,$)=>{const z=TK(ge[$]).map(se=>se.__locatorRef).reduce((se,le)=>{const Re=Jn(S.values,le)||S.values[le];return Re!==void 0&&(se[le]=Re),se},{});return Object.assign(ve,z),ve},{})});return Cn(en,(ge,ve)=>{if(!Object.keys(ge).length)return;!Kn(ge,ve)&&(D.validated?we():De())}),My(()=>{var ge;const ve=(ge=Ft(ft.keepValueOnUnmount))!==null&&ge!==void 0?ge:Ft(S.keepValuesOnUnmount),$=Ft(b);if(ve||!S||q.pendingUnmount[ft.id]){S==null||S.removePathState($,x);return}q.pendingUnmount[ft.id]=!0;const z=S.getPathState($);if(!!(Array.isArray(z==null?void 0:z.id)&&(z==null?void 0:z.multiple)?z==null?void 0:z.id.includes(ft.id):(z==null?void 0:z.id)===ft.id)){if((z==null?void 0:z.multiple)&&Array.isArray(z.value)){const le=z.value.findIndex(Re=>Kn(Re,Ft(ft.checkedValue)));if(le>-1){const Re=[...z.value];Re.splice(le,1),S.setFieldValue($,Re)}Array.isArray(z.id)&&z.id.splice(z.id.indexOf(ft.id),1)}else S.unsetPathValue(Ft(b));S.removePathState($,x)}}),ft}function BK(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?ay(li(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,c=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u!=null?u:!0,checkedValue:s,syncVModel:c})}function $K(e,t,n){const r=n!=null&&n.standalone?void 0:TO(Wd),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(c){const f=c.handleChange,d=Fe(()=>{const h=Ft(c.value),p=Ft(o);return Array.isArray(h)?h.findIndex(v=>Kn(v,p))>=0:Kn(p,h)});function g(h,p=!0){var v,_;if(d.value===((v=h==null?void 0:h.target)===null||v===void 0?void 0:v.checked)){p&&c.validate();return}const E=Ft(e),S=r==null?void 0:r.getPathState(E),b=Gh(h);let k=(_=Ft(o))!==null&&_!==void 0?_:b;r&&(S==null?void 0:S.multiple)&&S.type==="checkbox"?k=XS(Jn(r.values,E)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=XS(Ft(c.value),k,Ft(s))),f(k,p)}return Object.assign(Object.assign({},c),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(OO(e,t,n))}function qK({prop:e,value:t,handleChange:n,shouldValidate:r}){const o=li();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(Cn(t,c=>{Kn(c,ay(o,s))||o.emit(u,c)}),Cn(()=>ay(o,s),c=>{if(c===Kh&&t.value===void 0)return;const f=c===Kh?void 0:c;Kn(f,t.value)||n(f,r())}))}function ay(e,t){if(!!e)return e.props[t]}const HK=So({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>lo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Kh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=oo(e,"rules"),r=oo(e,"name"),o=oo(e,"label"),s=oo(e,"uncheckedValue"),u=oo(e,"keepValue"),{errors:c,value:f,errorMessage:d,validate:g,handleChange:h,handleBlur:p,setTouched:v,resetField:_,handleReset:E,meta:S,checked:b,setErrors:k}=jK(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:WK(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),x=function(q,P=!0){h(q,P)},C=Fe(()=>{const{validateOnInput:j,validateOnChange:q,validateOnBlur:P,validateOnModelUpdate:Ie}=KK(e);function ie(ce){p(ce,P),mn(t.attrs.onBlur)&&t.attrs.onBlur(ce)}function we(ce){x(ce,j),mn(t.attrs.onInput)&&t.attrs.onInput(ce)}function De(ce){x(ce,q),mn(t.attrs.onChange)&&t.attrs.onChange(ce)}const qe={name:e.name,onBlur:ie,onInput:we,onChange:De};return qe["onUpdate:modelValue"]=ce=>x(ce,Ie),qe}),U=Fe(()=>{const j=Object.assign({},C.value);El(t.attrs.type)&&b&&(j.checked=b.value);const q=eA(e,t);return vK(q,t.attrs)&&(j.value=f.value),j}),D=Fe(()=>Object.assign(Object.assign({},C.value),{modelValue:f.value}));function Y(){return{field:U.value,componentField:D.value,value:f.value,meta:S,errors:c.value,errorMessage:d.value,validate:g,resetField:_,handleChange:x,handleInput:j=>x(j,!1),handleReset:E,handleBlur:C.value.onBlur,setTouched:v,setErrors:k}}return t.expose({setErrors:k,setTouched:v,reset:_,validate:g,handleChange:h}),()=>{const j=od(eA(e,t)),q=yb(j,t,Y);return j?Oi(j,Object.assign(Object.assign({},t.attrs),U.value),q):q}}});function eA(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function KK(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:c,validateOnModelUpdate:f}=lo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:c,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function WK(e,t){return El(t.attrs.type)?GS(e,"modelValue")?e.modelValue:void 0:GS(e,"modelValue")?e.modelValue:t.attrs.value}const GK=HK;let zK=0;const ic=["bails","fieldsCount","id","multiple","type","validate"];function RO(e){const t=nt(e==null?void 0:e.initialValues)||{},n=nt(e==null?void 0:e.validationSchema);return n&&Io(n)&&mn(n.cast)?Tt(n.cast(t)||{}):Tt(t)}function YK(e){var t;const n=zK++;let r=0;const o=Ct(!1),s=Ct(!1),u=Ct(0),c=[],f=Ci(RO(e)),d=Ct([]),g=Ct({}),h=Ct({}),p=_K(()=>{h.value=d.value.reduce((F,M)=>(F[lc(Ft(M.path))]=M,F),{})});function v(F,M){const J=ce(F);if(!J){typeof F=="string"&&(g.value[lc(F)]=oy(M));return}if(typeof F=="string"){const de=lc(F);g.value[de]&&delete g.value[de]}J.errors=oy(M),J.valid=!J.errors.length}function _(F){Tr(F).forEach(M=>{v(M,F[M])})}e!=null&&e.initialErrors&&_(e.initialErrors);const E=Fe(()=>{const F=d.value.reduce((M,J)=>(J.errors.length&&(M[J.path]=J.errors),M),{});return Object.assign(Object.assign({},g.value),F)}),S=Fe(()=>Tr(E.value).reduce((F,M)=>{const J=E.value[M];return J!=null&&J.length&&(F[M]=J[0]),F},{})),b=Fe(()=>d.value.reduce((F,M)=>(F[M.path]={name:M.path||"",label:M.label||""},F),{})),k=Fe(()=>d.value.reduce((F,M)=>{var J;return F[M.path]=(J=M.bails)!==null&&J!==void 0?J:!0,F},{})),x=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:U,originalInitialValues:D,setInitialValues:Y}=QK(d,f,e),j=XK(d,f,D,S),q=Fe(()=>d.value.reduce((F,M)=>{const J=Jn(f,M.path);return os(F,M.path,J),F},{})),P=e==null?void 0:e.validationSchema;function Ie(F,M){var J,de;const _e=Fe(()=>Jn(U.value,Ft(F))),Ve=h.value[Ft(F)];if(Ve){((M==null?void 0:M.type)==="checkbox"||(M==null?void 0:M.type)==="radio")&&(Ve.multiple=!0);const wn=r++;return Array.isArray(Ve.id)?Ve.id.push(wn):Ve.id=[Ve.id,wn],Ve.fieldsCount++,Ve.__flags.pendingUnmount[wn]=!1,Ve}const Ye=Fe(()=>Jn(f,Ft(F))),Be=Ft(F),ze=r++,He=Ci({id:ze,path:F,touched:!1,pending:!1,valid:!0,validated:!!(!((J=x[Be])===null||J===void 0)&&J.length),initialValue:_e,errors:Py([]),bails:(de=M==null?void 0:M.bails)!==null&&de!==void 0?de:!1,label:M==null?void 0:M.label,type:(M==null?void 0:M.type)||"default",value:Ye,multiple:!1,__flags:{pendingUnmount:{[ze]:!1},pendingReset:!1},fieldsCount:1,validate:M==null?void 0:M.validate,dirty:Fe(()=>!Kn(nt(Ye),nt(_e)))});return d.value.push(He),h.value[Be]=He,p(),S.value[Be]&&!x[Be]&&ni(()=>{oe(Be,{mode:"silent"})}),bt(F)&&Cn(F,wn=>{p();const En=Tt(Ye.value);h.value[wn]=He,ni(()=>{os(f,wn,En)})}),He}const ie=QS(K,5),we=QS(K,5),De=iy(async F=>await F==="silent"?ie():we(),(F,[M])=>{const J=Tr(ve.errorBag.value);return[...new Set([...Tr(F.results),...d.value.map(_e=>_e.path),...J])].sort().reduce((_e,Ve)=>{const Ye=Ve,Be=ce(Ye)||Le(Ye),ze=(F.results[Ye]||{errors:[]}).errors,He={errors:ze,valid:!ze.length};return _e.results[Ye]=He,He.valid||(_e.errors[Ye]=He.errors[0]),Be&&g.value[Ye]&&delete g.value[Ye],Be?(Be.valid=He.valid,M==="silent"||M==="validated-only"&&!Be.validated||v(Be,He.errors),_e):(v(Ye,ze),_e)},{valid:F.valid,results:{},errors:{}})});function qe(F){d.value.forEach(F)}function ce(F){const M=typeof F=="string"?lc(F):F;return typeof M=="string"?h.value[M]:M}function Le(F){return d.value.filter(J=>F.startsWith(J.path)).reduce((J,de)=>J?de.path.length>J.path.length?de:J:de,void 0)}let he=[],st;function yt(F){return he.push(F),st||(st=ni(()=>{[...he].sort().reverse().forEach(J=>{YS(f,J)}),he=[],st=null})),st}function At(F){return function(J,de){return function(Ve){return Ve instanceof Event&&(Ve.preventDefault(),Ve.stopPropagation()),qe(Ye=>Ye.touched=!0),o.value=!0,u.value++,ee().then(Ye=>{const Be=Tt(f);if(Ye.valid&&typeof J=="function"){const ze=Tt(q.value);let He=F?ze:Be;return Ye.values&&(He=Ye.values),J(He,{evt:Ve,controlledValues:ze,setErrors:_,setFieldError:v,setTouched:L,setFieldTouched:O,setValues:se,setFieldValue:$,resetForm:Q,resetField:B})}!Ye.valid&&typeof de=="function"&&de({values:Be,evt:Ve,errors:Ye.errors,results:Ye.results})}).then(Ye=>(o.value=!1,Ye),Ye=>{throw o.value=!1,Ye})}}}const ft=At(!1);ft.withControlled=At(!0);function en(F,M){const J=d.value.findIndex(_e=>_e.path===F),de=d.value[J];if(!(J===-1||!de)){if(ni(()=>{oe(F,{mode:"silent",warn:!1})}),de.multiple&&de.fieldsCount&&de.fieldsCount--,Array.isArray(de.id)){const _e=de.id.indexOf(M);_e>=0&&de.id.splice(_e,1),delete de.__flags.pendingUnmount[M]}(!de.multiple||de.fieldsCount<=0)&&(d.value.splice(J,1),ne(F),p(),delete h.value[F])}}function ge(F){return qe(M=>{M.path.startsWith(F)&&Tr(M.__flags.pendingUnmount).forEach(J=>{M.__flags.pendingUnmount[J]=!0})})}const ve={formId:n,values:f,controlledValues:q,errorBag:E,errors:S,schema:P,submitCount:u,meta:j,isSubmitting:o,isValidating:s,fieldArrays:c,keepValuesOnUnmount:C,validateSchema:nt(P)?De:void 0,validate:ee,setFieldError:v,validateField:oe,setFieldValue:$,setValues:se,setErrors:_,setFieldTouched:O,setTouched:L,resetForm:Q,resetField:B,handleSubmit:ft,stageInitialValue:fe,unsetInitialValue:ne,setFieldInitialValue:V,useFieldModel:Re,createPathState:Ie,getPathState:ce,unsetPathValue:yt,removePathState:en,initialValues:U,getAllPathStates:()=>d.value,markForUnmount:ge,isFieldTouched:T,isFieldDirty:I,isFieldValid:N};function $(F,M,J=!0){const de=Tt(M),_e=typeof F=="string"?F:F.path;ce(_e)||Ie(_e),os(f,_e,de),J&&oe(_e)}function z(F,M=!0){Tr(f).forEach(J=>{delete f[J]}),Tr(F).forEach(J=>{$(J,F[J],!1)}),M&&ee()}function se(F,M=!0){Hh(f,F),c.forEach(J=>J&&J.reset()),M&&ee()}function le(F){const M=ce(nt(F))||Ie(F);return Fe({get(){return M.value},set(J){const de=nt(F);$(de,J,!1),M.validated=!0,M.pending=!0,oe(de).then(()=>{M.pending=!1})}})}function Re(F){return Array.isArray(F)?F.map(le):le(F)}function O(F,M){const J=ce(F);J&&(J.touched=M)}function T(F){var M;return!!(!((M=ce(F))===null||M===void 0)&&M.touched)}function I(F){var M;return!!(!((M=ce(F))===null||M===void 0)&&M.dirty)}function N(F){var M;return!!(!((M=ce(F))===null||M===void 0)&&M.valid)}function L(F){if(typeof F=="boolean"){qe(M=>{M.touched=F});return}Tr(F).forEach(M=>{O(M,!!F[M])})}function B(F,M){var J;const de=M&&"value"in M?M.value:Jn(U.value,F),_e=ce(F);_e&&(_e.__flags.pendingReset=!0),V(F,Tt(de)),$(F,de,!1),O(F,(J=M==null?void 0:M.touched)!==null&&J!==void 0?J:!1),v(F,(M==null?void 0:M.errors)||[]),ni(()=>{_e&&(_e.__flags.pendingReset=!1)})}function Q(F,M){let J=F!=null&&F.values?F.values:D.value;J=Io(P)&&mn(P.cast)?P.cast(J):J,Y(J),qe(de=>{var _e;de.__flags.pendingReset=!0,de.validated=!1,de.touched=((_e=F==null?void 0:F.touched)===null||_e===void 0?void 0:_e[de.path])||!1,$(de.path,Jn(J,de.path),!1),v(de.path,void 0)}),M!=null&&M.force?z(J,!1):se(J,!1),_((F==null?void 0:F.errors)||{}),u.value=(F==null?void 0:F.submitCount)||0,ni(()=>{ee({mode:"silent"}),qe(de=>{de.__flags.pendingReset=!1})})}async function ee(F){const M=(F==null?void 0:F.mode)||"force";if(M==="force"&&qe(Ve=>Ve.validated=!0),ve.validateSchema)return ve.validateSchema(M);s.value=!0;const J=await Promise.all(d.value.map(Ve=>Ve.validate?Ve.validate(F).then(Ye=>({key:Ve.path,valid:Ye.valid,errors:Ye.errors})):Promise.resolve({key:Ve.path,valid:!0,errors:[]})));s.value=!1;const de={},_e={};for(const Ve of J)de[Ve.key]={valid:Ve.valid,errors:Ve.errors},Ve.errors.length&&(_e[Ve.key]=Ve.errors[0]);return{valid:J.every(Ve=>Ve.valid),results:de,errors:_e}}async function oe(F,M){var J;const de=ce(F);if(de&&(M==null?void 0:M.mode)!=="silent"&&(de.validated=!0),P){const{results:_e}=await De((M==null?void 0:M.mode)||"validated-only");return _e[F]||{errors:[],valid:!0}}return de!=null&&de.validate?de.validate(M):(!de&&(J=M==null?void 0:M.warn),Promise.resolve({errors:[],valid:!0}))}function ne(F){YS(U.value,F)}function fe(F,M,J=!1){V(F,M),os(f,F,M),J&&!(e!=null&&e.initialValues)&&os(D.value,F,Tt(M))}function V(F,M){os(U.value,F,Tt(M))}async function K(){const F=nt(P);if(!F)return{valid:!0,results:{},errors:{}};s.value=!0;const M=Wh(F)||Io(F)?await xK(F,f):await DK(F,f,{names:b.value,bailsMap:k.value});return s.value=!1,M}const Te=ft((F,{evt:M})=>{IO(M)&&M.target.submit()});Zc(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&L(e.initialTouched),e!=null&&e.validateOnMount){ee();return}ve.validateSchema&&ve.validateSchema("silent")}),bt(P)&&Cn(P,()=>{var F;(F=ve.validateSchema)===null||F===void 0||F.call(ve,"validated-only")}),Sa(Wd,ve);function ke(F,M){const J=ce(Ft(F))||Ie(F),de=()=>mn(M)?M(rc(J,ic)):M||{};function _e(){var Be;J.touched=!0,((Be=de().validateOnBlur)!==null&&Be!==void 0?Be:lo().validateOnBlur)&&oe(J.path)}function Ve(Be){var ze;const He=(ze=de().validateOnModelUpdate)!==null&&ze!==void 0?ze:lo().validateOnModelUpdate;$(J.path,Be,He)}return Fe(()=>{if(mn(M)){const He=M(J),wn=He.model||"modelValue";return Object.assign({onBlur:_e,[wn]:J.value,[`onUpdate:${wn}`]:Ve},He.props||{})}const Be=(M==null?void 0:M.model)||"modelValue",ze={onBlur:_e,[Be]:J.value,[`onUpdate:${Be}`]:Ve};return M!=null&&M.mapProps?Object.assign(Object.assign({},ze),M.mapProps(rc(J,ic))):ze})}function Se(F,M){const J=ce(Ft(F))||Ie(F),de=()=>mn(M)?M(rc(J,ic)):M||{};function _e(){var ze;J.touched=!0,((ze=de().validateOnBlur)!==null&&ze!==void 0?ze:lo().validateOnBlur)&&oe(J.path)}function Ve(ze){var He;const wn=Gh(ze),En=(He=de().validateOnInput)!==null&&He!==void 0?He:lo().validateOnInput;$(J.path,wn,En)}function Ye(ze){var He;const wn=Gh(ze),En=(He=de().validateOnChange)!==null&&He!==void 0?He:lo().validateOnChange;$(J.path,wn,En)}return Fe(()=>{const ze={value:J.value,onChange:Ye,onInput:Ve,onBlur:_e};return mn(M)?Object.assign(Object.assign({},ze),M(rc(J,ic)).attrs||{}):M!=null&&M.mapAttrs?Object.assign(Object.assign({},ze),M.mapAttrs(rc(J,ic))):ze})}return Object.assign(Object.assign({},ve),{values:Cy(f),handleReset:()=>Q(),submitForm:Te,defineComponentBinds:ke,defineInputBinds:Se})}function XK(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Fe(()=>!Kn(t,nt(n)));function u(){const f=e.value;return Tr(o).reduce((d,g)=>{const h=o[g];return d[g]=f[h](p=>p[g]),d},{})}const c=Ci(u());return iM(()=>{const f=u();c.touched=f.touched,c.valid=f.valid,c.pending=f.pending}),Fe(()=>Object.assign(Object.assign({initialValues:nt(n)},c),{valid:c.valid&&!Tr(r.value).length,dirty:s.value}))}function QK(e,t,n){const r=RO(n),o=n==null?void 0:n.initialValues,s=Ct(r),u=Ct(Tt(r));function c(f,d=!1){s.value=Hh(Tt(s.value)||{},Tt(f)),u.value=Hh(Tt(u.value)||{},Tt(f)),d&&e.value.forEach(g=>{if(g.touched)return;const p=Jn(s.value,g.path);os(t,g.path,Tt(p))})}return bt(o)&&Cn(o,f=>{f&&c(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:c}}const JK=So({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=oo(e,"initialValues"),r=oo(e,"validationSchema"),o=oo(e,"keepValues"),{errors:s,errorBag:u,values:c,meta:f,isSubmitting:d,isValidating:g,submitCount:h,controlledValues:p,validate:v,validateField:_,handleReset:E,resetForm:S,handleSubmit:b,setErrors:k,setFieldError:x,setFieldValue:C,setValues:U,setFieldTouched:D,setTouched:Y,resetField:j}=YK({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),q=b((Le,{evt:he})=>{IO(he)&&he.target.submit()},e.onInvalidSubmit),P=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):q;function Ie(Le){gb(Le)&&Le.preventDefault(),E(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ie(Le,he){return b(typeof Le=="function"&&!he?Le:he,e.onInvalidSubmit)(Le)}function we(){return Tt(c)}function De(){return Tt(f.value)}function qe(){return Tt(s.value)}function ce(){return{meta:f.value,errors:s.value,errorBag:u.value,values:c,isSubmitting:d.value,isValidating:g.value,submitCount:h.value,controlledValues:p.value,validate:v,validateField:_,handleSubmit:ie,handleReset:E,submitForm:q,setErrors:k,setFieldError:x,setFieldValue:C,setValues:U,setFieldTouched:D,setTouched:Y,resetForm:S,resetField:j,getValues:we,getMeta:De,getErrors:qe}}return t.expose({setFieldError:x,setErrors:k,setFieldValue:C,setValues:U,setFieldTouched:D,setTouched:Y,resetForm:S,validate:v,validateField:_,resetField:j,getValues:we,getMeta:De,getErrors:qe}),function(){const he=e.as==="form"?e.as:e.as?od(e.as):null,st=yb(he,t,ce);return he?Oi(he,Object.assign(Object.assign(Object.assign({},he==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:P,onReset:Ie}),st):st}}}),ZK=JK,eW=So({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=mr(Wd,void 0),r=Fe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?od(e.as):e.as,u=yb(s,t,o),c=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u==null?void 0:u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Oi(s||"span",c,r.value):Oi(s,c,u)}}}),tW=eW;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Wf={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},nW=e=>{if(!!e)return Array.isArray(e)?e[0]:e.locale};function Il(e,t){return Array.isArray(e)?e[0]:e[t]}function Po(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const PO=(e,t)=>{if(Po(e))return!0;const n=nW(t);if(Array.isArray(e))return e.every(o=>PO(o,{locale:n}));const r=String(e);return n?(Wf[n]||Wf.en).test(r):Object.keys(Wf).some(o=>Wf[o].test(r))},rW=(e,t)=>{const n=Il(t,"target");return String(e)===String(n)},iW=e=>{if(Po(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function oW(e){return e==null}function sW(e){return Array.isArray(e)&&e.length===0}const xO=(e,t)=>{if(Po(e))return!0;const n=Il(t,"length");return Array.isArray(e)?e.every(r=>xO(r,{length:n})):[...String(e)].length<=Number(n)},DO=(e,t)=>{if(Po(e))return!0;const n=Il(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>DO(r,{max:n})):Number(e)<=Number(n)},LO=(e,t)=>{if(Po(e))return!0;const n=Il(t,"length");return Array.isArray(e)?e.every(r=>LO(r,{length:n})):[...String(e)].length>=Number(n)},MO=(e,t)=>{if(Po(e))return!0;const n=Il(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>MO(r,{min:n})):Number(e)>=Number(n)},FO=(e,t)=>Po(e)?!0:Array.isArray(e)?e.every(n=>FO(n,t)):Array.from(t).some(n=>n==e),tA=(e,t)=>Po(e)?!0:!FO(e,t),nA=e=>oW(e)||sW(e)||e===!1?!1:!!String(e).trim().length,aW={install(e){e.component("VeeForm",ZK),e.component("VeeField",GK),e.component("ErrorMessage",tW),Dr("required",nA),Dr("tos",nA),Dr("min",LO),Dr("max",xO),Dr("alpha_spaces",PO),Dr("email",iW),Dr("min_value",MO),Dr("max_value",DO),Dr("passwords_mismatch",rW),Dr("excluded",tA),Dr("country_excluded",tA),kK({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},uW={beforeMount(e,t){let n=`fa fa-${t.value} text-xl`;t.arg==="full"&&(n=t.value),t.modifiers.right&&(n+=" float-right"),t.modifiers.yellow?n+=" text-yellow-400":n+=" text-green-400",e.innerHTML+=`<i class="${n}"></i>`}};/*!
  * shared v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const uy=typeof window<"u",Li=(e,t=!1)=>t?Symbol.for(e):Symbol(e),cW=(e,t,n)=>lW({l:e,k:t,s:n}),lW=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),rn=e=>typeof e=="number"&&isFinite(e),fW=e=>VO(e)==="[object Date]",To=e=>VO(e)==="[object RegExp]",zd=e=>We(e)&&Object.keys(e).length===0,_n=Object.assign;let rA;const wi=()=>rA||(rA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function iA(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hW=Object.prototype.hasOwnProperty;function _b(e,t){return hW.call(e,t)}const Ot=Array.isArray,Bt=e=>typeof e=="function",pe=e=>typeof e=="string",Ze=e=>typeof e=="boolean",vt=e=>e!==null&&typeof e=="object",UO=Object.prototype.toString,VO=e=>UO.call(e),We=e=>{if(!vt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},dW=e=>e==null?"":Ot(e)||We(e)&&e.toString===UO?JSON.stringify(e,null,2):String(e);function pW(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}function bb(e){let t=e;return()=>++t}function mW(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}/*!
  * message-compiler v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function gW(e,t,n){return{line:e,column:t,offset:n}}function cy(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const vW=/\{([0-9a-zA-Z]+)\}/g;function yW(e,...t){return t.length===1&&_W(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(vW,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const jO=Object.assign,oA=e=>typeof e=="string",_W=e=>e!==null&&typeof e=="object";function BO(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},bW={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function pu(e,t,n={}){const{domain:r,messages:o,args:s}=n,u=yW((o||bW)[e]||"",...s||[]),c=new SyntaxError(String(u));return c.code=e,t&&(c.location=t),c.domain=r,c}function wW(e){throw e}const _i=" ",EW="\r",Fn=`
`,IW=String.fromCharCode(8232),TW=String.fromCharCode(8233);function SW(e){const t=e;let n=0,r=1,o=1,s=0;const u=Y=>t[Y]===EW&&t[Y+1]===Fn,c=Y=>t[Y]===Fn,f=Y=>t[Y]===TW,d=Y=>t[Y]===IW,g=Y=>u(Y)||c(Y)||f(Y)||d(Y),h=()=>n,p=()=>r,v=()=>o,_=()=>s,E=Y=>u(Y)||f(Y)||d(Y)?Fn:t[Y],S=()=>E(n),b=()=>E(n+s);function k(){return s=0,g(n)&&(r++,o=0),u(n)&&n++,n++,o++,t[n]}function x(){return u(n+s)&&s++,s++,t[n+s]}function C(){n=0,r=1,o=1,s=0}function U(Y=0){s=Y}function D(){const Y=n+s;for(;Y!==n;)k();s=0}return{index:h,line:p,column:v,peekOffset:_,charAt:E,currentChar:S,currentPeek:b,next:k,peek:x,reset:C,resetPeek:U,skipToPeek:D}}const Qi=void 0,AW=".",sA="'",kW="tokenizer";function NW(e,t={}){const n=t.location!==!1,r=SW(e),o=()=>r.index(),s=()=>gW(r.line(),r.column(),r.index()),u=s(),c=o(),f={currentType:14,offset:c,startLoc:u,endLoc:u,lastType:14,lastOffset:c,lastStartLoc:u,lastEndLoc:u,braceNest:0,inLinked:!1,text:""},d=()=>f,{onError:g}=t;function h(T,I,N,...L){const B=d();if(I.column+=N,I.offset+=N,g){const Q=n?cy(B.startLoc,I):null,ee=pu(T,Q,{domain:kW,args:L});g(ee)}}function p(T,I,N){T.endLoc=s(),T.currentType=I;const L={type:I};return n&&(L.loc=cy(T.startLoc,T.endLoc)),N!=null&&(L.value=N),L}const v=T=>p(T,14);function _(T,I){return T.currentChar()===I?(T.next(),I):(h(Ue.EXPECTED_TOKEN,s(),0,I),"")}function E(T){let I="";for(;T.currentPeek()===_i||T.currentPeek()===Fn;)I+=T.currentPeek(),T.peek();return I}function S(T){const I=E(T);return T.skipToPeek(),I}function b(T){if(T===Qi)return!1;const I=T.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I===95}function k(T){if(T===Qi)return!1;const I=T.charCodeAt(0);return I>=48&&I<=57}function x(T,I){const{currentType:N}=I;if(N!==2)return!1;E(T);const L=b(T.currentPeek());return T.resetPeek(),L}function C(T,I){const{currentType:N}=I;if(N!==2)return!1;E(T);const L=T.currentPeek()==="-"?T.peek():T.currentPeek(),B=k(L);return T.resetPeek(),B}function U(T,I){const{currentType:N}=I;if(N!==2)return!1;E(T);const L=T.currentPeek()===sA;return T.resetPeek(),L}function D(T,I){const{currentType:N}=I;if(N!==8)return!1;E(T);const L=T.currentPeek()===".";return T.resetPeek(),L}function Y(T,I){const{currentType:N}=I;if(N!==9)return!1;E(T);const L=b(T.currentPeek());return T.resetPeek(),L}function j(T,I){const{currentType:N}=I;if(!(N===8||N===12))return!1;E(T);const L=T.currentPeek()===":";return T.resetPeek(),L}function q(T,I){const{currentType:N}=I;if(N!==10)return!1;const L=()=>{const Q=T.currentPeek();return Q==="{"?b(T.peek()):Q==="@"||Q==="%"||Q==="|"||Q===":"||Q==="."||Q===_i||!Q?!1:Q===Fn?(T.peek(),L()):b(Q)},B=L();return T.resetPeek(),B}function P(T){E(T);const I=T.currentPeek()==="|";return T.resetPeek(),I}function Ie(T){const I=E(T),N=T.currentPeek()==="%"&&T.peek()==="{";return T.resetPeek(),{isModulo:N,hasSpace:I.length>0}}function ie(T,I=!0){const N=(B=!1,Q="",ee=!1)=>{const oe=T.currentPeek();return oe==="{"?Q==="%"?!1:B:oe==="@"||!oe?Q==="%"?!0:B:oe==="%"?(T.peek(),N(B,"%",!0)):oe==="|"?Q==="%"||ee?!0:!(Q===_i||Q===Fn):oe===_i?(T.peek(),N(!0,_i,ee)):oe===Fn?(T.peek(),N(!0,Fn,ee)):!0},L=N();return I&&T.resetPeek(),L}function we(T,I){const N=T.currentChar();return N===Qi?Qi:I(N)?(T.next(),N):null}function De(T){return we(T,N=>{const L=N.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===95||L===36})}function qe(T){return we(T,N=>{const L=N.charCodeAt(0);return L>=48&&L<=57})}function ce(T){return we(T,N=>{const L=N.charCodeAt(0);return L>=48&&L<=57||L>=65&&L<=70||L>=97&&L<=102})}function Le(T){let I="",N="";for(;I=qe(T);)N+=I;return N}function he(T){S(T);const I=T.currentChar();return I!=="%"&&h(Ue.EXPECTED_TOKEN,s(),0,I),T.next(),"%"}function st(T){let I="";for(;;){const N=T.currentChar();if(N==="{"||N==="}"||N==="@"||N==="|"||!N)break;if(N==="%")if(ie(T))I+=N,T.next();else break;else if(N===_i||N===Fn)if(ie(T))I+=N,T.next();else{if(P(T))break;I+=N,T.next()}else I+=N,T.next()}return I}function yt(T){S(T);let I="",N="";for(;I=De(T);)N+=I;return T.currentChar()===Qi&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),N}function At(T){S(T);let I="";return T.currentChar()==="-"?(T.next(),I+=`-${Le(T)}`):I+=Le(T),T.currentChar()===Qi&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),I}function It(T){S(T),_(T,"'");let I="",N="";const L=Q=>Q!==sA&&Q!==Fn;for(;I=we(T,L);)I==="\\"?N+=ft(T):N+=I;const B=T.currentChar();return B===Fn||B===Qi?(h(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),B===Fn&&(T.next(),_(T,"'")),N):(_(T,"'"),N)}function ft(T){const I=T.currentChar();switch(I){case"\\":case"'":return T.next(),`\\${I}`;case"u":return en(T,I,4);case"U":return en(T,I,6);default:return h(Ue.UNKNOWN_ESCAPE_SEQUENCE,s(),0,I),""}}function en(T,I,N){_(T,I);let L="";for(let B=0;B<N;B++){const Q=ce(T);if(!Q){h(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${I}${L}${T.currentChar()}`);break}L+=Q}return`\\${I}${L}`}function ge(T){S(T);let I="",N="";const L=B=>B!=="{"&&B!=="}"&&B!==_i&&B!==Fn;for(;I=we(T,L);)N+=I;return N}function ve(T){let I="",N="";for(;I=De(T);)N+=I;return N}function $(T){const I=(N=!1,L)=>{const B=T.currentChar();return B==="{"||B==="%"||B==="@"||B==="|"||B==="("||B===")"||!B||B===_i?L:B===Fn||B===AW?(L+=B,T.next(),I(N,L)):(L+=B,T.next(),I(!0,L))};return I(!1,"")}function z(T){S(T);const I=_(T,"|");return S(T),I}function se(T,I){let N=null;switch(T.currentChar()){case"{":return I.braceNest>=1&&h(Ue.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),T.next(),N=p(I,2,"{"),S(T),I.braceNest++,N;case"}":return I.braceNest>0&&I.currentType===2&&h(Ue.EMPTY_PLACEHOLDER,s(),0),T.next(),N=p(I,3,"}"),I.braceNest--,I.braceNest>0&&S(T),I.inLinked&&I.braceNest===0&&(I.inLinked=!1),N;case"@":return I.braceNest>0&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),N=le(T,I)||v(I),I.braceNest=0,N;default:let B=!0,Q=!0,ee=!0;if(P(T))return I.braceNest>0&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),N=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,N;if(I.braceNest>0&&(I.currentType===5||I.currentType===6||I.currentType===7))return h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),I.braceNest=0,Re(T,I);if(B=x(T,I))return N=p(I,5,yt(T)),S(T),N;if(Q=C(T,I))return N=p(I,6,At(T)),S(T),N;if(ee=U(T,I))return N=p(I,7,It(T)),S(T),N;if(!B&&!Q&&!ee)return N=p(I,13,ge(T)),h(Ue.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,N.value),S(T),N;break}return N}function le(T,I){const{currentType:N}=I;let L=null;const B=T.currentChar();switch((N===8||N===9||N===12||N===10)&&(B===Fn||B===_i)&&h(Ue.INVALID_LINKED_FORMAT,s(),0),B){case"@":return T.next(),L=p(I,8,"@"),I.inLinked=!0,L;case".":return S(T),T.next(),p(I,9,".");case":":return S(T),T.next(),p(I,10,":");default:return P(T)?(L=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,L):D(T,I)||j(T,I)?(S(T),le(T,I)):Y(T,I)?(S(T),p(I,12,ve(T))):q(T,I)?(S(T),B==="{"?se(T,I)||L:p(I,11,$(T))):(N===8&&h(Ue.INVALID_LINKED_FORMAT,s(),0),I.braceNest=0,I.inLinked=!1,Re(T,I))}}function Re(T,I){let N={type:14};if(I.braceNest>0)return se(T,I)||v(I);if(I.inLinked)return le(T,I)||v(I);switch(T.currentChar()){case"{":return se(T,I)||v(I);case"}":return h(Ue.UNBALANCED_CLOSING_BRACE,s(),0),T.next(),p(I,3,"}");case"@":return le(T,I)||v(I);default:if(P(T))return N=p(I,1,z(T)),I.braceNest=0,I.inLinked=!1,N;const{isModulo:B,hasSpace:Q}=Ie(T);if(B)return Q?p(I,0,st(T)):p(I,4,he(T));if(ie(T))return p(I,0,st(T));break}return N}function O(){const{currentType:T,offset:I,startLoc:N,endLoc:L}=f;return f.lastType=T,f.lastOffset=I,f.lastStartLoc=N,f.lastEndLoc=L,f.offset=o(),f.startLoc=s(),r.currentChar()===Qi?p(f,14):Re(r,f)}return{nextToken:O,currentOffset:o,currentPosition:s,context:d}}const CW="parser",OW=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function RW(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"\uFFFD"}}}function PW(e={}){const t=e.location!==!1,{onError:n}=e;function r(b,k,x,C,...U){const D=b.currentPosition();if(D.offset+=C,D.column+=C,n){const Y=t?cy(x,D):null,j=pu(k,Y,{domain:CW,args:U});n(j)}}function o(b,k,x){const C={type:b};return t&&(C.start=k,C.end=k,C.loc={start:x,end:x}),C}function s(b,k,x,C){C&&(b.type=C),t&&(b.end=k,b.loc&&(b.loc.end=x))}function u(b,k){const x=b.context(),C=o(3,x.offset,x.startLoc);return C.value=k,s(C,b.currentOffset(),b.currentPosition()),C}function c(b,k){const x=b.context(),{lastOffset:C,lastStartLoc:U}=x,D=o(5,C,U);return D.index=parseInt(k,10),b.nextToken(),s(D,b.currentOffset(),b.currentPosition()),D}function f(b,k){const x=b.context(),{lastOffset:C,lastStartLoc:U}=x,D=o(4,C,U);return D.key=k,b.nextToken(),s(D,b.currentOffset(),b.currentPosition()),D}function d(b,k){const x=b.context(),{lastOffset:C,lastStartLoc:U}=x,D=o(9,C,U);return D.value=k.replace(OW,RW),b.nextToken(),s(D,b.currentOffset(),b.currentPosition()),D}function g(b){const k=b.nextToken(),x=b.context(),{lastOffset:C,lastStartLoc:U}=x,D=o(8,C,U);return k.type!==12?(r(b,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,x.lastStartLoc,0),D.value="",s(D,C,U),{nextConsumeToken:k,node:D}):(k.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,ei(k)),D.value=k.value||"",s(D,b.currentOffset(),b.currentPosition()),{node:D})}function h(b,k){const x=b.context(),C=o(7,x.offset,x.startLoc);return C.value=k,s(C,b.currentOffset(),b.currentPosition()),C}function p(b){const k=b.context(),x=o(6,k.offset,k.startLoc);let C=b.nextToken();if(C.type===9){const U=g(b);x.modifier=U.node,C=U.nextConsumeToken||b.nextToken()}switch(C.type!==10&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(C)),C=b.nextToken(),C.type===2&&(C=b.nextToken()),C.type){case 11:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(C)),x.key=h(b,C.value||"");break;case 5:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(C)),x.key=f(b,C.value||"");break;case 6:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(C)),x.key=c(b,C.value||"");break;case 7:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(C)),x.key=d(b,C.value||"");break;default:r(b,Ue.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const U=b.context(),D=o(7,U.offset,U.startLoc);return D.value="",s(D,U.offset,U.startLoc),x.key=D,s(x,U.offset,U.startLoc),{nextConsumeToken:C,node:x}}return s(x,b.currentOffset(),b.currentPosition()),{node:x}}function v(b){const k=b.context(),x=k.currentType===1?b.currentOffset():k.offset,C=k.currentType===1?k.endLoc:k.startLoc,U=o(2,x,C);U.items=[];let D=null;do{const q=D||b.nextToken();switch(D=null,q.type){case 0:q.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(q)),U.items.push(u(b,q.value||""));break;case 6:q.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(q)),U.items.push(c(b,q.value||""));break;case 5:q.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(q)),U.items.push(f(b,q.value||""));break;case 7:q.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,ei(q)),U.items.push(d(b,q.value||""));break;case 8:const P=p(b);U.items.push(P.node),D=P.nextConsumeToken||null;break}}while(k.currentType!==14&&k.currentType!==1);const Y=k.currentType===1?k.lastOffset:b.currentOffset(),j=k.currentType===1?k.lastEndLoc:b.currentPosition();return s(U,Y,j),U}function _(b,k,x,C){const U=b.context();let D=C.items.length===0;const Y=o(1,k,x);Y.cases=[],Y.cases.push(C);do{const j=v(b);D||(D=j.items.length===0),Y.cases.push(j)}while(U.currentType!==14);return D&&r(b,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,x,0),s(Y,b.currentOffset(),b.currentPosition()),Y}function E(b){const k=b.context(),{offset:x,startLoc:C}=k,U=v(b);return k.currentType===14?U:_(b,x,C,U)}function S(b){const k=NW(b,jO({},e)),x=k.context(),C=o(0,x.offset,x.startLoc);return t&&C.loc&&(C.loc.source=b),C.body=E(k),e.onCacheKey&&(C.cacheKey=e.onCacheKey(b)),x.currentType!==14&&r(k,Ue.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,b[x.offset]||""),s(C,k.currentOffset(),k.currentPosition()),C}return{parse:S}}function ei(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"\u2026":t}function xW(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function aA(e,t){for(let n=0;n<e.length;n++)wb(e[n],t)}function wb(e,t){switch(e.type){case 1:aA(e.cases,t),t.helper("plural");break;case 2:aA(e.items,t);break;case 6:wb(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function DW(e,t={}){const n=xW(e);n.helper("normalize"),e.body&&wb(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function LW(e){const t=e.body;return t.type===2?uA(t):t.cases.forEach(n=>uA(n)),e}function uA(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=BO(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const MW="minifier";function ya(e){switch(e.t=e.type,e.type){case 0:const t=e;ya(t.body),t.b=t.body,delete t.body;break;case 1:const n=e,r=n.cases;for(let g=0;g<r.length;g++)ya(r[g]);n.c=r,delete n.cases;break;case 2:const o=e,s=o.items;for(let g=0;g<s.length;g++)ya(s[g]);o.i=s,delete o.items,o.static&&(o.s=o.static,delete o.static);break;case 3:case 9:case 8:case 7:const u=e;u.value&&(u.v=u.value,delete u.value);break;case 6:const c=e;ya(c.key),c.k=c.key,delete c.key,c.modifier&&(ya(c.modifier),c.m=c.modifier,delete c.modifier);break;case 5:const f=e;f.i=f.index,delete f.index;break;case 4:const d=e;d.k=d.key,delete d.key;break;default:throw pu(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:MW,args:[e.type]})}delete e.type}const FW="parser";function UW(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:s}=t,u=t.location!==!1,c={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0};u&&e.loc&&(c.source=e.loc.source);const f=()=>c;function d(S,b){c.code+=S}function g(S,b=!0){const k=b?o:"";d(s?k+"  ".repeat(S):k)}function h(S=!0){const b=++c.indentLevel;S&&g(b)}function p(S=!0){const b=--c.indentLevel;S&&g(b)}function v(){g(c.indentLevel)}return{context:f,push:d,indent:h,deindent:p,newline:v,helper:S=>`_${S}`,needIndent:()=>c.needIndent}}function VW(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Za(e,t.key),t.modifier?(e.push(", "),Za(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function jW(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o&&(Za(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function BW(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let s=0;s<o&&(Za(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function $W(e,t){t.body?Za(e,t.body):e.push("null")}function Za(e,t){const{helper:n}=e;switch(t.type){case 0:$W(e,t);break;case 1:BW(e,t);break;case 2:jW(e,t);break;case 6:VW(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw pu(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:FW,args:[t.type]})}}const qW=(e,t={})=>{const n=oA(t.mode)?t.mode:"normal",r=oA(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,u=t.needIndent?t.needIndent:n!=="arrow",c=e.helpers||[],f=UW(e,{mode:n,filename:r,sourceMap:o,breakLineCode:s,needIndent:u});f.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),f.indent(u),c.length>0&&(f.push(`const { ${BO(c.map(h=>`${h}: _${h}`),", ")} } = ctx`),f.newline()),f.push("return "),Za(f,e),f.deindent(u),f.push("}"),delete e.helpers;const{code:d,map:g}=f.context();return{ast:e,code:d,map:g?g.toJSON():void 0}};function HW(e,t={}){const n=jO({},t),r=!!n.jit,o=!!n.minify,s=n.optimize==null?!0:n.optimize,c=PW(n).parse(e);return r?(s&&LW(c),o&&ya(c),{ast:c,code:""}):(DW(c,n),qW(c,n))}/*!
  * core-base v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function KW(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(wi().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(wi().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(wi().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const xo=[];xo[0]={w:[0],i:[3,0],["["]:[4],o:[7]};xo[1]={w:[1],["."]:[2],["["]:[4],o:[7]};xo[2]={w:[2],i:[3,0],[0]:[3,0]};xo[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};xo[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};xo[5]={["'"]:[4,0],o:8,l:[5,0]};xo[6]={['"']:[4,0],o:8,l:[6,0]};const WW=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function GW(e){return WW.test(e)}function zW(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function YW(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function XW(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:GW(t)?zW(t):"*"+t}function QW(e){const t=[];let n=-1,r=0,o=0,s,u,c,f,d,g,h;const p=[];p[0]=()=>{u===void 0?u=c:u+=c},p[1]=()=>{u!==void 0&&(t.push(u),u=void 0)},p[2]=()=>{p[0](),o++},p[3]=()=>{if(o>0)o--,r=4,p[0]();else{if(o=0,u===void 0||(u=XW(u),u===!1))return!1;p[1]()}};function v(){const _=e[n+1];if(r===5&&_==="'"||r===6&&_==='"')return n++,c="\\"+_,p[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&v())){if(f=YW(s),h=xo[r],d=h[f]||h.l||8,d===8||(r=d[0],d[1]!==void 0&&(g=p[d[1]],g&&(c=s,g()===!1))))return;if(r===7)return t}}const cA=new Map;function JW(e,t){return vt(e)?e[t]:null}function ZW(e,t){if(!vt(e))return null;let n=cA.get(t);if(n||(n=QW(t),n&&cA.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;for(;s<r;){const u=o[n[s]];if(u===void 0)return null;o=u,s++}return o}const eG=e=>e,tG=e=>"",nG="text",rG=e=>e.length===0?"":pW(e),iG=dW;function lA(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function oG(e){const t=rn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(rn(e.named.count)||rn(e.named.n))?rn(e.named.count)?e.named.count:rn(e.named.n)?e.named.n:t:t}function sG(e,t){t.count||(t.count=e),t.n||(t.n=e)}function aG(e={}){const t=e.locale,n=oG(e),r=vt(e.pluralRules)&&pe(t)&&Bt(e.pluralRules[t])?e.pluralRules[t]:lA,o=vt(e.pluralRules)&&pe(t)&&Bt(e.pluralRules[t])?lA:void 0,s=b=>b[r(n,b.length,o)],u=e.list||[],c=b=>u[b],f=e.named||{};rn(e.pluralIndex)&&sG(n,f);const d=b=>f[b];function g(b){const k=Bt(e.messages)?e.messages(b):vt(e.messages)?e.messages[b]:!1;return k||(e.parent?e.parent.message(b):tG)}const h=b=>e.modifiers?e.modifiers[b]:eG,p=We(e.processor)&&Bt(e.processor.normalize)?e.processor.normalize:rG,v=We(e.processor)&&Bt(e.processor.interpolate)?e.processor.interpolate:iG,_=We(e.processor)&&pe(e.processor.type)?e.processor.type:nG,S={list:c,named:d,plural:s,linked:(b,...k)=>{const[x,C]=k;let U="text",D="";k.length===1?vt(x)?(D=x.modifier||D,U=x.type||U):pe(x)&&(D=x||D):k.length===2&&(pe(x)&&(D=x||D),pe(C)&&(U=C||U));const Y=g(b)(S),j=U==="vnode"&&Ot(Y)&&D?Y[0]:Y;return D?h(D)(j,U):j},message:g,type:_,interpolate:v,normalize:p,values:_n({},u,f)};return S}let Xc=null;function uG(e){Xc=e}function cG(e,t,n){Xc&&Xc.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const lG=fG("function:translate");function fG(e){return t=>Xc&&Xc.emit(e,t)}const hG={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function Eb(e,t){return t.locale!=null?fA(t.locale):fA(e.locale)}let rv;function fA(e){return pe(e)?e:rv!=null&&e.resolvedOnce?rv:rv=e()}function dG(e,t,n){return[...new Set([n,...Ot(t)?t:vt(t)?Object.keys(t):pe(t)?[t]:[n]])]}function $O(e,t,n){const r=pe(n)?n:eu,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(r);if(!s){s=[];let u=[n];for(;Ot(u);)u=hA(s,u,t);const c=Ot(t)||!We(t)?t:t.default?t.default:null;u=pe(c)?[c]:c,Ot(u)&&hA(s,u,!1),o.__localeChainCache.set(r,s)}return s}function hA(e,t,n){let r=!0;for(let o=0;o<t.length&&Ze(r);o++){const s=t[o];pe(s)&&(r=pG(e,t[o],n))}return r}function pG(e,t,n){let r;const o=t.split("-");do{const s=o.join("-");r=mG(e,s,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function mG(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(Ot(n)||We(n))&&n[o]&&(r=n[o])}return r}const gG="9.5.0",Yd=-1,eu="en-US",dA="",pA=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function vG(){return{upper:(e,t)=>t==="text"&&pe(e)?e.toUpperCase():t==="vnode"&&vt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&pe(e)?e.toLowerCase():t==="vnode"&&vt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&pe(e)?pA(e):t==="vnode"&&vt(e)&&"__v_isVNode"in e?pA(e.children):e}}let qO;function mA(e){qO=e}let HO;function yG(e){HO=e}let KO;function _G(e){KO=e}let WO=null;const gA=e=>{WO=e},bG=()=>WO;let GO=null;const vA=e=>{GO=e},wG=()=>GO;let yA=0;function EG(e={}){const t=Bt(e.onWarn)?e.onWarn:mW,n=pe(e.version)?e.version:gG,r=pe(e.locale)||Bt(e.locale)?e.locale:eu,o=Bt(r)?eu:r,s=Ot(e.fallbackLocale)||We(e.fallbackLocale)||pe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,u=We(e.messages)?e.messages:{[o]:{}},c=We(e.datetimeFormats)?e.datetimeFormats:{[o]:{}},f=We(e.numberFormats)?e.numberFormats:{[o]:{}},d=_n({},e.modifiers||{},vG()),g=e.pluralRules||{},h=Bt(e.missing)?e.missing:null,p=Ze(e.missingWarn)||To(e.missingWarn)?e.missingWarn:!0,v=Ze(e.fallbackWarn)||To(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,E=!!e.unresolving,S=Bt(e.postTranslation)?e.postTranslation:null,b=We(e.processor)?e.processor:null,k=Ze(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter,C=Bt(e.messageCompiler)?e.messageCompiler:qO,U=Bt(e.messageResolver)?e.messageResolver:HO||JW,D=Bt(e.localeFallbacker)?e.localeFallbacker:KO||dG,Y=vt(e.fallbackContext)?e.fallbackContext:void 0,j=e,q=vt(j.__datetimeFormatters)?j.__datetimeFormatters:new Map,P=vt(j.__numberFormatters)?j.__numberFormatters:new Map,Ie=vt(j.__meta)?j.__meta:{};yA++;const ie={version:n,cid:yA,locale:r,fallbackLocale:s,messages:u,modifiers:d,pluralRules:g,missing:h,missingWarn:p,fallbackWarn:v,fallbackFormat:_,unresolving:E,postTranslation:S,processor:b,warnHtmlMessage:k,escapeParameter:x,messageCompiler:C,messageResolver:U,localeFallbacker:D,fallbackContext:Y,onWarn:t,__meta:Ie};return ie.datetimeFormats=c,ie.numberFormats=f,ie.__datetimeFormatters=q,ie.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&cG(ie,n,Ie),ie}function Ib(e,t,n,r,o){const{missing:s,onWarn:u}=e;if(s!==null){const c=s(e,n,t,o);return pe(c)?c:t}else return t}function oc(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function iv(e){return n=>IG(n,e)}function IG(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,o=r.c||r.cases;return e.plural(o.reduce((s,u)=>[...s,_A(e,u)],[]))}else return _A(e,n)}function _A(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((o,s)=>[...o,ly(e,s)],[]);return e.normalize(r)}}function ly(e,t){const n=t.t||t.type;switch(n){case 3:const r=t;return r.v||r.value;case 9:const o=t;return o.v||o.value;case 4:const s=t;return e.interpolate(e.named(s.k||s.key));case 5:const u=t;return e.interpolate(e.list(u.i!=null?u.i:u.index));case 6:const c=t,f=c.m||c.modifier;return e.linked(ly(e,c.k||c.key),f?ly(e,f):void 0,e.type);case 7:const d=t;return d.v||d.value;case 8:const g=t;return g.v||g.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const zO=Ue.__EXTEND_POINT__,Gf=bb(zO),fo={INVALID_ARGUMENT:zO,INVALID_DATE_ARGUMENT:Gf(),INVALID_ISO_DATE_ARGUMENT:Gf(),NOT_SUPPORT_NON_STRING_MESSAGE:Gf(),__EXTEND_POINT__:Gf()};function ms(e){return pu(e,null,void 0)}const YO=e=>e;let wa=Object.create(null);const Qc=e=>vt(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function XO(e,t={}){let n=!1;const r=t.onError||wW;return t.onError=o=>{n=!0,r(o)},{...HW(e,t),detectError:n}}const TG=(e,t)=>{if(!pe(e))throw ms(fo.NOT_SUPPORT_NON_STRING_MESSAGE);{Ze(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||YO)(e),o=wa[r];if(o)return o;const{code:s,detectError:u}=XO(e,t),c=new Function(`return ${s}`)();return u?c:wa[r]=c}};function SG(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&pe(e)){Ze(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||YO)(e),o=wa[r];if(o)return o;const{ast:s,detectError:u}=XO(e,{...t,location:!1,jit:!0}),c=iv(s);return u?c:wa[r]=c}else{const n=e.cacheKey;if(n){const r=wa[n];return r||(wa[n]=iv(e))}else return iv(e)}}const bA=()=>"",Mr=e=>Bt(e);function wA(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:s,fallbackLocale:u,messages:c}=e,[f,d]=fy(...t),g=Ze(d.missingWarn)?d.missingWarn:e.missingWarn,h=Ze(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,p=Ze(d.escapeParameter)?d.escapeParameter:e.escapeParameter,v=!!d.resolvedMessage,_=pe(d.default)||Ze(d.default)?Ze(d.default)?s?f:()=>f:d.default:n?s?f:()=>f:"",E=n||_!=="",S=Eb(e,d);p&&AG(d);let[b,k,x]=v?[f,S,c[S]||{}]:QO(e,f,S,u,h,g),C=b,U=f;if(!v&&!(pe(C)||Qc(C)||Mr(C))&&E&&(C=_,U=C),!v&&(!(pe(C)||Qc(C)||Mr(C))||!pe(k)))return o?Yd:f;let D=!1;const Y=()=>{D=!0},j=Mr(C)?C:JO(e,f,k,C,U,Y);if(D)return C;const q=CG(e,k,x,d),P=aG(q),Ie=kG(e,j,P),ie=r?r(Ie,f):Ie;if(__INTLIFY_PROD_DEVTOOLS__){const we={timestamp:Date.now(),key:pe(f)?f:Mr(C)?C.key:"",locale:k||(Mr(C)?C.locale:""),format:pe(C)?C:Mr(C)?C.source:"",message:ie};we.meta=_n({},e.__meta,bG()||{}),lG(we)}return ie}function AG(e){Ot(e.list)?e.list=e.list.map(t=>pe(t)?iA(t):t):vt(e.named)&&Object.keys(e.named).forEach(t=>{pe(e.named[t])&&(e.named[t]=iA(e.named[t]))})}function QO(e,t,n,r,o,s){const{messages:u,onWarn:c,messageResolver:f,localeFallbacker:d}=e,g=d(e,r,n);let h={},p,v=null;const _="translate";for(let E=0;E<g.length&&(p=g[E],h=u[p]||{},(v=f(h,t))===null&&(v=h[t]),!(pe(v)||Qc(v)||Mr(v)));E++){const S=Ib(e,t,p,s,_);S!==t&&(v=S)}return[v,p,h]}function JO(e,t,n,r,o,s){const{messageCompiler:u,warnHtmlMessage:c}=e;if(Mr(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}if(u==null){const d=()=>r;return d.locale=n,d.key=t,d}const f=u(r,NG(e,n,o,r,c,s));return f.locale=n,f.key=t,f.source=r,f}function kG(e,t,n){return t(n)}function fy(...e){const[t,n,r]=e,o={};if(!pe(t)&&!rn(t)&&!Mr(t)&&!Qc(t))throw ms(fo.INVALID_ARGUMENT);const s=rn(t)?String(t):(Mr(t),t);return rn(n)?o.plural=n:pe(n)?o.default=n:We(n)&&!zd(n)?o.named=n:Ot(n)&&(o.list=n),rn(r)?o.plural=r:pe(r)?o.default=r:We(r)&&_n(o,r),[s,o]}function NG(e,t,n,r,o,s){return{locale:t,key:n,warnHtmlMessage:o,onError:u=>{throw s&&s(u),u},onCacheKey:u=>cW(t,n,u)}}function CG(e,t,n,r){const{modifiers:o,pluralRules:s,messageResolver:u,fallbackLocale:c,fallbackWarn:f,missingWarn:d,fallbackContext:g}=e,p={locale:t,modifiers:o,pluralRules:s,messages:v=>{let _=u(n,v);if(_==null&&g){const[,,E]=QO(g,v,t,c,f,d);_=u(E,v)}if(pe(_)||Qc(_)){let E=!1;const b=JO(e,v,t,_,v,()=>{E=!0});return E?bA:b}else return Mr(_)?_:bA}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),rn(r.plural)&&(p.pluralIndex=r.plural),p}function EA(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__datetimeFormatters:c}=e,[f,d,g,h]=hy(...t),p=Ze(g.missingWarn)?g.missingWarn:e.missingWarn;Ze(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=Eb(e,g),E=u(e,o,_);if(!pe(f)||f==="")return new Intl.DateTimeFormat(_,h).format(d);let S={},b,k=null;const x="datetime format";for(let D=0;D<E.length&&(b=E[D],S=n[b]||{},k=S[f],!We(k));D++)Ib(e,f,b,p,x);if(!We(k)||!pe(b))return r?Yd:f;let C=`${b}__${f}`;zd(h)||(C=`${C}__${JSON.stringify(h)}`);let U=c.get(C);return U||(U=new Intl.DateTimeFormat(b,_n({},k,h)),c.set(C,U)),v?U.formatToParts(d):U.format(d)}const ZO=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function hy(...e){const[t,n,r,o]=e,s={};let u={},c;if(pe(t)){const f=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!f)throw ms(fo.INVALID_ISO_DATE_ARGUMENT);const d=f[3]?f[3].trim().startsWith("T")?`${f[1].trim()}${f[3].trim()}`:`${f[1].trim()}T${f[3].trim()}`:f[1].trim();c=new Date(d);try{c.toISOString()}catch{throw ms(fo.INVALID_ISO_DATE_ARGUMENT)}}else if(fW(t)){if(isNaN(t.getTime()))throw ms(fo.INVALID_DATE_ARGUMENT);c=t}else if(rn(t))c=t;else throw ms(fo.INVALID_ARGUMENT);return pe(n)?s.key=n:We(n)&&Object.keys(n).forEach(f=>{ZO.includes(f)?u[f]=n[f]:s[f]=n[f]}),pe(r)?s.locale=r:We(r)&&(u=r),We(o)&&(u=o),[s.key||"",c,s,u]}function IA(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;!r.__datetimeFormatters.has(s)||r.__datetimeFormatters.delete(s)}}function TA(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__numberFormatters:c}=e,[f,d,g,h]=dy(...t),p=Ze(g.missingWarn)?g.missingWarn:e.missingWarn;Ze(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=Eb(e,g),E=u(e,o,_);if(!pe(f)||f==="")return new Intl.NumberFormat(_,h).format(d);let S={},b,k=null;const x="number format";for(let D=0;D<E.length&&(b=E[D],S=n[b]||{},k=S[f],!We(k));D++)Ib(e,f,b,p,x);if(!We(k)||!pe(b))return r?Yd:f;let C=`${b}__${f}`;zd(h)||(C=`${C}__${JSON.stringify(h)}`);let U=c.get(C);return U||(U=new Intl.NumberFormat(b,_n({},k,h)),c.set(C,U)),v?U.formatToParts(d):U.format(d)}const eR=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function dy(...e){const[t,n,r,o]=e,s={};let u={};if(!rn(t))throw ms(fo.INVALID_ARGUMENT);const c=t;return pe(n)?s.key=n:We(n)&&Object.keys(n).forEach(f=>{eR.includes(f)?u[f]=n[f]:s[f]=n[f]}),pe(r)?s.locale=r:We(r)&&(u=r),We(o)&&(u=o),[s.key||"",c,s,u]}function SA(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;!r.__numberFormatters.has(s)||r.__numberFormatters.delete(s)}}KW();/*!
  * vue-i18n v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const OG="9.5.0";function RG(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(wi().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(wi().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(wi().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(wi().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(wi().__INTLIFY_PROD_DEVTOOLS__=!1)}const tR=hG.__EXTEND_POINT__,Ji=bb(tR);Ji(),Ji(),Ji(),Ji(),Ji(),Ji(),Ji(),Ji();const nR=fo.__EXTEND_POINT__,Xn=bb(nR),Qt={UNEXPECTED_RETURN_TYPE:nR,INVALID_ARGUMENT:Xn(),MUST_BE_CALL_SETUP_TOP:Xn(),NOT_INSTALLED:Xn(),NOT_AVAILABLE_IN_LEGACY_MODE:Xn(),REQUIRED_VALUE:Xn(),INVALID_VALUE:Xn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Xn(),NOT_INSTALLED_WITH_PROVIDE:Xn(),UNEXPECTED_ERROR:Xn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Xn(),BRIDGE_SUPPORT_VUE_2_ONLY:Xn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Xn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Xn(),__EXTEND_POINT__:Xn()};function an(e,...t){return pu(e,null,void 0)}const py=Li("__translateVNode"),my=Li("__datetimeParts"),gy=Li("__numberParts"),rR=Li("__setPluralRules");Li("__intlifyMeta");const iR=Li("__injectWithOption"),vy=Li("__dispose");function yy(e){if(!vt(e))return e;for(const t in e)if(!!_b(e,t))if(!t.includes("."))vt(e[t])&&yy(e[t]);else{const n=t.split("."),r=n.length-1;let o=e,s=!1;for(let u=0;u<r;u++){if(n[u]in o||(o[n[u]]={}),!vt(o[n[u]])){s=!0;break}o=o[n[u]]}s||(o[n[r]]=e[t],delete e[t]),vt(o[n[r]])&&yy(o[n[r]])}return e}function Xd(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:s}=t,u=We(n)?n:Ot(r)?{}:{[e]:{}};if(Ot(r)&&r.forEach(c=>{if("locale"in c&&"resource"in c){const{locale:f,resource:d}=c;f?(u[f]=u[f]||{},Ec(d,u[f])):Ec(d,u)}else pe(c)&&Ec(JSON.parse(c),u)}),o==null&&s)for(const c in u)_b(u,c)&&yy(u[c]);return u}const zf=e=>!vt(e)||Ot(e);function Ec(e,t){if(zf(e)||zf(t))throw an(Qt.INVALID_VALUE);for(const n in e)_b(e,n)&&(zf(e[n])||zf(t[n])?t[n]=e[n]:Ec(e[n],t[n]))}function oR(e){return e.type}function sR(e,t,n){let r=vt(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=Xd(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(vt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(u=>{e.mergeDateTimeFormat(u,t.datetimeFormats[u])})}if(vt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(u=>{e.mergeNumberFormat(u,t.numberFormats[u])})}}}function AA(e){return xe(tl,null,e,0)}const kA="__INTLIFY_META__";let NA=0;function CA(e){return(t,n,r,o)=>e(n,r,li()||void 0,o)}const PG=()=>{const e=li();let t=null;return e&&(t=oR(e)[kA])?{[kA]:t}:null};function Tb(e={},t){const{__root:n,__injectWithOption:r}=e,o=n===void 0;let s=Ze(e.inheritLocale)?e.inheritLocale:!0;const u=Ct(n&&s?n.locale.value:pe(e.locale)?e.locale:eu),c=Ct(n&&s?n.fallbackLocale.value:pe(e.fallbackLocale)||Ot(e.fallbackLocale)||We(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:u.value),f=Ct(Xd(u.value,e)),d=Ct(We(e.datetimeFormats)?e.datetimeFormats:{[u.value]:{}}),g=Ct(We(e.numberFormats)?e.numberFormats:{[u.value]:{}});let h=n?n.missingWarn:Ze(e.missingWarn)||To(e.missingWarn)?e.missingWarn:!0,p=n?n.fallbackWarn:Ze(e.fallbackWarn)||To(e.fallbackWarn)?e.fallbackWarn:!0,v=n?n.fallbackRoot:Ze(e.fallbackRoot)?e.fallbackRoot:!0,_=!!e.fallbackFormat,E=Bt(e.missing)?e.missing:null,S=Bt(e.missing)?CA(e.missing):null,b=Bt(e.postTranslation)?e.postTranslation:null,k=n?n.warnHtmlMessage:Ze(e.warnHtmlMessage)?e.warnHtmlMessage:!0,x=!!e.escapeParameter;const C=n?n.modifiers:We(e.modifiers)?e.modifiers:{};let U=e.pluralRules||n&&n.pluralRules,D;D=(()=>{o&&vA(null);const V={version:OG,locale:u.value,fallbackLocale:c.value,messages:f.value,modifiers:C,pluralRules:U,missing:S===null?void 0:S,missingWarn:h,fallbackWarn:p,fallbackFormat:_,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:k,escapeParameter:x,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};V.datetimeFormats=d.value,V.numberFormats=g.value,V.__datetimeFormatters=We(D)?D.__datetimeFormatters:void 0,V.__numberFormatters=We(D)?D.__numberFormatters:void 0;const K=EG(V);return o&&vA(K),K})(),oc(D,u.value,c.value);function j(){return[u.value,c.value,f.value,d.value,g.value]}const q=Fe({get:()=>u.value,set:V=>{u.value=V,D.locale=u.value}}),P=Fe({get:()=>c.value,set:V=>{c.value=V,D.fallbackLocale=c.value,oc(D,u.value,V)}}),Ie=Fe(()=>f.value),ie=Fe(()=>d.value),we=Fe(()=>g.value);function De(){return Bt(b)?b:null}function qe(V){b=V,D.postTranslation=V}function ce(){return E}function Le(V){V!==null&&(S=CA(V)),E=V,D.missing=S}const he=(V,K,Te,ke,Se,F)=>{j();let M;try{__INTLIFY_PROD_DEVTOOLS__&&gA(PG()),o||(D.fallbackContext=n?wG():void 0),M=V(D)}finally{__INTLIFY_PROD_DEVTOOLS__&&gA(null),o||(D.fallbackContext=void 0)}if(rn(M)&&M===Yd){const[J,de]=K();return n&&v?ke(n):Se(J)}else{if(F(M))return M;throw an(Qt.UNEXPECTED_RETURN_TYPE)}};function st(...V){return he(K=>Reflect.apply(wA,null,[K,...V]),()=>fy(...V),"translate",K=>Reflect.apply(K.t,K,[...V]),K=>K,K=>pe(K))}function yt(...V){const[K,Te,ke]=V;if(ke&&!vt(ke))throw an(Qt.INVALID_ARGUMENT);return st(K,Te,_n({resolvedMessage:!0},ke||{}))}function At(...V){return he(K=>Reflect.apply(EA,null,[K,...V]),()=>hy(...V),"datetime format",K=>Reflect.apply(K.d,K,[...V]),()=>dA,K=>pe(K))}function It(...V){return he(K=>Reflect.apply(TA,null,[K,...V]),()=>dy(...V),"number format",K=>Reflect.apply(K.n,K,[...V]),()=>dA,K=>pe(K))}function ft(V){return V.map(K=>pe(K)||rn(K)||Ze(K)?AA(String(K)):K)}const ge={normalize:ft,interpolate:V=>V,type:"vnode"};function ve(...V){return he(K=>{let Te;const ke=K;try{ke.processor=ge,Te=Reflect.apply(wA,null,[ke,...V])}finally{ke.processor=null}return Te},()=>fy(...V),"translate",K=>K[py](...V),K=>[AA(K)],K=>Ot(K))}function $(...V){return he(K=>Reflect.apply(TA,null,[K,...V]),()=>dy(...V),"number format",K=>K[gy](...V),()=>[],K=>pe(K)||Ot(K))}function z(...V){return he(K=>Reflect.apply(EA,null,[K,...V]),()=>hy(...V),"datetime format",K=>K[my](...V),()=>[],K=>pe(K)||Ot(K))}function se(V){U=V,D.pluralRules=U}function le(V,K){if(!V)return!1;const Te=pe(K)?K:u.value,ke=T(Te);return D.messageResolver(ke,V)!==null}function Re(V){let K=null;const Te=$O(D,c.value,u.value);for(let ke=0;ke<Te.length;ke++){const Se=f.value[Te[ke]]||{},F=D.messageResolver(Se,V);if(F!=null){K=F;break}}return K}function O(V){const K=Re(V);return K!=null?K:n?n.tm(V)||{}:{}}function T(V){return f.value[V]||{}}function I(V,K){f.value[V]=K,D.messages=f.value}function N(V,K){f.value[V]=f.value[V]||{},Ec(K,f.value[V]),D.messages=f.value}function L(V){return d.value[V]||{}}function B(V,K){d.value[V]=K,D.datetimeFormats=d.value,IA(D,V,K)}function Q(V,K){d.value[V]=_n(d.value[V]||{},K),D.datetimeFormats=d.value,IA(D,V,K)}function ee(V){return g.value[V]||{}}function oe(V,K){g.value[V]=K,D.numberFormats=g.value,SA(D,V,K)}function ne(V,K){g.value[V]=_n(g.value[V]||{},K),D.numberFormats=g.value,SA(D,V,K)}NA++,n&&uy&&(Cn(n.locale,V=>{s&&(u.value=V,D.locale=V,oc(D,u.value,c.value))}),Cn(n.fallbackLocale,V=>{s&&(c.value=V,D.fallbackLocale=V,oc(D,u.value,c.value))}));const fe={id:NA,locale:q,fallbackLocale:P,get inheritLocale(){return s},set inheritLocale(V){s=V,V&&n&&(u.value=n.locale.value,c.value=n.fallbackLocale.value,oc(D,u.value,c.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:Ie,get modifiers(){return C},get pluralRules(){return U||{}},get isGlobal(){return o},get missingWarn(){return h},set missingWarn(V){h=V,D.missingWarn=h},get fallbackWarn(){return p},set fallbackWarn(V){p=V,D.fallbackWarn=p},get fallbackRoot(){return v},set fallbackRoot(V){v=V},get fallbackFormat(){return _},set fallbackFormat(V){_=V,D.fallbackFormat=_},get warnHtmlMessage(){return k},set warnHtmlMessage(V){k=V,D.warnHtmlMessage=V},get escapeParameter(){return x},set escapeParameter(V){x=V,D.escapeParameter=V},t:st,getLocaleMessage:T,setLocaleMessage:I,mergeLocaleMessage:N,getPostTranslationHandler:De,setPostTranslationHandler:qe,getMissingHandler:ce,setMissingHandler:Le,[rR]:se};return fe.datetimeFormats=ie,fe.numberFormats=we,fe.rt=yt,fe.te=le,fe.tm=O,fe.d=At,fe.n=It,fe.getDateTimeFormat=L,fe.setDateTimeFormat=B,fe.mergeDateTimeFormat=Q,fe.getNumberFormat=ee,fe.setNumberFormat=oe,fe.mergeNumberFormat=ne,fe[iR]=r,fe[py]=ve,fe[my]=z,fe[gy]=$,fe}function xG(e){const t=pe(e.locale)?e.locale:eu,n=pe(e.fallbackLocale)||Ot(e.fallbackLocale)||We(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Bt(e.missing)?e.missing:void 0,o=Ze(e.silentTranslationWarn)||To(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=Ze(e.silentFallbackWarn)||To(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,u=Ze(e.fallbackRoot)?e.fallbackRoot:!0,c=!!e.formatFallbackMessages,f=We(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,g=Bt(e.postTranslation)?e.postTranslation:void 0,h=pe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,v=Ze(e.sync)?e.sync:!0;let _=e.messages;if(We(e.sharedMessages)){const U=e.sharedMessages;_=Object.keys(U).reduce((Y,j)=>{const q=Y[j]||(Y[j]={});return _n(q,U[j]),Y},_||{})}const{__i18n:E,__root:S,__injectWithOption:b}=e,k=e.datetimeFormats,x=e.numberFormats,C=e.flatJson;return{locale:t,fallbackLocale:n,messages:_,flatJson:C,datetimeFormats:k,numberFormats:x,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:u,fallbackFormat:c,modifiers:f,pluralRules:d,postTranslation:g,warnHtmlMessage:h,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:v,__i18n:E,__root:S,__injectWithOption:b}}function _y(e={},t){{const n=Tb(xG(e)),{__extender:r}=e,o={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return Ze(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=Ze(s)?!s:s},get silentFallbackWarn(){return Ze(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=Ze(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[u,c,f]=s,d={};let g=null,h=null;if(!pe(u))throw an(Qt.INVALID_ARGUMENT);const p=u;return pe(c)?d.locale=c:Ot(c)?g=c:We(c)&&(h=c),Ot(f)?g=f:We(f)&&(h=f),Reflect.apply(n.t,n,[p,g||h||{},d])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[u,c,f]=s,d={plural:1};let g=null,h=null;if(!pe(u))throw an(Qt.INVALID_ARGUMENT);const p=u;return pe(c)?d.locale=c:rn(c)?d.plural=c:Ot(c)?g=c:We(c)&&(h=c),pe(f)?d.locale=f:Ot(f)?g=f:We(f)&&(h=f),Reflect.apply(n.t,n,[p,g||h||{},d])},te(s,u){return n.te(s,u)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,u){n.setLocaleMessage(s,u)},mergeLocaleMessage(s,u){n.mergeLocaleMessage(s,u)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,u){n.setDateTimeFormat(s,u)},mergeDateTimeFormat(s,u){n.mergeDateTimeFormat(s,u)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,u){n.setNumberFormat(s,u)},mergeNumberFormat(s,u){n.mergeNumberFormat(s,u)},getChoiceIndex(s,u){return-1}};return o.__extender=r,o}}const Sb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function DG({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>[...r,...o.type===Kt?o.children:[o]],[]):t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},{})}function aR(e){return Kt}const LG=So({name:"i18n-t",props:_n({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>rn(e)||!isNaN(e)}},Sb),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||Ab({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),u={};e.locale&&(u.locale=e.locale),e.plural!==void 0&&(u.plural=pe(e.plural)?+e.plural:e.plural);const c=DG(t,s),f=o[py](e.keypath,c,u),d=_n({},r),g=pe(e.tag)||vt(e.tag)?e.tag:aR();return Oi(g,d,f)}}}),OA=LG;function MG(e){return Ot(e)&&!pe(e[0])}function uR(e,t,n,r){const{slots:o,attrs:s}=t;return()=>{const u={part:!0};let c={};e.locale&&(u.locale=e.locale),pe(e.format)?u.key=e.format:vt(e.format)&&(pe(e.format.key)&&(u.key=e.format.key),c=Object.keys(e.format).reduce((p,v)=>n.includes(v)?_n({},p,{[v]:e.format[v]}):p,{}));const f=r(e.value,u,c);let d=[u.key];Ot(f)?d=f.map((p,v)=>{const _=o[p.type],E=_?_({[p.type]:p.value,index:v,parts:f}):[p.value];return MG(E)&&(E[0].key=`${p.type}-${v}`),E}):pe(f)&&(d=[f]);const g=_n({},s),h=pe(e.tag)||vt(e.tag)?e.tag:aR();return Oi(h,g,d)}}const FG=So({name:"i18n-n",props:_n({value:{type:Number,required:!0},format:{type:[String,Object]}},Sb),setup(e,t){const n=e.i18n||Ab({useScope:"parent",__useComponent:!0});return uR(e,t,eR,(...r)=>n[gy](...r))}}),RA=FG,UG=So({name:"i18n-d",props:_n({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Sb),setup(e,t){const n=e.i18n||Ab({useScope:"parent",__useComponent:!0});return uR(e,t,ZO,(...r)=>n[my](...r))}}),PA=UG;function VG(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function jG(e){const t=u=>{const{instance:c,modifiers:f,value:d}=u;if(!c||!c.$)throw an(Qt.UNEXPECTED_ERROR);const g=VG(e,c.$),h=xA(d);return[Reflect.apply(g.t,g,[...DA(h)]),g]};return{created:(u,c)=>{const[f,d]=t(c);uy&&e.global===d&&(u.__i18nWatcher=Cn(d.locale,()=>{c.instance&&c.instance.$forceUpdate()})),u.__composer=d,u.textContent=f},unmounted:u=>{uy&&u.__i18nWatcher&&(u.__i18nWatcher(),u.__i18nWatcher=void 0,delete u.__i18nWatcher),u.__composer&&(u.__composer=void 0,delete u.__composer)},beforeUpdate:(u,{value:c})=>{if(u.__composer){const f=u.__composer,d=xA(c);u.textContent=Reflect.apply(f.t,f,[...DA(d)])}},getSSRProps:u=>{const[c]=t(u);return{textContent:c}}}}function xA(e){if(pe(e))return{path:e};if(We(e)){if(!("path"in e))throw an(Qt.REQUIRED_VALUE,"path");return e}else throw an(Qt.INVALID_VALUE)}function DA(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,u={},c=r||{};return pe(n)&&(u.locale=n),rn(o)&&(u.plural=o),rn(s)&&(u.plural=s),[t,c,u]}function BG(e,t,...n){const r=We(n[0])?n[0]:{},o=!!r.useI18nComponentName;(Ze(r.globalInstall)?r.globalInstall:!0)&&([o?"i18n":OA.name,"I18nT"].forEach(u=>e.component(u,OA)),[RA.name,"I18nN"].forEach(u=>e.component(u,RA)),[PA.name,"I18nD"].forEach(u=>e.component(u,PA))),e.directive("t",jG(t))}function $G(e,t,n){return{beforeCreate(){const r=li();if(!r)throw an(Qt.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;if(o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root)this.$i18n=LA(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=_y(s);const u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=LA(e,o);else{this.$i18n=_y({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&sR(t,o,o),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,u)=>this.$i18n.te(s,u),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=li();if(!r)throw an(Qt.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(r),delete this.$i18n}}}function LA(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[rR](t.pluralizationRules||e.pluralizationRules);const n=Xd(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const qG=Li("global-vue-i18n");function HG(e={},t){const n=__VUE_I18N_LEGACY_API__&&Ze(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=Ze(e.globalInjection)?e.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[u,c]=KG(e,n),f=Li("");function d(p){return s.get(p)||null}function g(p,v){s.set(p,v)}function h(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(v,..._){if(v.__VUE_I18N_SYMBOL__=f,v.provide(v.__VUE_I18N_SYMBOL__,p),We(_[0])){const b=_[0];p.__composerExtend=b.__composerExtend,p.__vueI18nExtend=b.__vueI18nExtend}let E=null;!n&&r&&(E=e6(v,p.global)),__VUE_I18N_FULL_INSTALL__&&BG(v,p,..._),__VUE_I18N_LEGACY_API__&&n&&v.mixin($G(c,c.__composer,p));const S=v.unmount;v.unmount=()=>{E&&E(),p.dispose(),S()}},get global(){return c},dispose(){u.stop()},__instances:s,__getInstance:d,__setInstance:g,__deleteInstance:h};return p}}function Ab(e={}){const t=li();if(t==null)throw an(Qt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw an(Qt.NOT_INSTALLED);const n=WG(t),r=zG(n),o=oR(t),s=GG(e,o);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw an(Qt.NOT_AVAILABLE_IN_LEGACY_MODE);return JG(t,s,r,e)}if(s==="global")return sR(r,e,o),r;if(s==="parent"){let f=YG(n,t,e.__useComponent);return f==null&&(f=r),f}const u=n;let c=u.__getInstance(t);if(c==null){const f=_n({},e);"__i18n"in o&&(f.__i18n=o.__i18n),r&&(f.__root=r),c=Tb(f),u.__composerExtend&&(c[vy]=u.__composerExtend(c)),QG(u,t,c),u.__setInstance(t,c)}return c}function KG(e,t,n){const r=Ty();{const o=__VUE_I18N_LEGACY_API__&&t?r.run(()=>_y(e)):r.run(()=>Tb(e));if(o==null)throw an(Qt.UNEXPECTED_ERROR);return[r,o]}}function WG(e){{const t=mr(e.isCE?qG:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw an(e.isCE?Qt.NOT_INSTALLED_WITH_PROVIDE:Qt.UNEXPECTED_ERROR);return t}}function GG(e,t){return zd(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function zG(e){return e.mode==="composition"?e.global:e.global.__composer}function YG(e,t,n=!1){let r=null;const o=t.root;let s=XG(t,n);for(;s!=null;){const u=e;if(e.mode==="composition")r=u.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const c=u.__getInstance(s);c!=null&&(r=c.__composer,n&&r&&!r[iR]&&(r=null))}if(r!=null||o===s)break;s=s.parent}return r}function XG(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function QG(e,t,n){Zc(()=>{},t),Fy(()=>{const r=n;e.__deleteInstance(t);const o=r[vy];o&&(o(),delete r[vy])},t)}function JG(e,t,n,r={}){const o=t==="local",s=Py(null);if(o&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw an(Qt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const u=Ze(r.inheritLocale)?r.inheritLocale:!pe(r.locale),c=Ct(!o||u?n.locale.value:pe(r.locale)?r.locale:eu),f=Ct(!o||u?n.fallbackLocale.value:pe(r.fallbackLocale)||Ot(r.fallbackLocale)||We(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:c.value),d=Ct(Xd(c.value,r)),g=Ct(We(r.datetimeFormats)?r.datetimeFormats:{[c.value]:{}}),h=Ct(We(r.numberFormats)?r.numberFormats:{[c.value]:{}}),p=o?n.missingWarn:Ze(r.missingWarn)||To(r.missingWarn)?r.missingWarn:!0,v=o?n.fallbackWarn:Ze(r.fallbackWarn)||To(r.fallbackWarn)?r.fallbackWarn:!0,_=o?n.fallbackRoot:Ze(r.fallbackRoot)?r.fallbackRoot:!0,E=!!r.fallbackFormat,S=Bt(r.missing)?r.missing:null,b=Bt(r.postTranslation)?r.postTranslation:null,k=o?n.warnHtmlMessage:Ze(r.warnHtmlMessage)?r.warnHtmlMessage:!0,x=!!r.escapeParameter,C=o?n.modifiers:We(r.modifiers)?r.modifiers:{},U=r.pluralRules||o&&n.pluralRules;function D(){return[c.value,f.value,d.value,g.value,h.value]}const Y=Fe({get:()=>s.value?s.value.locale.value:c.value,set:I=>{s.value&&(s.value.locale.value=I),c.value=I}}),j=Fe({get:()=>s.value?s.value.fallbackLocale.value:f.value,set:I=>{s.value&&(s.value.fallbackLocale.value=I),f.value=I}}),q=Fe(()=>s.value?s.value.messages.value:d.value),P=Fe(()=>g.value),Ie=Fe(()=>h.value);function ie(){return s.value?s.value.getPostTranslationHandler():b}function we(I){s.value&&s.value.setPostTranslationHandler(I)}function De(){return s.value?s.value.getMissingHandler():S}function qe(I){s.value&&s.value.setMissingHandler(I)}function ce(I){return D(),I()}function Le(...I){return s.value?ce(()=>Reflect.apply(s.value.t,null,[...I])):ce(()=>"")}function he(...I){return s.value?Reflect.apply(s.value.rt,null,[...I]):""}function st(...I){return s.value?ce(()=>Reflect.apply(s.value.d,null,[...I])):ce(()=>"")}function yt(...I){return s.value?ce(()=>Reflect.apply(s.value.n,null,[...I])):ce(()=>"")}function At(I){return s.value?s.value.tm(I):{}}function It(I,N){return s.value?s.value.te(I,N):!1}function ft(I){return s.value?s.value.getLocaleMessage(I):{}}function en(I,N){s.value&&(s.value.setLocaleMessage(I,N),d.value[I]=N)}function ge(I,N){s.value&&s.value.mergeLocaleMessage(I,N)}function ve(I){return s.value?s.value.getDateTimeFormat(I):{}}function $(I,N){s.value&&(s.value.setDateTimeFormat(I,N),g.value[I]=N)}function z(I,N){s.value&&s.value.mergeDateTimeFormat(I,N)}function se(I){return s.value?s.value.getNumberFormat(I):{}}function le(I,N){s.value&&(s.value.setNumberFormat(I,N),h.value[I]=N)}function Re(I,N){s.value&&s.value.mergeNumberFormat(I,N)}const O={get id(){return s.value?s.value.id:-1},locale:Y,fallbackLocale:j,messages:q,datetimeFormats:P,numberFormats:Ie,get inheritLocale(){return s.value?s.value.inheritLocale:u},set inheritLocale(I){s.value&&(s.value.inheritLocale=I)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:C},get pluralRules(){return s.value?s.value.pluralRules:U},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackWarn(){return s.value?s.value.fallbackWarn:v},set fallbackWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackRoot(){return s.value?s.value.fallbackRoot:_},set fallbackRoot(I){s.value&&(s.value.fallbackRoot=I)},get fallbackFormat(){return s.value?s.value.fallbackFormat:E},set fallbackFormat(I){s.value&&(s.value.fallbackFormat=I)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:k},set warnHtmlMessage(I){s.value&&(s.value.warnHtmlMessage=I)},get escapeParameter(){return s.value?s.value.escapeParameter:x},set escapeParameter(I){s.value&&(s.value.escapeParameter=I)},t:Le,getPostTranslationHandler:ie,setPostTranslationHandler:we,getMissingHandler:De,setMissingHandler:qe,rt:he,d:st,n:yt,tm:At,te:It,getLocaleMessage:ft,setLocaleMessage:en,mergeLocaleMessage:ge,getDateTimeFormat:ve,setDateTimeFormat:$,mergeDateTimeFormat:z,getNumberFormat:se,setNumberFormat:le,mergeNumberFormat:Re};function T(I){I.locale.value=c.value,I.fallbackLocale.value=f.value,Object.keys(d.value).forEach(N=>{I.mergeLocaleMessage(N,d.value[N])}),Object.keys(g.value).forEach(N=>{I.mergeDateTimeFormat(N,g.value[N])}),Object.keys(h.value).forEach(N=>{I.mergeNumberFormat(N,h.value[N])}),I.escapeParameter=x,I.fallbackFormat=E,I.fallbackRoot=_,I.fallbackWarn=v,I.missingWarn=p,I.warnHtmlMessage=k}return b1(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw an(Qt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const I=s.value=e.proxy.$i18n.__composer;t==="global"?(c.value=I.locale.value,f.value=I.fallbackLocale.value,d.value=I.messages.value,g.value=I.datetimeFormats.value,h.value=I.numberFormats.value):o&&T(I)}),O}const ZG=["locale","fallbackLocale","availableLocales"],MA=["t","rt","d","n","tm","te"];function e6(e,t){const n=Object.create(null);return ZG.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s)throw an(Qt.UNEXPECTED_ERROR);const u=bt(s.value)?{get(){return s.value.value},set(c){s.value.value=c}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,o,u)}),e.config.globalProperties.$i18n=n,MA.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s||!s.value)throw an(Qt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,s)}),()=>{delete e.config.globalProperties.$i18n,MA.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}RG();__INTLIFY_JIT_COMPILATION__?mA(SG):mA(TG);yG(ZW);_G($O);if(__INTLIFY_PROD_DEVTOOLS__){const e=wi();e.__INTLIFY__=!0,uG(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const t6={listen:"Listen to Great Music!","content-1":"Up-and-Coming Artists: Discover new talent and support independent musicians making waves in the music scene.","content-2":"Join the music revolution today and let the rhythm of life fill your world. Embrace the future of music \u2013 start your journey with us!"},n6={comment_count:"No comments | 1 comment | {count} comments"},r6={accept:"I accept Music's {0}",tos:"Terms of Service"},i6={title:"Music",about:"About","login-register":"Login / Register",manage:"Manage",logout:"Logout"},o6={my_songs:"My Songs"},s6={uploads:"Upload"},a6={home:t6,song:n6,register:r6,header:i6,manage:o6,upload:s6},u6={listen:"\u7D20\u6674\u3089\u3057\u3044\u97F3\u697D\u3092\u8074\u3044\u3066\u304F\u3060\u3055\u3044!","content-1":"\u65B0\u9032\u6C17\u92ED\u306E\u30A2\u30FC\u30C6\u30A3\u30B9\u30C8: \u65B0\u3057\u3044\u624D\u80FD\u3092\u767A\u6398\u3057\u3001\u97F3\u697D\u30B7\u30FC\u30F3\u306B\u6CE2\u3092\u8D77\u3053\u3059\u72EC\u7ACB\u7CFB\u30DF\u30E5\u30FC\u30B8\u30B7\u30E3\u30F3\u3092\u30B5\u30DD\u30FC\u30C8\u3057\u307E\u3059\u3002","content-2":"\u4ECA\u3059\u3050\u97F3\u697D\u9769\u547D\u306B\u53C2\u52A0\u3057\u3066\u3001\u751F\u6D3B\u306E\u30EA\u30BA\u30E0\u3092\u6E80\u305F\u3057\u307E\u3057\u3087\u3046\u3002 \u4E16\u754C\u3002\u97F3\u697D\u306E\u672A\u6765\u3092\u53D7\u3051\u5165\u308C\u307E\u3057\u3087\u3046 \u2013 \u79C1\u305F\u3061\u3068\u4E00\u7DD2\u306B\u65C5\u3092\u59CB\u3081\u307E\u3057\u3087\u3046!"},c6={title:"\u97F3\u697D",about:"\u306B\u3064\u3044\u3066","login-register":"\u30ED\u30B0\u30A4\u30F3/\u767B\u9332",manage:"\u7BA1\u7406",logout:"\u30ED\u30B0\u30A2\u30A6\u30C8"},l6={my_songs:"\u79C1\u306E\u6B4C"},f6={uploads:"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9"},h6={home:u6,header:c6,manage:l6,upload:f6},d6=HG({locale:"en",fallbackLocale:"en",messages:{en:a6,ja:h6},numberFormats:{en:{currency:{style:"currency",currency:"UDS"}},ja:{currency:{style:"currency",currency:"JPY"}}}}),p6="modulepreload",m6=function(e){return"/Ja-music/"+e},FA={},g6=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=m6(s),s in FA)return;FA[s]=!0;const u=s.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!r)for(let g=o.length-1;g>=0;g--){const h=o[g];if(h.href===s&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":p6,u||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),u)return new Promise((g,h)=>{d.addEventListener("load",g),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};function v6(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:s,onRegisterError:u}=e;let c,f;const d=async(h=!0)=>{await f};async function g(){if("serviceWorker"in navigator){const{Workbox:h,messageSW:p}=await g6(()=>import("./workbox-window.prod.es5.fb541039.js"),[]);c=new h("/Ja-music/sw.js",{scope:"/Ja-music/",type:"classic"}),c.addEventListener("activated",v=>{v.isUpdate?window.location.reload():r==null||r()}),c.register({immediate:t}).then(v=>{s?s("/Ja-music/sw.js",v):o==null||o(v)}).catch(v=>{u==null||u(v)})}}return f=g(),d}v6({immediate:!0});let Zi;ui.onAuthStateChanged(()=>{Zi||(Zi=SF(m4),Zi.use(NF()),Zi.use(_O),Zi.use(aW),Zi.use(d6),Zi.directive("icon",uW),Zi.mount("#app"))});
